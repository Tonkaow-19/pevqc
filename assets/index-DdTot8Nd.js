(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function pE(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var bm={exports:{}},Au={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zv;function IA(){if(Zv)return Au;Zv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:i,type:s,key:d,ref:o!==void 0?o:null,props:c}}return Au.Fragment=t,Au.jsx=n,Au.jsxs=n,Au}var Jv;function CA(){return Jv||(Jv=1,bm.exports=IA()),bm.exports}var x=CA(),Tm={exports:{}},Vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wv;function DA(){if(Wv)return Vt;Wv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),M=Symbol.iterator;function O(j){return j===null||typeof j!="object"?null:(j=M&&j[M]||j["@@iterator"],typeof j=="function"?j:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,G={};function $(j,nt,ot){this.props=j,this.context=nt,this.refs=G,this.updater=ot||L}$.prototype.isReactComponent={},$.prototype.setState=function(j,nt){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,nt,"setState")},$.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function Q(){}Q.prototype=$.prototype;function at(j,nt,ot){this.props=j,this.context=nt,this.refs=G,this.updater=ot||L}var rt=at.prototype=new Q;rt.constructor=at,U(rt,$.prototype),rt.isPureReactComponent=!0;var ut=Array.isArray,ht={H:null,A:null,T:null,S:null,V:null},vt=Object.prototype.hasOwnProperty;function C(j,nt,ot,it,gt,Dt){return ot=Dt.ref,{$$typeof:i,type:j,key:nt,ref:ot!==void 0?ot:null,props:Dt}}function E(j,nt){return C(j.type,nt,void 0,void 0,void 0,j.props)}function w(j){return typeof j=="object"&&j!==null&&j.$$typeof===i}function R(j){var nt={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ot){return nt[ot]})}var I=/\/+/g;function N(j,nt){return typeof j=="object"&&j!==null&&j.key!=null?R(""+j.key):nt.toString(36)}function S(){}function te(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(S,S):(j.status="pending",j.then(function(nt){j.status==="pending"&&(j.status="fulfilled",j.value=nt)},function(nt){j.status==="pending"&&(j.status="rejected",j.reason=nt)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function ee(j,nt,ot,it,gt){var Dt=typeof j;(Dt==="undefined"||Dt==="boolean")&&(j=null);var At=!1;if(j===null)At=!0;else switch(Dt){case"bigint":case"string":case"number":At=!0;break;case"object":switch(j.$$typeof){case i:case t:At=!0;break;case A:return At=j._init,ee(At(j._payload),nt,ot,it,gt)}}if(At)return gt=gt(j),At=it===""?"."+N(j,0):it,ut(gt)?(ot="",At!=null&&(ot=At.replace(I,"$&/")+"/"),ee(gt,nt,ot,"",function(Sn){return Sn})):gt!=null&&(w(gt)&&(gt=E(gt,ot+(gt.key==null||j&&j.key===gt.key?"":(""+gt.key).replace(I,"$&/")+"/")+At)),nt.push(gt)),1;At=0;var ft=it===""?".":it+":";if(ut(j))for(var Xt=0;Xt<j.length;Xt++)it=j[Xt],Dt=ft+N(it,Xt),At+=ee(it,nt,ot,Dt,gt);else if(Xt=O(j),typeof Xt=="function")for(j=Xt.call(j),Xt=0;!(it=j.next()).done;)it=it.value,Dt=ft+N(it,Xt++),At+=ee(it,nt,ot,Dt,gt);else if(Dt==="object"){if(typeof j.then=="function")return ee(te(j),nt,ot,it,gt);throw nt=String(j),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return At}function X(j,nt,ot){if(j==null)return j;var it=[],gt=0;return ee(j,it,"","",function(Dt){return nt.call(ot,Dt,gt++)}),it}function lt(j){if(j._status===-1){var nt=j._result;nt=nt(),nt.then(function(ot){(j._status===0||j._status===-1)&&(j._status=1,j._result=ot)},function(ot){(j._status===0||j._status===-1)&&(j._status=2,j._result=ot)}),j._status===-1&&(j._status=0,j._result=nt)}if(j._status===1)return j._result.default;throw j._result}var dt=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function Ut(){}return Vt.Children={map:X,forEach:function(j,nt,ot){X(j,function(){nt.apply(this,arguments)},ot)},count:function(j){var nt=0;return X(j,function(){nt++}),nt},toArray:function(j){return X(j,function(nt){return nt})||[]},only:function(j){if(!w(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Vt.Component=$,Vt.Fragment=n,Vt.Profiler=o,Vt.PureComponent=at,Vt.StrictMode=s,Vt.Suspense=_,Vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ht,Vt.__COMPILER_RUNTIME={__proto__:null,c:function(j){return ht.H.useMemoCache(j)}},Vt.cache=function(j){return function(){return j.apply(null,arguments)}},Vt.cloneElement=function(j,nt,ot){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var it=U({},j.props),gt=j.key,Dt=void 0;if(nt!=null)for(At in nt.ref!==void 0&&(Dt=void 0),nt.key!==void 0&&(gt=""+nt.key),nt)!vt.call(nt,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&nt.ref===void 0||(it[At]=nt[At]);var At=arguments.length-2;if(At===1)it.children=ot;else if(1<At){for(var ft=Array(At),Xt=0;Xt<At;Xt++)ft[Xt]=arguments[Xt+2];it.children=ft}return C(j.type,gt,void 0,void 0,Dt,it)},Vt.createContext=function(j){return j={$$typeof:d,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:c,_context:j},j},Vt.createElement=function(j,nt,ot){var it,gt={},Dt=null;if(nt!=null)for(it in nt.key!==void 0&&(Dt=""+nt.key),nt)vt.call(nt,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(gt[it]=nt[it]);var At=arguments.length-2;if(At===1)gt.children=ot;else if(1<At){for(var ft=Array(At),Xt=0;Xt<At;Xt++)ft[Xt]=arguments[Xt+2];gt.children=ft}if(j&&j.defaultProps)for(it in At=j.defaultProps,At)gt[it]===void 0&&(gt[it]=At[it]);return C(j,Dt,void 0,void 0,null,gt)},Vt.createRef=function(){return{current:null}},Vt.forwardRef=function(j){return{$$typeof:p,render:j}},Vt.isValidElement=w,Vt.lazy=function(j){return{$$typeof:A,_payload:{_status:-1,_result:j},_init:lt}},Vt.memo=function(j,nt){return{$$typeof:v,type:j,compare:nt===void 0?null:nt}},Vt.startTransition=function(j){var nt=ht.T,ot={};ht.T=ot;try{var it=j(),gt=ht.S;gt!==null&&gt(ot,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(Ut,dt)}catch(Dt){dt(Dt)}finally{ht.T=nt}},Vt.unstable_useCacheRefresh=function(){return ht.H.useCacheRefresh()},Vt.use=function(j){return ht.H.use(j)},Vt.useActionState=function(j,nt,ot){return ht.H.useActionState(j,nt,ot)},Vt.useCallback=function(j,nt){return ht.H.useCallback(j,nt)},Vt.useContext=function(j){return ht.H.useContext(j)},Vt.useDebugValue=function(){},Vt.useDeferredValue=function(j,nt){return ht.H.useDeferredValue(j,nt)},Vt.useEffect=function(j,nt,ot){var it=ht.H;if(typeof ot=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return it.useEffect(j,nt)},Vt.useId=function(){return ht.H.useId()},Vt.useImperativeHandle=function(j,nt,ot){return ht.H.useImperativeHandle(j,nt,ot)},Vt.useInsertionEffect=function(j,nt){return ht.H.useInsertionEffect(j,nt)},Vt.useLayoutEffect=function(j,nt){return ht.H.useLayoutEffect(j,nt)},Vt.useMemo=function(j,nt){return ht.H.useMemo(j,nt)},Vt.useOptimistic=function(j,nt){return ht.H.useOptimistic(j,nt)},Vt.useReducer=function(j,nt,ot){return ht.H.useReducer(j,nt,ot)},Vt.useRef=function(j){return ht.H.useRef(j)},Vt.useState=function(j){return ht.H.useState(j)},Vt.useSyncExternalStore=function(j,nt,ot){return ht.H.useSyncExternalStore(j,nt,ot)},Vt.useTransition=function(){return ht.H.useTransition()},Vt.version="19.1.1",Vt}var t0;function Vp(){return t0||(t0=1,Tm.exports=DA()),Tm.exports}var H=Vp();const gr=pE(H);var wm={exports:{}},Ru={},Sm={exports:{}},Am={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e0;function NA(){return e0||(e0=1,function(i){function t(X,lt){var dt=X.length;X.push(lt);t:for(;0<dt;){var Ut=dt-1>>>1,j=X[Ut];if(0<o(j,lt))X[Ut]=lt,X[dt]=j,dt=Ut;else break t}}function n(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var lt=X[0],dt=X.pop();if(dt!==lt){X[0]=dt;t:for(var Ut=0,j=X.length,nt=j>>>1;Ut<nt;){var ot=2*(Ut+1)-1,it=X[ot],gt=ot+1,Dt=X[gt];if(0>o(it,dt))gt<j&&0>o(Dt,it)?(X[Ut]=Dt,X[gt]=dt,Ut=gt):(X[Ut]=it,X[ot]=dt,Ut=ot);else if(gt<j&&0>o(Dt,dt))X[Ut]=Dt,X[gt]=dt,Ut=gt;else break t}}return lt}function o(X,lt){var dt=X.sortIndex-lt.sortIndex;return dt!==0?dt:X.id-lt.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();i.unstable_now=function(){return d.now()-p}}var _=[],v=[],A=1,M=null,O=3,L=!1,U=!1,G=!1,$=!1,Q=typeof setTimeout=="function"?setTimeout:null,at=typeof clearTimeout=="function"?clearTimeout:null,rt=typeof setImmediate<"u"?setImmediate:null;function ut(X){for(var lt=n(v);lt!==null;){if(lt.callback===null)s(v);else if(lt.startTime<=X)s(v),lt.sortIndex=lt.expirationTime,t(_,lt);else break;lt=n(v)}}function ht(X){if(G=!1,ut(X),!U)if(n(_)!==null)U=!0,vt||(vt=!0,N());else{var lt=n(v);lt!==null&&ee(ht,lt.startTime-X)}}var vt=!1,C=-1,E=5,w=-1;function R(){return $?!0:!(i.unstable_now()-w<E)}function I(){if($=!1,vt){var X=i.unstable_now();w=X;var lt=!0;try{t:{U=!1,G&&(G=!1,at(C),C=-1),L=!0;var dt=O;try{e:{for(ut(X),M=n(_);M!==null&&!(M.expirationTime>X&&R());){var Ut=M.callback;if(typeof Ut=="function"){M.callback=null,O=M.priorityLevel;var j=Ut(M.expirationTime<=X);if(X=i.unstable_now(),typeof j=="function"){M.callback=j,ut(X),lt=!0;break e}M===n(_)&&s(_),ut(X)}else s(_);M=n(_)}if(M!==null)lt=!0;else{var nt=n(v);nt!==null&&ee(ht,nt.startTime-X),lt=!1}}break t}finally{M=null,O=dt,L=!1}lt=void 0}}finally{lt?N():vt=!1}}}var N;if(typeof rt=="function")N=function(){rt(I)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,te=S.port2;S.port1.onmessage=I,N=function(){te.postMessage(null)}}else N=function(){Q(I,0)};function ee(X,lt){C=Q(function(){X(i.unstable_now())},lt)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(X){X.callback=null},i.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<X?Math.floor(1e3/X):5},i.unstable_getCurrentPriorityLevel=function(){return O},i.unstable_next=function(X){switch(O){case 1:case 2:case 3:var lt=3;break;default:lt=O}var dt=O;O=lt;try{return X()}finally{O=dt}},i.unstable_requestPaint=function(){$=!0},i.unstable_runWithPriority=function(X,lt){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var dt=O;O=X;try{return lt()}finally{O=dt}},i.unstable_scheduleCallback=function(X,lt,dt){var Ut=i.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?Ut+dt:Ut):dt=Ut,X){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=dt+j,X={id:A++,callback:lt,priorityLevel:X,startTime:dt,expirationTime:j,sortIndex:-1},dt>Ut?(X.sortIndex=dt,t(v,X),n(_)===null&&X===n(v)&&(G?(at(C),C=-1):G=!0,ee(ht,dt-Ut))):(X.sortIndex=j,t(_,X),U||L||(U=!0,vt||(vt=!0,N()))),X},i.unstable_shouldYield=R,i.unstable_wrapCallback=function(X){var lt=O;return function(){var dt=O;O=lt;try{return X.apply(this,arguments)}finally{O=dt}}}}(Am)),Am}var n0;function OA(){return n0||(n0=1,Sm.exports=NA()),Sm.exports}var Rm={exports:{}},En={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i0;function MA(){if(i0)return En;i0=1;var i=Vp();function t(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(_,v,A){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:M==null?null:""+M,children:_,containerInfo:v,implementation:A}}var d=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return En.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,En.createPortal=function(_,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return c(_,v,null,A)},En.flushSync=function(_){var v=d.T,A=s.p;try{if(d.T=null,s.p=2,_)return _()}finally{d.T=v,s.p=A,s.d.f()}},En.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(_,v))},En.prefetchDNS=function(_){typeof _=="string"&&s.d.D(_)},En.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var A=v.as,M=p(A,v.crossOrigin),O=typeof v.integrity=="string"?v.integrity:void 0,L=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?s.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:M,integrity:O,fetchPriority:L}):A==="script"&&s.d.X(_,{crossOrigin:M,integrity:O,fetchPriority:L,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},En.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=p(v.as,v.crossOrigin);s.d.M(_,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(_)},En.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,M=p(A,v.crossOrigin);s.d.L(_,A,{crossOrigin:M,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},En.preloadModule=function(_,v){if(typeof _=="string")if(v){var A=p(v.as,v.crossOrigin);s.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(_)},En.requestFormReset=function(_){s.d.r(_)},En.unstable_batchedUpdates=function(_,v){return _(v)},En.useFormState=function(_,v,A){return d.H.useFormState(_,v,A)},En.useFormStatus=function(){return d.H.useHostTransitionStatus()},En.version="19.1.1",En}var r0;function VA(){if(r0)return Rm.exports;r0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Rm.exports=MA(),Rm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s0;function PA(){if(s0)return Ru;s0=1;var i=OA(),t=Vp(),n=VA();function s(e){var r="https://react.dev/errors/"+e;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var r=e,a=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,(r.flags&4098)!==0&&(a=r.return),e=r.return;while(e)}return r.tag===3?a:null}function d(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function p(e){if(c(e)!==e)throw Error(s(188))}function _(e){var r=e.alternate;if(!r){if(r=c(e),r===null)throw Error(s(188));return r!==e?null:e}for(var a=e,u=r;;){var m=a.return;if(m===null)break;var g=m.alternate;if(g===null){if(u=m.return,u!==null){a=u;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===a)return p(m),e;if(g===u)return p(m),r;g=g.sibling}throw Error(s(188))}if(a.return!==u.return)a=m,u=g;else{for(var T=!1,D=m.child;D;){if(D===a){T=!0,a=m,u=g;break}if(D===u){T=!0,u=m,a=g;break}D=D.sibling}if(!T){for(D=g.child;D;){if(D===a){T=!0,a=g,u=m;break}if(D===u){T=!0,u=g,a=m;break}D=D.sibling}if(!T)throw Error(s(189))}}if(a.alternate!==u)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:r}function v(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e;for(e=e.child;e!==null;){if(r=v(e),r!==null)return r;e=e.sibling}return null}var A=Object.assign,M=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),at=Symbol.for("react.consumer"),rt=Symbol.for("react.context"),ut=Symbol.for("react.forward_ref"),ht=Symbol.for("react.suspense"),vt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),R=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function N(e){return e===null||typeof e!="object"?null:(e=I&&e[I]||e["@@iterator"],typeof e=="function"?e:null)}var S=Symbol.for("react.client.reference");function te(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===S?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case U:return"Fragment";case $:return"Profiler";case G:return"StrictMode";case ht:return"Suspense";case vt:return"SuspenseList";case w:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case L:return"Portal";case rt:return(e.displayName||"Context")+".Provider";case at:return(e._context.displayName||"Context")+".Consumer";case ut:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return r=e.displayName||null,r!==null?r:te(e.type)||"Memo";case E:r=e._payload,e=e._init;try{return te(e(r))}catch{}}return null}var ee=Array.isArray,X=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},Ut=[],j=-1;function nt(e){return{current:e}}function ot(e){0>j||(e.current=Ut[j],Ut[j]=null,j--)}function it(e,r){j++,Ut[j]=e.current,e.current=r}var gt=nt(null),Dt=nt(null),At=nt(null),ft=nt(null);function Xt(e,r){switch(it(At,r),it(Dt,e),it(gt,null),r.nodeType){case 9:case 11:e=(e=r.documentElement)&&(e=e.namespaceURI)?Av(e):0;break;default:if(e=r.tagName,r=r.namespaceURI)r=Av(r),e=Rv(r,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ot(gt),it(gt,e)}function Sn(){ot(gt),ot(Dt),ot(At)}function mn(e){e.memoizedState!==null&&it(ft,e);var r=gt.current,a=Rv(r,e.type);r!==a&&(it(Dt,e),it(gt,a))}function pn(e){Dt.current===e&&(ot(gt),ot(Dt)),ft.current===e&&(ot(ft),Eu._currentValue=dt)}var Li=Object.prototype.hasOwnProperty,Ui=i.unstable_scheduleCallback,Bi=i.unstable_cancelCallback,Cr=i.unstable_shouldYield,va=i.unstable_requestPaint,Vn=i.unstable_now,Cl=i.unstable_getCurrentPriorityLevel,gs=i.unstable_ImmediatePriority,tr=i.unstable_UserBlockingPriority,er=i.unstable_NormalPriority,Dl=i.unstable_LowPriority,nr=i.unstable_IdlePriority,Dr=i.log,Ea=i.unstable_setDisableYieldValue,kt=null,Nt=null;function Ye(e){if(typeof Dr=="function"&&Ea(e),Nt&&typeof Nt.setStrictMode=="function")try{Nt.setStrictMode(kt,e)}catch{}}var $e=Math.clz32?Math.clz32:Yn,ba=Math.log,Nl=Math.LN2;function Yn(e){return e>>>=0,e===0?32:31-(ba(e)/Nl|0)|0}var ir=256,rr=4194304;function An(e){var r=e&42;if(r!==0)return r;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ys(e,r,a){var u=e.pendingLanes;if(u===0)return 0;var m=0,g=e.suspendedLanes,T=e.pingedLanes;e=e.warmLanes;var D=u&134217727;return D!==0?(u=D&~g,u!==0?m=An(u):(T&=D,T!==0?m=An(T):a||(a=D&~e,a!==0&&(m=An(a))))):(D=u&~g,D!==0?m=An(D):T!==0?m=An(T):a||(a=u&~e,a!==0&&(m=An(a)))),m===0?0:r!==0&&r!==m&&(r&g)===0&&(g=m&-m,a=r&-r,g>=a||g===32&&(a&4194048)!==0)?r:m}function Nr(e,r){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&r)===0}function Or(e,r){switch(e){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _s(){var e=ir;return ir<<=1,(ir&4194048)===0&&(ir=256),e}function Ta(){var e=rr;return rr<<=1,(rr&62914560)===0&&(rr=4194304),e}function Rn(e){for(var r=[],a=0;31>a;a++)r.push(e);return r}function Qn(e,r){e.pendingLanes|=r,r!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Mr(e,r,a,u,m,g){var T=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var D=e.entanglements,P=e.expirationTimes,q=e.hiddenUpdates;for(a=T&~a;0<a;){var Z=31-$e(a),tt=1<<Z;D[Z]=0,P[Z]=-1;var K=q[Z];if(K!==null)for(q[Z]=null,Z=0;Z<K.length;Z++){var Y=K[Z];Y!==null&&(Y.lane&=-536870913)}a&=~tt}u!==0&&sn(e,u,0),g!==0&&m===0&&e.tag!==0&&(e.suspendedLanes|=g&~(T&~r))}function sn(e,r,a){e.pendingLanes|=r,e.suspendedLanes&=~r;var u=31-$e(r);e.entangledLanes|=r,e.entanglements[u]=e.entanglements[u]|1073741824|a&4194090}function vs(e,r){var a=e.entangledLanes|=r;for(e=e.entanglements;a;){var u=31-$e(a),m=1<<u;m&r|e[u]&r&&(e[u]|=r),a&=~m}}function gi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Vr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Pn(){var e=lt.p;return e!==0?e:(e=window.event,e===void 0?32:Hv(e.type))}function wa(e,r){var a=lt.p;try{return lt.p=e,r()}finally{lt.p=a}}var Pt=Math.random().toString(36).slice(2),Te="__reactFiber$"+Pt,he="__reactProps$"+Pt,Qe="__reactContainer$"+Pt,Sa="__reactEvents$"+Pt,Ol="__reactListeners$"+Pt,xn="__reactHandles$"+Pt,Ro="__reactResources$"+Pt,Pr="__reactMarker$"+Pt;function yi(e){delete e[Te],delete e[he],delete e[Sa],delete e[Ol],delete e[xn]}function $i(e){var r=e[Te];if(r)return r;for(var a=e.parentNode;a;){if(r=a[Qe]||a[Te]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(e=Dv(e);e!==null;){if(a=e[Te])return a;e=Dv(e)}return r}e=a,a=e.parentNode}return null}function kn(e){if(e=e[Te]||e[Qe]){var r=e.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return e}return null}function In(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e.stateNode;throw Error(s(33))}function pe(e){var r=e[Ro];return r||(r=e[Ro]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ge(e){e[Pr]=!0}var Es=new Set,sr={};function Cn(e,r){_i(e,r),_i(e+"Capture",r)}function _i(e,r){for(sr[e]=r,e=0;e<r.length;e++)Es.add(r[e])}var Aa=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xo={},vi={};function Ra(e){return Li.call(vi,e)?!0:Li.call(xo,e)?!1:Aa.test(e)?vi[e]=!0:(xo[e]=!0,!1)}function Ei(e,r,a){if(Ra(r))if(a===null)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){e.removeAttribute(r);return}}e.setAttribute(r,""+a)}}function gn(e,r,a){if(a===null)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttribute(r,""+a)}}function me(e,r,a,u){if(u===null)e.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(r,a,""+u)}}var zi,Io;function bi(e){if(zi===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);zi=r&&r[1]||"",Io=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+zi+e+Io}var kr=!1;function jr(e,r){if(!e||kr)return"";kr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(Y){var K=Y}Reflect.construct(e,[],tt)}else{try{tt.call()}catch(Y){K=Y}e.call(tt.prototype)}}else{try{throw Error()}catch(Y){K=Y}(tt=e())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(Y){if(Y&&K&&typeof Y.stack=="string")return[Y.stack,K.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),T=g[0],D=g[1];if(T&&D){var P=T.split(`
`),q=D.split(`
`);for(m=u=0;u<P.length&&!P[u].includes("DetermineComponentFrameRoot");)u++;for(;m<q.length&&!q[m].includes("DetermineComponentFrameRoot");)m++;if(u===P.length||m===q.length)for(u=P.length-1,m=q.length-1;1<=u&&0<=m&&P[u]!==q[m];)m--;for(;1<=u&&0<=m;u--,m--)if(P[u]!==q[m]){if(u!==1||m!==1)do if(u--,m--,0>m||P[u]!==q[m]){var Z=`
`+P[u].replace(" at new "," at ");return e.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",e.displayName)),Z}while(1<=u&&0<=m);break}}}finally{kr=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?bi(a):""}function Lr(e){switch(e.tag){case 26:case 27:case 5:return bi(e.type);case 16:return bi("Lazy");case 13:return bi("Suspense");case 19:return bi("SuspenseList");case 0:case 15:return jr(e.type,!1);case 11:return jr(e.type.render,!1);case 1:return jr(e.type,!0);case 31:return bi("Activity");default:return""}}function ar(e){try{var r="";do r+=Lr(e),e=e.return;while(e);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Xe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function bs(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Ml(e){var r=bs(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),u=""+e[r];if(!e.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var m=a.get,g=a.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return m.call(this)},set:function(T){u=""+T,g.call(this,T)}}),Object.defineProperty(e,r,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function Ts(e){e._valueTracker||(e._valueTracker=Ml(e))}function ws(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var a=r.getValue(),u="";return e&&(u=bs(e)?e.checked?"true":"false":e.value),e=u,e!==a?(r.setValue(e),!0):!1}function or(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Vl=/[\n"\\]/g;function se(e){return e.replace(Vl,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function _e(e,r,a,u,m,g,T,D){e.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.type=T:e.removeAttribute("type"),r!=null?T==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+Xe(r)):e.value!==""+Xe(r)&&(e.value=""+Xe(r)):T!=="submit"&&T!=="reset"||e.removeAttribute("value"),r!=null?Xn(e,T,Xe(r)):a!=null?Xn(e,T,Xe(a)):u!=null&&e.removeAttribute("value"),m==null&&g!=null&&(e.defaultChecked=!!g),m!=null&&(e.checked=m&&typeof m!="function"&&typeof m!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?e.name=""+Xe(D):e.removeAttribute("name")}function Ti(e,r,a,u,m,g,T,D){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.type=g),r!=null||a!=null){if(!(g!=="submit"&&g!=="reset"||r!=null))return;a=a!=null?""+Xe(a):"",r=r!=null?""+Xe(r):a,D||r===e.value||(e.value=r),e.defaultValue=r}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,e.checked=D?e.checked:!!u,e.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(e.name=T)}function Xn(e,r,a){r==="number"&&or(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function wi(e,r,a,u){if(e=e.options,r){r={};for(var m=0;m<a.length;m++)r["$"+a[m]]=!0;for(a=0;a<e.length;a++)m=r.hasOwnProperty("$"+e[a].value),e[a].selected!==m&&(e[a].selected=m),m&&u&&(e[a].defaultSelected=!0)}else{for(a=""+Xe(a),r=null,m=0;m<e.length;m++){if(e[m].value===a){e[m].selected=!0,u&&(e[m].defaultSelected=!0);return}r!==null||e[m].disabled||(r=e[m])}r!==null&&(r.selected=!0)}}function _t(e,r,a){if(r!=null&&(r=""+Xe(r),r!==e.value&&(e.value=r),a==null)){e.defaultValue!==r&&(e.defaultValue=r);return}e.defaultValue=a!=null?""+Xe(a):""}function Si(e,r,a,u){if(r==null){if(u!=null){if(a!=null)throw Error(s(92));if(ee(u)){if(1<u.length)throw Error(s(93));u=u[0]}a=u}a==null&&(a=""),r=a}a=Xe(r),e.defaultValue=a,u=e.textContent,u===a&&u!==""&&u!==null&&(e.value=u)}function Ze(e,r){if(r){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=r;return}}e.textContent=r}var Zn=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Co(e,r,a){var u=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="":u?e.setProperty(r,a):typeof a!="number"||a===0||Zn.has(r)?r==="float"?e.cssFloat=a:e[r]=(""+a).trim():e[r]=a+"px"}function Ss(e,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(e=e.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?e.setProperty(u,""):u==="float"?e.cssFloat="":e[u]="");for(var m in r)u=r[m],r.hasOwnProperty(m)&&a[m]!==u&&Co(e,m,u)}else for(var g in r)r.hasOwnProperty(g)&&Co(e,g,r[g])}function xa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),kl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function As(e){return kl.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Dn=null;function De(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ai=null,Ri=null;function Rs(e){var r=kn(e);if(r&&(e=r.stateNode)){var a=e[he]||null;t:switch(e=r.stateNode,r.type){case"input":if(_e(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+se(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var u=a[r];if(u!==e&&u.form===e.form){var m=u[he]||null;if(!m)throw Error(s(90));_e(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(r=0;r<a.length;r++)u=a[r],u.form===e.form&&ws(u)}break t;case"textarea":_t(e,a.value,a.defaultValue);break t;case"select":r=a.value,r!=null&&wi(e,!!a.multiple,r,!1)}}}var an=!1;function Do(e,r,a){if(an)return e(r,a);an=!0;try{var u=e(r);return u}finally{if(an=!1,(Ai!==null||Ri!==null)&&(Hc(),Ai&&(r=Ai,e=Ri,Ri=Ai=null,Rs(r),e)))for(r=0;r<e.length;r++)Rs(e[r])}}function Ur(e,r){var a=e.stateNode;if(a===null)return null;var u=a[he]||null;if(u===null)return null;a=u[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(e=e.type,u=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!u;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ne=!1;if(Jn)try{var Br={};Object.defineProperty(Br,"passive",{get:function(){Ne=!0}}),window.addEventListener("test",Br,Br),window.removeEventListener("test",Br,Br)}catch{Ne=!1}var xi=null,Wn=null,jn=null;function xs(){if(jn)return jn;var e,r=Wn,a=r.length,u,m="value"in xi?xi.value:xi.textContent,g=m.length;for(e=0;e<a&&r[e]===m[e];e++);var T=a-e;for(u=1;u<=T&&r[a-u]===m[g-u];u++);return jn=m.slice(e,1<u?1-u:void 0)}function yn(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function _n(){return!0}function Is(){return!1}function we(e){function r(a,u,m,g,T){this._reactName=a,this._targetInst=m,this.type=u,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var D in e)e.hasOwnProperty(D)&&(a=e[D],this[D]=a?a(g):g[D]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?_n:Is,this.isPropagationStopped=Is,this}return A(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=_n)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=_n)},persist:function(){},isPersistent:_n}),r}var Et={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cs=we(Et),$r=A({},Et,{view:0,detail:0}),Ia=we($r),zr,Fr,Nn,lr=A({},$r,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Nn&&(Nn&&e.type==="mousemove"?(zr=e.screenX-Nn.screenX,Fr=e.screenY-Nn.screenY):Fr=zr=0,Nn=e),zr)},movementY:function(e){return"movementY"in e?e.movementY:Fr}}),Se=we(lr),Ca=A({},lr,{dataTransfer:0}),jl=we(Ca),ti=A({},$r,{relatedTarget:0}),qr=we(ti),Hr=A({},Et,{animationName:0,elapsedTime:0,pseudoElement:0}),Fi=we(Hr),Da=A({},Et,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qi=we(Da),Ll=A({},Et,{data:0}),Ds=we(Ll),ei={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Na={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Oa={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gr(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=Oa[e])?!!r[e]:!1}function Hi(){return Gr}var Ma=A({},$r,{key:function(e){if(e.key){var r=ei[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=yn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Na[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hi,charCode:function(e){return e.type==="keypress"?yn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?yn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Gi=we(Ma),Va=A({},lr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ns=we(Va),on=A({},$r,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hi}),Pa=we(on),ka=A({},Et,{propertyName:0,elapsedTime:0,pseudoElement:0}),ja=we(ka),La=A({},lr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ze=we(La),Je=A({},Et,{newState:0,oldState:0}),Ua=we(Je),Ki=[9,13,27,32],h=Jn&&"CompositionEvent"in window,l=null;Jn&&"documentMode"in document&&(l=document.documentMode);var f=Jn&&"TextEvent"in window&&!l,y=Jn&&(!h||l&&8<l&&11>=l),b=" ",V=!1;function k(e,r){switch(e){case"keyup":return Ki.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var bt=!1;function Tt(e,r){switch(e){case"compositionend":return W(r);case"keypress":return r.which!==32?null:(V=!0,b);case"textInput":return e=r.data,e===b&&V?null:e;default:return null}}function wt(e,r){if(bt)return e==="compositionend"||!h&&k(e,r)?(e=xs(),jn=Wn=xi=null,bt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return y&&r.locale!=="ko"?null:r.data;default:return null}}var qt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fe(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!qt[e.type]:r==="textarea"}function Oe(e,r,a,u){Ai?Ri?Ri.push(u):Ri=[u]:Ai=u,r=Zc(r,"onChange"),0<r.length&&(a=new Cs("onChange","change",null,a,u),e.push({event:a,listeners:r}))}var Ae=null,Ln=null;function Ul(e){Ev(e,0)}function fc(e){var r=In(e);if(ws(r))return e}function $g(e,r){if(e==="change")return r}var zg=!1;if(Jn){var Nf;if(Jn){var Of="oninput"in document;if(!Of){var Fg=document.createElement("div");Fg.setAttribute("oninput","return;"),Of=typeof Fg.oninput=="function"}Nf=Of}else Nf=!1;zg=Nf&&(!document.documentMode||9<document.documentMode)}function qg(){Ae&&(Ae.detachEvent("onpropertychange",Hg),Ln=Ae=null)}function Hg(e){if(e.propertyName==="value"&&fc(Ln)){var r=[];Oe(r,Ln,e,De(e)),Do(Ul,r)}}function rS(e,r,a){e==="focusin"?(qg(),Ae=r,Ln=a,Ae.attachEvent("onpropertychange",Hg)):e==="focusout"&&qg()}function sS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return fc(Ln)}function aS(e,r){if(e==="click")return fc(r)}function oS(e,r){if(e==="input"||e==="change")return fc(r)}function lS(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var ni=typeof Object.is=="function"?Object.is:lS;function Bl(e,r){if(ni(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var a=Object.keys(e),u=Object.keys(r);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var m=a[u];if(!Li.call(r,m)||!ni(e[m],r[m]))return!1}return!0}function Gg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Kg(e,r){var a=Gg(e);e=0;for(var u;a;){if(a.nodeType===3){if(u=e+a.textContent.length,e<=r&&u>=r)return{node:a,offset:r-e};e=u}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Gg(a)}}function Yg(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?Yg(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function Qg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var r=or(e.document);r instanceof e.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)e=r.contentWindow;else break;r=or(e.document)}return r}function Mf(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}var uS=Jn&&"documentMode"in document&&11>=document.documentMode,No=null,Vf=null,$l=null,Pf=!1;function Xg(e,r,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Pf||No==null||No!==or(u)||(u=No,"selectionStart"in u&&Mf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),$l&&Bl($l,u)||($l=u,u=Zc(Vf,"onSelect"),0<u.length&&(r=new Cs("onSelect","select",null,r,a),e.push({event:r,listeners:u}),r.target=No)))}function Ba(e,r){var a={};return a[e.toLowerCase()]=r.toLowerCase(),a["Webkit"+e]="webkit"+r,a["Moz"+e]="moz"+r,a}var Oo={animationend:Ba("Animation","AnimationEnd"),animationiteration:Ba("Animation","AnimationIteration"),animationstart:Ba("Animation","AnimationStart"),transitionrun:Ba("Transition","TransitionRun"),transitionstart:Ba("Transition","TransitionStart"),transitioncancel:Ba("Transition","TransitionCancel"),transitionend:Ba("Transition","TransitionEnd")},kf={},Zg={};Jn&&(Zg=document.createElement("div").style,"AnimationEvent"in window||(delete Oo.animationend.animation,delete Oo.animationiteration.animation,delete Oo.animationstart.animation),"TransitionEvent"in window||delete Oo.transitionend.transition);function $a(e){if(kf[e])return kf[e];if(!Oo[e])return e;var r=Oo[e],a;for(a in r)if(r.hasOwnProperty(a)&&a in Zg)return kf[e]=r[a];return e}var Jg=$a("animationend"),Wg=$a("animationiteration"),ty=$a("animationstart"),cS=$a("transitionrun"),hS=$a("transitionstart"),fS=$a("transitioncancel"),ey=$a("transitionend"),ny=new Map,jf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jf.push("scrollEnd");function Yi(e,r){ny.set(e,r),Cn(r,[e])}var iy=new WeakMap;function Ii(e,r){if(typeof e=="object"&&e!==null){var a=iy.get(e);return a!==void 0?a:(r={value:e,source:r,stack:ar(r)},iy.set(e,r),r)}return{value:e,source:r,stack:ar(r)}}var Ci=[],Mo=0,Lf=0;function dc(){for(var e=Mo,r=Lf=Mo=0;r<e;){var a=Ci[r];Ci[r++]=null;var u=Ci[r];Ci[r++]=null;var m=Ci[r];Ci[r++]=null;var g=Ci[r];if(Ci[r++]=null,u!==null&&m!==null){var T=u.pending;T===null?m.next=m:(m.next=T.next,T.next=m),u.pending=m}g!==0&&ry(a,m,g)}}function mc(e,r,a,u){Ci[Mo++]=e,Ci[Mo++]=r,Ci[Mo++]=a,Ci[Mo++]=u,Lf|=u,e.lanes|=u,e=e.alternate,e!==null&&(e.lanes|=u)}function Uf(e,r,a,u){return mc(e,r,a,u),pc(e)}function Vo(e,r){return mc(e,null,null,r),pc(e)}function ry(e,r,a){e.lanes|=a;var u=e.alternate;u!==null&&(u.lanes|=a);for(var m=!1,g=e.return;g!==null;)g.childLanes|=a,u=g.alternate,u!==null&&(u.childLanes|=a),g.tag===22&&(e=g.stateNode,e===null||e._visibility&1||(m=!0)),e=g,g=g.return;return e.tag===3?(g=e.stateNode,m&&r!==null&&(m=31-$e(a),e=g.hiddenUpdates,u=e[m],u===null?e[m]=[r]:u.push(r),r.lane=a|536870912),g):null}function pc(e){if(50<fu)throw fu=0,Hd=null,Error(s(185));for(var r=e.return;r!==null;)e=r,r=e.return;return e.tag===3?e.stateNode:null}var Po={};function dS(e,r,a,u){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ii(e,r,a,u){return new dS(e,r,a,u)}function Bf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Kr(e,r){var a=e.alternate;return a===null?(a=ii(e.tag,r,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=r,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,r=e.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function sy(e,r){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=r,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,r=a.dependencies,e.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),e}function gc(e,r,a,u,m,g){var T=0;if(u=e,typeof e=="function")Bf(e)&&(T=1);else if(typeof e=="string")T=pA(e,a,gt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case w:return e=ii(31,a,r,m),e.elementType=w,e.lanes=g,e;case U:return za(a.children,m,g,r);case G:T=8,m|=24;break;case $:return e=ii(12,a,r,m|2),e.elementType=$,e.lanes=g,e;case ht:return e=ii(13,a,r,m),e.elementType=ht,e.lanes=g,e;case vt:return e=ii(19,a,r,m),e.elementType=vt,e.lanes=g,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Q:case rt:T=10;break t;case at:T=9;break t;case ut:T=11;break t;case C:T=14;break t;case E:T=16,u=null;break t}T=29,a=Error(s(130,e===null?"null":typeof e,"")),u=null}return r=ii(T,a,r,m),r.elementType=e,r.type=u,r.lanes=g,r}function za(e,r,a,u){return e=ii(7,e,u,r),e.lanes=a,e}function $f(e,r,a){return e=ii(6,e,null,r),e.lanes=a,e}function zf(e,r,a){return r=ii(4,e.children!==null?e.children:[],e.key,r),r.lanes=a,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}var ko=[],jo=0,yc=null,_c=0,Di=[],Ni=0,Fa=null,Yr=1,Qr="";function qa(e,r){ko[jo++]=_c,ko[jo++]=yc,yc=e,_c=r}function ay(e,r,a){Di[Ni++]=Yr,Di[Ni++]=Qr,Di[Ni++]=Fa,Fa=e;var u=Yr;e=Qr;var m=32-$e(u)-1;u&=~(1<<m),a+=1;var g=32-$e(r)+m;if(30<g){var T=m-m%5;g=(u&(1<<T)-1).toString(32),u>>=T,m-=T,Yr=1<<32-$e(r)+m|a<<m|u,Qr=g+e}else Yr=1<<g|a<<m|u,Qr=e}function Ff(e){e.return!==null&&(qa(e,1),ay(e,1,0))}function qf(e){for(;e===yc;)yc=ko[--jo],ko[jo]=null,_c=ko[--jo],ko[jo]=null;for(;e===Fa;)Fa=Di[--Ni],Di[Ni]=null,Qr=Di[--Ni],Di[Ni]=null,Yr=Di[--Ni],Di[Ni]=null}var On=null,Re=null,Zt=!1,Ha=null,ur=!1,Hf=Error(s(519));function Ga(e){var r=Error(s(418,""));throw ql(Ii(r,e)),Hf}function oy(e){var r=e.stateNode,a=e.type,u=e.memoizedProps;switch(r[Te]=e,r[he]=u,a){case"dialog":$t("cancel",r),$t("close",r);break;case"iframe":case"object":case"embed":$t("load",r);break;case"video":case"audio":for(a=0;a<mu.length;a++)$t(mu[a],r);break;case"source":$t("error",r);break;case"img":case"image":case"link":$t("error",r),$t("load",r);break;case"details":$t("toggle",r);break;case"input":$t("invalid",r),Ti(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Ts(r);break;case"select":$t("invalid",r);break;case"textarea":$t("invalid",r),Si(r,u.value,u.defaultValue,u.children),Ts(r)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||u.suppressHydrationWarning===!0||Sv(r.textContent,a)?(u.popover!=null&&($t("beforetoggle",r),$t("toggle",r)),u.onScroll!=null&&$t("scroll",r),u.onScrollEnd!=null&&$t("scrollend",r),u.onClick!=null&&(r.onclick=Jc),r=!0):r=!1,r||Ga(e)}function ly(e){for(On=e.return;On;)switch(On.tag){case 5:case 13:ur=!1;return;case 27:case 3:ur=!0;return;default:On=On.return}}function zl(e){if(e!==On)return!1;if(!Zt)return ly(e),Zt=!0,!1;var r=e.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||om(e.type,e.memoizedProps)),a=!a),a&&Re&&Ga(e),ly(e),r===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,r=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(r===0){Re=Xi(e.nextSibling);break t}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;e=e.nextSibling}Re=null}}else r===27?(r=Re,Ks(e.type)?(e=hm,hm=null,Re=e):Re=r):Re=On?Xi(e.stateNode.nextSibling):null;return!0}function Fl(){Re=On=null,Zt=!1}function uy(){var e=Ha;return e!==null&&($n===null?$n=e:$n.push.apply($n,e),Ha=null),e}function ql(e){Ha===null?Ha=[e]:Ha.push(e)}var Gf=nt(null),Ka=null,Xr=null;function Os(e,r,a){it(Gf,r._currentValue),r._currentValue=a}function Zr(e){e._currentValue=Gf.current,ot(Gf)}function Kf(e,r,a){for(;e!==null;){var u=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),e===a)break;e=e.return}}function Yf(e,r,a,u){var m=e.child;for(m!==null&&(m.return=e);m!==null;){var g=m.dependencies;if(g!==null){var T=m.child;g=g.firstContext;t:for(;g!==null;){var D=g;g=m;for(var P=0;P<r.length;P++)if(D.context===r[P]){g.lanes|=a,D=g.alternate,D!==null&&(D.lanes|=a),Kf(g.return,a,e),u||(T=null);break t}g=D.next}}else if(m.tag===18){if(T=m.return,T===null)throw Error(s(341));T.lanes|=a,g=T.alternate,g!==null&&(g.lanes|=a),Kf(T,a,e),T=null}else T=m.child;if(T!==null)T.return=m;else for(T=m;T!==null;){if(T===e){T=null;break}if(m=T.sibling,m!==null){m.return=T.return,T=m;break}T=T.return}m=T}}function Hl(e,r,a,u){e=null;for(var m=r,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var T=m.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var D=m.type;ni(m.pendingProps.value,T.value)||(e!==null?e.push(D):e=[D])}}else if(m===ft.current){if(T=m.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(e!==null?e.push(Eu):e=[Eu])}m=m.return}e!==null&&Yf(r,e,a,u),r.flags|=262144}function vc(e){for(e=e.firstContext;e!==null;){if(!ni(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ya(e){Ka=e,Xr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function vn(e){return cy(Ka,e)}function Ec(e,r){return Ka===null&&Ya(e),cy(e,r)}function cy(e,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Xr===null){if(e===null)throw Error(s(308));Xr=r,e.dependencies={lanes:0,firstContext:r},e.flags|=524288}else Xr=Xr.next=r;return a}var mS=typeof AbortController<"u"?AbortController:function(){var e=[],r=this.signal={aborted:!1,addEventListener:function(a,u){e.push(u)}};this.abort=function(){r.aborted=!0,e.forEach(function(a){return a()})}},pS=i.unstable_scheduleCallback,gS=i.unstable_NormalPriority,Fe={$$typeof:rt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qf(){return{controller:new mS,data:new Map,refCount:0}}function Gl(e){e.refCount--,e.refCount===0&&pS(gS,function(){e.controller.abort()})}var Kl=null,Xf=0,Lo=0,Uo=null;function yS(e,r){if(Kl===null){var a=Kl=[];Xf=0,Lo=Jd(),Uo={status:"pending",value:void 0,then:function(u){a.push(u)}}}return Xf++,r.then(hy,hy),r}function hy(){if(--Xf===0&&Kl!==null){Uo!==null&&(Uo.status="fulfilled");var e=Kl;Kl=null,Lo=0,Uo=null;for(var r=0;r<e.length;r++)(0,e[r])()}}function _S(e,r){var a=[],u={status:"pending",value:null,reason:null,then:function(m){a.push(m)}};return e.then(function(){u.status="fulfilled",u.value=r;for(var m=0;m<a.length;m++)(0,a[m])(r)},function(m){for(u.status="rejected",u.reason=m,m=0;m<a.length;m++)(0,a[m])(void 0)}),u}var fy=X.S;X.S=function(e,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&yS(e,r),fy!==null&&fy(e,r)};var Qa=nt(null);function Zf(){var e=Qa.current;return e!==null?e:de.pooledCache}function bc(e,r){r===null?it(Qa,Qa.current):it(Qa,r.pool)}function dy(){var e=Zf();return e===null?null:{parent:Fe._currentValue,pool:e}}var Yl=Error(s(460)),my=Error(s(474)),Tc=Error(s(542)),Jf={then:function(){}};function py(e){return e=e.status,e==="fulfilled"||e==="rejected"}function wc(){}function gy(e,r,a){switch(a=e[a],a===void 0?e.push(r):a!==r&&(r.then(wc,wc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,_y(e),e;default:if(typeof r.status=="string")r.then(wc,wc);else{if(e=de,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=r,e.status="pending",e.then(function(u){if(r.status==="pending"){var m=r;m.status="fulfilled",m.value=u}},function(u){if(r.status==="pending"){var m=r;m.status="rejected",m.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,_y(e),e}throw Ql=r,Yl}}var Ql=null;function yy(){if(Ql===null)throw Error(s(459));var e=Ql;return Ql=null,e}function _y(e){if(e===Yl||e===Tc)throw Error(s(483))}var Ms=!1;function Wf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function td(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Vs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ps(e,r,a){var u=e.updateQueue;if(u===null)return null;if(u=u.shared,(ie&2)!==0){var m=u.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),u.pending=r,r=pc(e),ry(e,null,a),r}return mc(e,u,r,a),pc(e)}function Xl(e,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var u=r.lanes;u&=e.pendingLanes,a|=u,r.lanes=a,vs(e,a)}}function ed(e,r){var a=e.updateQueue,u=e.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var m=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};g===null?m=g=T:g=g.next=T,a=a.next}while(a!==null);g===null?m=g=r:g=g.next=r}else m=g=r;a={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=r:e.next=r,a.lastBaseUpdate=r}var nd=!1;function Zl(){if(nd){var e=Uo;if(e!==null)throw e}}function Jl(e,r,a,u){nd=!1;var m=e.updateQueue;Ms=!1;var g=m.firstBaseUpdate,T=m.lastBaseUpdate,D=m.shared.pending;if(D!==null){m.shared.pending=null;var P=D,q=P.next;P.next=null,T===null?g=q:T.next=q,T=P;var Z=e.alternate;Z!==null&&(Z=Z.updateQueue,D=Z.lastBaseUpdate,D!==T&&(D===null?Z.firstBaseUpdate=q:D.next=q,Z.lastBaseUpdate=P))}if(g!==null){var tt=m.baseState;T=0,Z=q=P=null,D=g;do{var K=D.lane&-536870913,Y=K!==D.lane;if(Y?(Ht&K)===K:(u&K)===K){K!==0&&K===Lo&&(nd=!0),Z!==null&&(Z=Z.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});t:{var It=e,St=D;K=r;var le=a;switch(St.tag){case 1:if(It=St.payload,typeof It=="function"){tt=It.call(le,tt,K);break t}tt=It;break t;case 3:It.flags=It.flags&-65537|128;case 0:if(It=St.payload,K=typeof It=="function"?It.call(le,tt,K):It,K==null)break t;tt=A({},tt,K);break t;case 2:Ms=!0}}K=D.callback,K!==null&&(e.flags|=64,Y&&(e.flags|=8192),Y=m.callbacks,Y===null?m.callbacks=[K]:Y.push(K))}else Y={lane:K,tag:D.tag,payload:D.payload,callback:D.callback,next:null},Z===null?(q=Z=Y,P=tt):Z=Z.next=Y,T|=K;if(D=D.next,D===null){if(D=m.shared.pending,D===null)break;Y=D,D=Y.next,Y.next=null,m.lastBaseUpdate=Y,m.shared.pending=null}}while(!0);Z===null&&(P=tt),m.baseState=P,m.firstBaseUpdate=q,m.lastBaseUpdate=Z,g===null&&(m.shared.lanes=0),Fs|=T,e.lanes=T,e.memoizedState=tt}}function vy(e,r){if(typeof e!="function")throw Error(s(191,e));e.call(r)}function Ey(e,r){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)vy(a[e],r)}var Bo=nt(null),Sc=nt(0);function by(e,r){e=rs,it(Sc,e),it(Bo,r),rs=e|r.baseLanes}function id(){it(Sc,rs),it(Bo,Bo.current)}function rd(){rs=Sc.current,ot(Bo),ot(Sc)}var ks=0,jt=null,ae=null,ke=null,Ac=!1,$o=!1,Xa=!1,Rc=0,Wl=0,zo=null,vS=0;function Me(){throw Error(s(321))}function sd(e,r){if(r===null)return!1;for(var a=0;a<r.length&&a<e.length;a++)if(!ni(e[a],r[a]))return!1;return!0}function ad(e,r,a,u,m,g){return ks=g,jt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,X.H=e===null||e.memoizedState===null?r_:s_,Xa=!1,g=a(u,m),Xa=!1,$o&&(g=wy(r,a,u,m)),Ty(e),g}function Ty(e){X.H=Oc;var r=ae!==null&&ae.next!==null;if(ks=0,ke=ae=jt=null,Ac=!1,Wl=0,zo=null,r)throw Error(s(300));e===null||We||(e=e.dependencies,e!==null&&vc(e)&&(We=!0))}function wy(e,r,a,u){jt=e;var m=0;do{if($o&&(zo=null),Wl=0,$o=!1,25<=m)throw Error(s(301));if(m+=1,ke=ae=null,e.updateQueue!=null){var g=e.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}X.H=RS,g=r(a,u)}while($o);return g}function ES(){var e=X.H,r=e.useState()[0];return r=typeof r.then=="function"?tu(r):r,e=e.useState()[0],(ae!==null?ae.memoizedState:null)!==e&&(jt.flags|=1024),r}function od(){var e=Rc!==0;return Rc=0,e}function ld(e,r,a){r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~a}function ud(e){if(Ac){for(e=e.memoizedState;e!==null;){var r=e.queue;r!==null&&(r.pending=null),e=e.next}Ac=!1}ks=0,ke=ae=jt=null,$o=!1,Wl=Rc=0,zo=null}function Un(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ke===null?jt.memoizedState=ke=e:ke=ke.next=e,ke}function je(){if(ae===null){var e=jt.alternate;e=e!==null?e.memoizedState:null}else e=ae.next;var r=ke===null?jt.memoizedState:ke.next;if(r!==null)ke=r,ae=e;else{if(e===null)throw jt.alternate===null?Error(s(467)):Error(s(310));ae=e,e={memoizedState:ae.memoizedState,baseState:ae.baseState,baseQueue:ae.baseQueue,queue:ae.queue,next:null},ke===null?jt.memoizedState=ke=e:ke=ke.next=e}return ke}function cd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tu(e){var r=Wl;return Wl+=1,zo===null&&(zo=[]),e=gy(zo,e,r),r=jt,(ke===null?r.memoizedState:ke.next)===null&&(r=r.alternate,X.H=r===null||r.memoizedState===null?r_:s_),e}function xc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return tu(e);if(e.$$typeof===rt)return vn(e)}throw Error(s(438,String(e)))}function hd(e){var r=null,a=jt.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var u=jt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(m){return m.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=cd(),jt.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(e),u=0;u<e;u++)a[u]=R;return r.index++,a}function Jr(e,r){return typeof r=="function"?r(e):r}function Ic(e){var r=je();return fd(r,ae,e)}function fd(e,r,a){var u=e.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=a;var m=e.baseQueue,g=u.pending;if(g!==null){if(m!==null){var T=m.next;m.next=g.next,g.next=T}r.baseQueue=m=g,u.pending=null}if(g=e.baseState,m===null)e.memoizedState=g;else{r=m.next;var D=T=null,P=null,q=r,Z=!1;do{var tt=q.lane&-536870913;if(tt!==q.lane?(Ht&tt)===tt:(ks&tt)===tt){var K=q.revertLane;if(K===0)P!==null&&(P=P.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),tt===Lo&&(Z=!0);else if((ks&K)===K){q=q.next,K===Lo&&(Z=!0);continue}else tt={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},P===null?(D=P=tt,T=g):P=P.next=tt,jt.lanes|=K,Fs|=K;tt=q.action,Xa&&a(g,tt),g=q.hasEagerState?q.eagerState:a(g,tt)}else K={lane:tt,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},P===null?(D=P=K,T=g):P=P.next=K,jt.lanes|=tt,Fs|=tt;q=q.next}while(q!==null&&q!==r);if(P===null?T=g:P.next=D,!ni(g,e.memoizedState)&&(We=!0,Z&&(a=Uo,a!==null)))throw a;e.memoizedState=g,e.baseState=T,e.baseQueue=P,u.lastRenderedState=g}return m===null&&(u.lanes=0),[e.memoizedState,u.dispatch]}function dd(e){var r=je(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var u=a.dispatch,m=a.pending,g=r.memoizedState;if(m!==null){a.pending=null;var T=m=m.next;do g=e(g,T.action),T=T.next;while(T!==m);ni(g,r.memoizedState)||(We=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),a.lastRenderedState=g}return[g,u]}function Sy(e,r,a){var u=jt,m=je(),g=Zt;if(g){if(a===void 0)throw Error(s(407));a=a()}else a=r();var T=!ni((ae||m).memoizedState,a);T&&(m.memoizedState=a,We=!0),m=m.queue;var D=xy.bind(null,u,m,e);if(eu(2048,8,D,[e]),m.getSnapshot!==r||T||ke!==null&&ke.memoizedState.tag&1){if(u.flags|=2048,Fo(9,Cc(),Ry.bind(null,u,m,a,r),null),de===null)throw Error(s(349));g||(ks&124)!==0||Ay(u,r,a)}return a}function Ay(e,r,a){e.flags|=16384,e={getSnapshot:r,value:a},r=jt.updateQueue,r===null?(r=cd(),jt.updateQueue=r,r.stores=[e]):(a=r.stores,a===null?r.stores=[e]:a.push(e))}function Ry(e,r,a,u){r.value=a,r.getSnapshot=u,Iy(r)&&Cy(e)}function xy(e,r,a){return a(function(){Iy(r)&&Cy(e)})}function Iy(e){var r=e.getSnapshot;e=e.value;try{var a=r();return!ni(e,a)}catch{return!0}}function Cy(e){var r=Vo(e,2);r!==null&&li(r,e,2)}function md(e){var r=Un();if(typeof e=="function"){var a=e;if(e=a(),Xa){Ye(!0);try{a()}finally{Ye(!1)}}}return r.memoizedState=r.baseState=e,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jr,lastRenderedState:e},r}function Dy(e,r,a,u){return e.baseState=a,fd(e,ae,typeof u=="function"?u:Jr)}function bS(e,r,a,u,m){if(Nc(e))throw Error(s(485));if(e=r.action,e!==null){var g={payload:m,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};X.T!==null?a(!0):g.isTransition=!1,u(g),a=r.pending,a===null?(g.next=r.pending=g,Ny(r,g)):(g.next=a.next,r.pending=a.next=g)}}function Ny(e,r){var a=r.action,u=r.payload,m=e.state;if(r.isTransition){var g=X.T,T={};X.T=T;try{var D=a(m,u),P=X.S;P!==null&&P(T,D),Oy(e,r,D)}catch(q){pd(e,r,q)}finally{X.T=g}}else try{g=a(m,u),Oy(e,r,g)}catch(q){pd(e,r,q)}}function Oy(e,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){My(e,r,u)},function(u){return pd(e,r,u)}):My(e,r,a)}function My(e,r,a){r.status="fulfilled",r.value=a,Vy(r),e.state=a,r=e.pending,r!==null&&(a=r.next,a===r?e.pending=null:(a=a.next,r.next=a,Ny(e,a)))}function pd(e,r,a){var u=e.pending;if(e.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=a,Vy(r),r=r.next;while(r!==u)}e.action=null}function Vy(e){e=e.listeners;for(var r=0;r<e.length;r++)(0,e[r])()}function Py(e,r){return r}function ky(e,r){if(Zt){var a=de.formState;if(a!==null){t:{var u=jt;if(Zt){if(Re){e:{for(var m=Re,g=ur;m.nodeType!==8;){if(!g){m=null;break e}if(m=Xi(m.nextSibling),m===null){m=null;break e}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){Re=Xi(m.nextSibling),u=m.data==="F!";break t}}Ga(u)}u=!1}u&&(r=a[0])}}return a=Un(),a.memoizedState=a.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Py,lastRenderedState:r},a.queue=u,a=e_.bind(null,jt,u),u.dispatch=a,u=md(!1),g=Ed.bind(null,jt,!1,u.queue),u=Un(),m={state:r,dispatch:null,action:e,pending:null},u.queue=m,a=bS.bind(null,jt,m,g,a),m.dispatch=a,u.memoizedState=e,[r,a,!1]}function jy(e){var r=je();return Ly(r,ae,e)}function Ly(e,r,a){if(r=fd(e,r,Py)[0],e=Ic(Jr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=tu(r)}catch(T){throw T===Yl?Tc:T}else u=r;r=je();var m=r.queue,g=m.dispatch;return a!==r.memoizedState&&(jt.flags|=2048,Fo(9,Cc(),TS.bind(null,m,a),null)),[u,g,e]}function TS(e,r){e.action=r}function Uy(e){var r=je(),a=ae;if(a!==null)return Ly(r,a,e);je(),r=r.memoizedState,a=je();var u=a.queue.dispatch;return a.memoizedState=e,[r,u,!1]}function Fo(e,r,a,u){return e={tag:e,create:a,deps:u,inst:r,next:null},r=jt.updateQueue,r===null&&(r=cd(),jt.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=e.next=e:(u=a.next,a.next=e,e.next=u,r.lastEffect=e),e}function Cc(){return{destroy:void 0,resource:void 0}}function By(){return je().memoizedState}function Dc(e,r,a,u){var m=Un();u=u===void 0?null:u,jt.flags|=e,m.memoizedState=Fo(1|r,Cc(),a,u)}function eu(e,r,a,u){var m=je();u=u===void 0?null:u;var g=m.memoizedState.inst;ae!==null&&u!==null&&sd(u,ae.memoizedState.deps)?m.memoizedState=Fo(r,g,a,u):(jt.flags|=e,m.memoizedState=Fo(1|r,g,a,u))}function $y(e,r){Dc(8390656,8,e,r)}function zy(e,r){eu(2048,8,e,r)}function Fy(e,r){return eu(4,2,e,r)}function qy(e,r){return eu(4,4,e,r)}function Hy(e,r){if(typeof r=="function"){e=e();var a=r(e);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function Gy(e,r,a){a=a!=null?a.concat([e]):null,eu(4,4,Hy.bind(null,r,e),a)}function gd(){}function Ky(e,r){var a=je();r=r===void 0?null:r;var u=a.memoizedState;return r!==null&&sd(r,u[1])?u[0]:(a.memoizedState=[e,r],e)}function Yy(e,r){var a=je();r=r===void 0?null:r;var u=a.memoizedState;if(r!==null&&sd(r,u[1]))return u[0];if(u=e(),Xa){Ye(!0);try{e()}finally{Ye(!1)}}return a.memoizedState=[u,r],u}function yd(e,r,a){return a===void 0||(ks&1073741824)!==0?e.memoizedState=r:(e.memoizedState=a,e=Z_(),jt.lanes|=e,Fs|=e,a)}function Qy(e,r,a,u){return ni(a,r)?a:Bo.current!==null?(e=yd(e,a,u),ni(e,r)||(We=!0),e):(ks&42)===0?(We=!0,e.memoizedState=a):(e=Z_(),jt.lanes|=e,Fs|=e,r)}function Xy(e,r,a,u,m){var g=lt.p;lt.p=g!==0&&8>g?g:8;var T=X.T,D={};X.T=D,Ed(e,!1,r,a);try{var P=m(),q=X.S;if(q!==null&&q(D,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var Z=_S(P,u);nu(e,r,Z,oi(e))}else nu(e,r,u,oi(e))}catch(tt){nu(e,r,{then:function(){},status:"rejected",reason:tt},oi())}finally{lt.p=g,X.T=T}}function wS(){}function _d(e,r,a,u){if(e.tag!==5)throw Error(s(476));var m=Zy(e).queue;Xy(e,m,r,dt,a===null?wS:function(){return Jy(e),a(u)})}function Zy(e){var r=e.memoizedState;if(r!==null)return r;r={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jr,lastRenderedState:dt},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jr,lastRenderedState:a},next:null},e.memoizedState=r,e=e.alternate,e!==null&&(e.memoizedState=r),r}function Jy(e){var r=Zy(e).next.queue;nu(e,r,{},oi())}function vd(){return vn(Eu)}function Wy(){return je().memoizedState}function t_(){return je().memoizedState}function SS(e){for(var r=e.return;r!==null;){switch(r.tag){case 24:case 3:var a=oi();e=Vs(a);var u=Ps(r,e,a);u!==null&&(li(u,r,a),Xl(u,r,a)),r={cache:Qf()},e.payload=r;return}r=r.return}}function AS(e,r,a){var u=oi();a={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Nc(e)?n_(r,a):(a=Uf(e,r,a,u),a!==null&&(li(a,e,u),i_(a,r,u)))}function e_(e,r,a){var u=oi();nu(e,r,a,u)}function nu(e,r,a,u){var m={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Nc(e))n_(r,m);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var T=r.lastRenderedState,D=g(T,a);if(m.hasEagerState=!0,m.eagerState=D,ni(D,T))return mc(e,r,m,0),de===null&&dc(),!1}catch{}finally{}if(a=Uf(e,r,m,u),a!==null)return li(a,e,u),i_(a,r,u),!0}return!1}function Ed(e,r,a,u){if(u={lane:2,revertLane:Jd(),action:u,hasEagerState:!1,eagerState:null,next:null},Nc(e)){if(r)throw Error(s(479))}else r=Uf(e,a,u,2),r!==null&&li(r,e,2)}function Nc(e){var r=e.alternate;return e===jt||r!==null&&r===jt}function n_(e,r){$o=Ac=!0;var a=e.pending;a===null?r.next=r:(r.next=a.next,a.next=r),e.pending=r}function i_(e,r,a){if((a&4194048)!==0){var u=r.lanes;u&=e.pendingLanes,a|=u,r.lanes=a,vs(e,a)}}var Oc={readContext:vn,use:xc,useCallback:Me,useContext:Me,useEffect:Me,useImperativeHandle:Me,useLayoutEffect:Me,useInsertionEffect:Me,useMemo:Me,useReducer:Me,useRef:Me,useState:Me,useDebugValue:Me,useDeferredValue:Me,useTransition:Me,useSyncExternalStore:Me,useId:Me,useHostTransitionStatus:Me,useFormState:Me,useActionState:Me,useOptimistic:Me,useMemoCache:Me,useCacheRefresh:Me},r_={readContext:vn,use:xc,useCallback:function(e,r){return Un().memoizedState=[e,r===void 0?null:r],e},useContext:vn,useEffect:$y,useImperativeHandle:function(e,r,a){a=a!=null?a.concat([e]):null,Dc(4194308,4,Hy.bind(null,r,e),a)},useLayoutEffect:function(e,r){return Dc(4194308,4,e,r)},useInsertionEffect:function(e,r){Dc(4,2,e,r)},useMemo:function(e,r){var a=Un();r=r===void 0?null:r;var u=e();if(Xa){Ye(!0);try{e()}finally{Ye(!1)}}return a.memoizedState=[u,r],u},useReducer:function(e,r,a){var u=Un();if(a!==void 0){var m=a(r);if(Xa){Ye(!0);try{a(r)}finally{Ye(!1)}}}else m=r;return u.memoizedState=u.baseState=m,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:m},u.queue=e,e=e.dispatch=AS.bind(null,jt,e),[u.memoizedState,e]},useRef:function(e){var r=Un();return e={current:e},r.memoizedState=e},useState:function(e){e=md(e);var r=e.queue,a=e_.bind(null,jt,r);return r.dispatch=a,[e.memoizedState,a]},useDebugValue:gd,useDeferredValue:function(e,r){var a=Un();return yd(a,e,r)},useTransition:function(){var e=md(!1);return e=Xy.bind(null,jt,e.queue,!0,!1),Un().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,r,a){var u=jt,m=Un();if(Zt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),de===null)throw Error(s(349));(Ht&124)!==0||Ay(u,r,a)}m.memoizedState=a;var g={value:a,getSnapshot:r};return m.queue=g,$y(xy.bind(null,u,g,e),[e]),u.flags|=2048,Fo(9,Cc(),Ry.bind(null,u,g,a,r),null),a},useId:function(){var e=Un(),r=de.identifierPrefix;if(Zt){var a=Qr,u=Yr;a=(u&~(1<<32-$e(u)-1)).toString(32)+a,r=""+r+"R"+a,a=Rc++,0<a&&(r+="H"+a.toString(32)),r+=""}else a=vS++,r=""+r+"r"+a.toString(32)+"";return e.memoizedState=r},useHostTransitionStatus:vd,useFormState:ky,useActionState:ky,useOptimistic:function(e){var r=Un();r.memoizedState=r.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Ed.bind(null,jt,!0,a),a.dispatch=r,[e,r]},useMemoCache:hd,useCacheRefresh:function(){return Un().memoizedState=SS.bind(null,jt)}},s_={readContext:vn,use:xc,useCallback:Ky,useContext:vn,useEffect:zy,useImperativeHandle:Gy,useInsertionEffect:Fy,useLayoutEffect:qy,useMemo:Yy,useReducer:Ic,useRef:By,useState:function(){return Ic(Jr)},useDebugValue:gd,useDeferredValue:function(e,r){var a=je();return Qy(a,ae.memoizedState,e,r)},useTransition:function(){var e=Ic(Jr)[0],r=je().memoizedState;return[typeof e=="boolean"?e:tu(e),r]},useSyncExternalStore:Sy,useId:Wy,useHostTransitionStatus:vd,useFormState:jy,useActionState:jy,useOptimistic:function(e,r){var a=je();return Dy(a,ae,e,r)},useMemoCache:hd,useCacheRefresh:t_},RS={readContext:vn,use:xc,useCallback:Ky,useContext:vn,useEffect:zy,useImperativeHandle:Gy,useInsertionEffect:Fy,useLayoutEffect:qy,useMemo:Yy,useReducer:dd,useRef:By,useState:function(){return dd(Jr)},useDebugValue:gd,useDeferredValue:function(e,r){var a=je();return ae===null?yd(a,e,r):Qy(a,ae.memoizedState,e,r)},useTransition:function(){var e=dd(Jr)[0],r=je().memoizedState;return[typeof e=="boolean"?e:tu(e),r]},useSyncExternalStore:Sy,useId:Wy,useHostTransitionStatus:vd,useFormState:Uy,useActionState:Uy,useOptimistic:function(e,r){var a=je();return ae!==null?Dy(a,ae,e,r):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:hd,useCacheRefresh:t_},qo=null,iu=0;function Mc(e){var r=iu;return iu+=1,qo===null&&(qo=[]),gy(qo,e,r)}function ru(e,r){r=r.props.ref,e.ref=r!==void 0?r:null}function Vc(e,r){throw r.$$typeof===M?Error(s(525)):(e=Object.prototype.toString.call(r),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e)))}function a_(e){var r=e._init;return r(e._payload)}function o_(e){function r(z,B){if(e){var F=z.deletions;F===null?(z.deletions=[B],z.flags|=16):F.push(B)}}function a(z,B){if(!e)return null;for(;B!==null;)r(z,B),B=B.sibling;return null}function u(z){for(var B=new Map;z!==null;)z.key!==null?B.set(z.key,z):B.set(z.index,z),z=z.sibling;return B}function m(z,B){return z=Kr(z,B),z.index=0,z.sibling=null,z}function g(z,B,F){return z.index=F,e?(F=z.alternate,F!==null?(F=F.index,F<B?(z.flags|=67108866,B):F):(z.flags|=67108866,B)):(z.flags|=1048576,B)}function T(z){return e&&z.alternate===null&&(z.flags|=67108866),z}function D(z,B,F,J){return B===null||B.tag!==6?(B=$f(F,z.mode,J),B.return=z,B):(B=m(B,F),B.return=z,B)}function P(z,B,F,J){var mt=F.type;return mt===U?Z(z,B,F.props.children,J,F.key):B!==null&&(B.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===E&&a_(mt)===B.type)?(B=m(B,F.props),ru(B,F),B.return=z,B):(B=gc(F.type,F.key,F.props,null,z.mode,J),ru(B,F),B.return=z,B)}function q(z,B,F,J){return B===null||B.tag!==4||B.stateNode.containerInfo!==F.containerInfo||B.stateNode.implementation!==F.implementation?(B=zf(F,z.mode,J),B.return=z,B):(B=m(B,F.children||[]),B.return=z,B)}function Z(z,B,F,J,mt){return B===null||B.tag!==7?(B=za(F,z.mode,J,mt),B.return=z,B):(B=m(B,F),B.return=z,B)}function tt(z,B,F){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=$f(""+B,z.mode,F),B.return=z,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case O:return F=gc(B.type,B.key,B.props,null,z.mode,F),ru(F,B),F.return=z,F;case L:return B=zf(B,z.mode,F),B.return=z,B;case E:var J=B._init;return B=J(B._payload),tt(z,B,F)}if(ee(B)||N(B))return B=za(B,z.mode,F,null),B.return=z,B;if(typeof B.then=="function")return tt(z,Mc(B),F);if(B.$$typeof===rt)return tt(z,Ec(z,B),F);Vc(z,B)}return null}function K(z,B,F,J){var mt=B!==null?B.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return mt!==null?null:D(z,B,""+F,J);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case O:return F.key===mt?P(z,B,F,J):null;case L:return F.key===mt?q(z,B,F,J):null;case E:return mt=F._init,F=mt(F._payload),K(z,B,F,J)}if(ee(F)||N(F))return mt!==null?null:Z(z,B,F,J,null);if(typeof F.then=="function")return K(z,B,Mc(F),J);if(F.$$typeof===rt)return K(z,B,Ec(z,F),J);Vc(z,F)}return null}function Y(z,B,F,J,mt){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return z=z.get(F)||null,D(B,z,""+J,mt);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case O:return z=z.get(J.key===null?F:J.key)||null,P(B,z,J,mt);case L:return z=z.get(J.key===null?F:J.key)||null,q(B,z,J,mt);case E:var Lt=J._init;return J=Lt(J._payload),Y(z,B,F,J,mt)}if(ee(J)||N(J))return z=z.get(F)||null,Z(B,z,J,mt,null);if(typeof J.then=="function")return Y(z,B,F,Mc(J),mt);if(J.$$typeof===rt)return Y(z,B,F,Ec(B,J),mt);Vc(B,J)}return null}function It(z,B,F,J){for(var mt=null,Lt=null,yt=B,Rt=B=0,en=null;yt!==null&&Rt<F.length;Rt++){yt.index>Rt?(en=yt,yt=null):en=yt.sibling;var Qt=K(z,yt,F[Rt],J);if(Qt===null){yt===null&&(yt=en);break}e&&yt&&Qt.alternate===null&&r(z,yt),B=g(Qt,B,Rt),Lt===null?mt=Qt:Lt.sibling=Qt,Lt=Qt,yt=en}if(Rt===F.length)return a(z,yt),Zt&&qa(z,Rt),mt;if(yt===null){for(;Rt<F.length;Rt++)yt=tt(z,F[Rt],J),yt!==null&&(B=g(yt,B,Rt),Lt===null?mt=yt:Lt.sibling=yt,Lt=yt);return Zt&&qa(z,Rt),mt}for(yt=u(yt);Rt<F.length;Rt++)en=Y(yt,z,Rt,F[Rt],J),en!==null&&(e&&en.alternate!==null&&yt.delete(en.key===null?Rt:en.key),B=g(en,B,Rt),Lt===null?mt=en:Lt.sibling=en,Lt=en);return e&&yt.forEach(function(Js){return r(z,Js)}),Zt&&qa(z,Rt),mt}function St(z,B,F,J){if(F==null)throw Error(s(151));for(var mt=null,Lt=null,yt=B,Rt=B=0,en=null,Qt=F.next();yt!==null&&!Qt.done;Rt++,Qt=F.next()){yt.index>Rt?(en=yt,yt=null):en=yt.sibling;var Js=K(z,yt,Qt.value,J);if(Js===null){yt===null&&(yt=en);break}e&&yt&&Js.alternate===null&&r(z,yt),B=g(Js,B,Rt),Lt===null?mt=Js:Lt.sibling=Js,Lt=Js,yt=en}if(Qt.done)return a(z,yt),Zt&&qa(z,Rt),mt;if(yt===null){for(;!Qt.done;Rt++,Qt=F.next())Qt=tt(z,Qt.value,J),Qt!==null&&(B=g(Qt,B,Rt),Lt===null?mt=Qt:Lt.sibling=Qt,Lt=Qt);return Zt&&qa(z,Rt),mt}for(yt=u(yt);!Qt.done;Rt++,Qt=F.next())Qt=Y(yt,z,Rt,Qt.value,J),Qt!==null&&(e&&Qt.alternate!==null&&yt.delete(Qt.key===null?Rt:Qt.key),B=g(Qt,B,Rt),Lt===null?mt=Qt:Lt.sibling=Qt,Lt=Qt);return e&&yt.forEach(function(xA){return r(z,xA)}),Zt&&qa(z,Rt),mt}function le(z,B,F,J){if(typeof F=="object"&&F!==null&&F.type===U&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case O:t:{for(var mt=F.key;B!==null;){if(B.key===mt){if(mt=F.type,mt===U){if(B.tag===7){a(z,B.sibling),J=m(B,F.props.children),J.return=z,z=J;break t}}else if(B.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===E&&a_(mt)===B.type){a(z,B.sibling),J=m(B,F.props),ru(J,F),J.return=z,z=J;break t}a(z,B);break}else r(z,B);B=B.sibling}F.type===U?(J=za(F.props.children,z.mode,J,F.key),J.return=z,z=J):(J=gc(F.type,F.key,F.props,null,z.mode,J),ru(J,F),J.return=z,z=J)}return T(z);case L:t:{for(mt=F.key;B!==null;){if(B.key===mt)if(B.tag===4&&B.stateNode.containerInfo===F.containerInfo&&B.stateNode.implementation===F.implementation){a(z,B.sibling),J=m(B,F.children||[]),J.return=z,z=J;break t}else{a(z,B);break}else r(z,B);B=B.sibling}J=zf(F,z.mode,J),J.return=z,z=J}return T(z);case E:return mt=F._init,F=mt(F._payload),le(z,B,F,J)}if(ee(F))return It(z,B,F,J);if(N(F)){if(mt=N(F),typeof mt!="function")throw Error(s(150));return F=mt.call(F),St(z,B,F,J)}if(typeof F.then=="function")return le(z,B,Mc(F),J);if(F.$$typeof===rt)return le(z,B,Ec(z,F),J);Vc(z,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,B!==null&&B.tag===6?(a(z,B.sibling),J=m(B,F),J.return=z,z=J):(a(z,B),J=$f(F,z.mode,J),J.return=z,z=J),T(z)):a(z,B)}return function(z,B,F,J){try{iu=0;var mt=le(z,B,F,J);return qo=null,mt}catch(yt){if(yt===Yl||yt===Tc)throw yt;var Lt=ii(29,yt,null,z.mode);return Lt.lanes=J,Lt.return=z,Lt}finally{}}}var Ho=o_(!0),l_=o_(!1),Oi=nt(null),cr=null;function js(e){var r=e.alternate;it(qe,qe.current&1),it(Oi,e),cr===null&&(r===null||Bo.current!==null||r.memoizedState!==null)&&(cr=e)}function u_(e){if(e.tag===22){if(it(qe,qe.current),it(Oi,e),cr===null){var r=e.alternate;r!==null&&r.memoizedState!==null&&(cr=e)}}else Ls()}function Ls(){it(qe,qe.current),it(Oi,Oi.current)}function Wr(e){ot(Oi),cr===e&&(cr=null),ot(qe)}var qe=nt(0);function Pc(e){for(var r=e;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||cm(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function bd(e,r,a,u){r=e.memoizedState,a=a(u,r),a=a==null?r:A({},r,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Td={enqueueSetState:function(e,r,a){e=e._reactInternals;var u=oi(),m=Vs(u);m.payload=r,a!=null&&(m.callback=a),r=Ps(e,m,u),r!==null&&(li(r,e,u),Xl(r,e,u))},enqueueReplaceState:function(e,r,a){e=e._reactInternals;var u=oi(),m=Vs(u);m.tag=1,m.payload=r,a!=null&&(m.callback=a),r=Ps(e,m,u),r!==null&&(li(r,e,u),Xl(r,e,u))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var a=oi(),u=Vs(a);u.tag=2,r!=null&&(u.callback=r),r=Ps(e,u,a),r!==null&&(li(r,e,a),Xl(r,e,a))}};function c_(e,r,a,u,m,g,T){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(u,g,T):r.prototype&&r.prototype.isPureReactComponent?!Bl(a,u)||!Bl(m,g):!0}function h_(e,r,a,u){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,u),r.state!==e&&Td.enqueueReplaceState(r,r.state,null)}function Za(e,r){var a=r;if("ref"in r){a={};for(var u in r)u!=="ref"&&(a[u]=r[u])}if(e=e.defaultProps){a===r&&(a=A({},a));for(var m in e)a[m]===void 0&&(a[m]=e[m])}return a}var kc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function f_(e){kc(e)}function d_(e){console.error(e)}function m_(e){kc(e)}function jc(e,r){try{var a=e.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function p_(e,r,a){try{var u=e.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function wd(e,r,a){return a=Vs(a),a.tag=3,a.payload={element:null},a.callback=function(){jc(e,r)},a}function g_(e){return e=Vs(e),e.tag=3,e}function y_(e,r,a,u){var m=a.type.getDerivedStateFromError;if(typeof m=="function"){var g=u.value;e.payload=function(){return m(g)},e.callback=function(){p_(r,a,u)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(e.callback=function(){p_(r,a,u),typeof m!="function"&&(qs===null?qs=new Set([this]):qs.add(this));var D=u.stack;this.componentDidCatch(u.value,{componentStack:D!==null?D:""})})}function xS(e,r,a,u,m){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=a.alternate,r!==null&&Hl(r,a,m,!0),a=Oi.current,a!==null){switch(a.tag){case 13:return cr===null?Kd():a.alternate===null&&xe===0&&(xe=3),a.flags&=-257,a.flags|=65536,a.lanes=m,u===Jf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([u]):r.add(u),Qd(e,u,m)),!1;case 22:return a.flags|=65536,u===Jf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([u]):a.add(u)),Qd(e,u,m)),!1}throw Error(s(435,a.tag))}return Qd(e,u,m),Kd(),!1}if(Zt)return r=Oi.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=m,u!==Hf&&(e=Error(s(422),{cause:u}),ql(Ii(e,a)))):(u!==Hf&&(r=Error(s(423),{cause:u}),ql(Ii(r,a))),e=e.current.alternate,e.flags|=65536,m&=-m,e.lanes|=m,u=Ii(u,a),m=wd(e.stateNode,u,m),ed(e,m),xe!==4&&(xe=2)),!1;var g=Error(s(520),{cause:u});if(g=Ii(g,a),hu===null?hu=[g]:hu.push(g),xe!==4&&(xe=2),r===null)return!0;u=Ii(u,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,e=m&-m,a.lanes|=e,e=wd(a.stateNode,u,e),ed(a,e),!1;case 1:if(r=a.type,g=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(qs===null||!qs.has(g))))return a.flags|=65536,m&=-m,a.lanes|=m,m=g_(m),y_(m,e,a,u),ed(a,m),!1}a=a.return}while(a!==null);return!1}var __=Error(s(461)),We=!1;function ln(e,r,a,u){r.child=e===null?l_(r,null,a,u):Ho(r,e.child,a,u)}function v_(e,r,a,u,m){a=a.render;var g=r.ref;if("ref"in u){var T={};for(var D in u)D!=="ref"&&(T[D]=u[D])}else T=u;return Ya(r),u=ad(e,r,a,T,g,m),D=od(),e!==null&&!We?(ld(e,r,m),ts(e,r,m)):(Zt&&D&&Ff(r),r.flags|=1,ln(e,r,u,m),r.child)}function E_(e,r,a,u,m){if(e===null){var g=a.type;return typeof g=="function"&&!Bf(g)&&g.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=g,b_(e,r,g,u,m)):(e=gc(a.type,null,u,r,r.mode,m),e.ref=r.ref,e.return=r,r.child=e)}if(g=e.child,!Nd(e,m)){var T=g.memoizedProps;if(a=a.compare,a=a!==null?a:Bl,a(T,u)&&e.ref===r.ref)return ts(e,r,m)}return r.flags|=1,e=Kr(g,u),e.ref=r.ref,e.return=r,r.child=e}function b_(e,r,a,u,m){if(e!==null){var g=e.memoizedProps;if(Bl(g,u)&&e.ref===r.ref)if(We=!1,r.pendingProps=u=g,Nd(e,m))(e.flags&131072)!==0&&(We=!0);else return r.lanes=e.lanes,ts(e,r,m)}return Sd(e,r,a,u,m)}function T_(e,r,a){var u=r.pendingProps,m=u.children,g=e!==null?e.memoizedState:null;if(u.mode==="hidden"){if((r.flags&128)!==0){if(u=g!==null?g.baseLanes|a:a,e!==null){for(m=r.child=e.child,g=0;m!==null;)g=g|m.lanes|m.childLanes,m=m.sibling;r.childLanes=g&~u}else r.childLanes=0,r.child=null;return w_(e,r,u,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},e!==null&&bc(r,g!==null?g.cachePool:null),g!==null?by(r,g):id(),u_(r);else return r.lanes=r.childLanes=536870912,w_(e,r,g!==null?g.baseLanes|a:a,a)}else g!==null?(bc(r,g.cachePool),by(r,g),Ls(),r.memoizedState=null):(e!==null&&bc(r,null),id(),Ls());return ln(e,r,m,a),r.child}function w_(e,r,a,u){var m=Zf();return m=m===null?null:{parent:Fe._currentValue,pool:m},r.memoizedState={baseLanes:a,cachePool:m},e!==null&&bc(r,null),id(),u_(r),e!==null&&Hl(e,r,u,!0),null}function Lc(e,r){var a=r.ref;if(a===null)e!==null&&e.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(r.flags|=4194816)}}function Sd(e,r,a,u,m){return Ya(r),a=ad(e,r,a,u,void 0,m),u=od(),e!==null&&!We?(ld(e,r,m),ts(e,r,m)):(Zt&&u&&Ff(r),r.flags|=1,ln(e,r,a,m),r.child)}function S_(e,r,a,u,m,g){return Ya(r),r.updateQueue=null,a=wy(r,u,a,m),Ty(e),u=od(),e!==null&&!We?(ld(e,r,g),ts(e,r,g)):(Zt&&u&&Ff(r),r.flags|=1,ln(e,r,a,g),r.child)}function A_(e,r,a,u,m){if(Ya(r),r.stateNode===null){var g=Po,T=a.contextType;typeof T=="object"&&T!==null&&(g=vn(T)),g=new a(u,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Td,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=u,g.state=r.memoizedState,g.refs={},Wf(r),T=a.contextType,g.context=typeof T=="object"&&T!==null?vn(T):Po,g.state=r.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(bd(r,a,T,u),g.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&Td.enqueueReplaceState(g,g.state,null),Jl(r,u,g,m),Zl(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(e===null){g=r.stateNode;var D=r.memoizedProps,P=Za(a,D);g.props=P;var q=g.context,Z=a.contextType;T=Po,typeof Z=="object"&&Z!==null&&(T=vn(Z));var tt=a.getDerivedStateFromProps;Z=typeof tt=="function"||typeof g.getSnapshotBeforeUpdate=="function",D=r.pendingProps!==D,Z||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(D||q!==T)&&h_(r,g,u,T),Ms=!1;var K=r.memoizedState;g.state=K,Jl(r,u,g,m),Zl(),q=r.memoizedState,D||K!==q||Ms?(typeof tt=="function"&&(bd(r,a,tt,u),q=r.memoizedState),(P=Ms||c_(r,a,P,u,K,q,T))?(Z||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=q),g.props=u,g.state=q,g.context=T,u=P):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{g=r.stateNode,td(e,r),T=r.memoizedProps,Z=Za(a,T),g.props=Z,tt=r.pendingProps,K=g.context,q=a.contextType,P=Po,typeof q=="object"&&q!==null&&(P=vn(q)),D=a.getDerivedStateFromProps,(q=typeof D=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==tt||K!==P)&&h_(r,g,u,P),Ms=!1,K=r.memoizedState,g.state=K,Jl(r,u,g,m),Zl();var Y=r.memoizedState;T!==tt||K!==Y||Ms||e!==null&&e.dependencies!==null&&vc(e.dependencies)?(typeof D=="function"&&(bd(r,a,D,u),Y=r.memoizedState),(Z=Ms||c_(r,a,Z,u,K,Y,P)||e!==null&&e.dependencies!==null&&vc(e.dependencies))?(q||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,Y,P),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,Y,P)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===e.memoizedProps&&K===e.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&K===e.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=Y),g.props=u,g.state=Y,g.context=P,u=Z):(typeof g.componentDidUpdate!="function"||T===e.memoizedProps&&K===e.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&K===e.memoizedState||(r.flags|=1024),u=!1)}return g=u,Lc(e,r),u=(r.flags&128)!==0,g||u?(g=r.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,e!==null&&u?(r.child=Ho(r,e.child,null,m),r.child=Ho(r,null,a,m)):ln(e,r,a,m),r.memoizedState=g.state,e=r.child):e=ts(e,r,m),e}function R_(e,r,a,u){return Fl(),r.flags|=256,ln(e,r,a,u),r.child}var Ad={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rd(e){return{baseLanes:e,cachePool:dy()}}function xd(e,r,a){return e=e!==null?e.childLanes&~a:0,r&&(e|=Mi),e}function x_(e,r,a){var u=r.pendingProps,m=!1,g=(r.flags&128)!==0,T;if((T=g)||(T=e!==null&&e.memoizedState===null?!1:(qe.current&2)!==0),T&&(m=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,e===null){if(Zt){if(m?js(r):Ls(),Zt){var D=Re,P;if(P=D){t:{for(P=D,D=ur;P.nodeType!==8;){if(!D){D=null;break t}if(P=Xi(P.nextSibling),P===null){D=null;break t}}D=P}D!==null?(r.memoizedState={dehydrated:D,treeContext:Fa!==null?{id:Yr,overflow:Qr}:null,retryLane:536870912,hydrationErrors:null},P=ii(18,null,null,0),P.stateNode=D,P.return=r,r.child=P,On=r,Re=null,P=!0):P=!1}P||Ga(r)}if(D=r.memoizedState,D!==null&&(D=D.dehydrated,D!==null))return cm(D)?r.lanes=32:r.lanes=536870912,null;Wr(r)}return D=u.children,u=u.fallback,m?(Ls(),m=r.mode,D=Uc({mode:"hidden",children:D},m),u=za(u,m,a,null),D.return=r,u.return=r,D.sibling=u,r.child=D,m=r.child,m.memoizedState=Rd(a),m.childLanes=xd(e,T,a),r.memoizedState=Ad,u):(js(r),Id(r,D))}if(P=e.memoizedState,P!==null&&(D=P.dehydrated,D!==null)){if(g)r.flags&256?(js(r),r.flags&=-257,r=Cd(e,r,a)):r.memoizedState!==null?(Ls(),r.child=e.child,r.flags|=128,r=null):(Ls(),m=u.fallback,D=r.mode,u=Uc({mode:"visible",children:u.children},D),m=za(m,D,a,null),m.flags|=2,u.return=r,m.return=r,u.sibling=m,r.child=u,Ho(r,e.child,null,a),u=r.child,u.memoizedState=Rd(a),u.childLanes=xd(e,T,a),r.memoizedState=Ad,r=m);else if(js(r),cm(D)){if(T=D.nextSibling&&D.nextSibling.dataset,T)var q=T.dgst;T=q,u=Error(s(419)),u.stack="",u.digest=T,ql({value:u,source:null,stack:null}),r=Cd(e,r,a)}else if(We||Hl(e,r,a,!1),T=(a&e.childLanes)!==0,We||T){if(T=de,T!==null&&(u=a&-a,u=(u&42)!==0?1:gi(u),u=(u&(T.suspendedLanes|a))!==0?0:u,u!==0&&u!==P.retryLane))throw P.retryLane=u,Vo(e,u),li(T,e,u),__;D.data==="$?"||Kd(),r=Cd(e,r,a)}else D.data==="$?"?(r.flags|=192,r.child=e.child,r=null):(e=P.treeContext,Re=Xi(D.nextSibling),On=r,Zt=!0,Ha=null,ur=!1,e!==null&&(Di[Ni++]=Yr,Di[Ni++]=Qr,Di[Ni++]=Fa,Yr=e.id,Qr=e.overflow,Fa=r),r=Id(r,u.children),r.flags|=4096);return r}return m?(Ls(),m=u.fallback,D=r.mode,P=e.child,q=P.sibling,u=Kr(P,{mode:"hidden",children:u.children}),u.subtreeFlags=P.subtreeFlags&65011712,q!==null?m=Kr(q,m):(m=za(m,D,a,null),m.flags|=2),m.return=r,u.return=r,u.sibling=m,r.child=u,u=m,m=r.child,D=e.child.memoizedState,D===null?D=Rd(a):(P=D.cachePool,P!==null?(q=Fe._currentValue,P=P.parent!==q?{parent:q,pool:q}:P):P=dy(),D={baseLanes:D.baseLanes|a,cachePool:P}),m.memoizedState=D,m.childLanes=xd(e,T,a),r.memoizedState=Ad,u):(js(r),a=e.child,e=a.sibling,a=Kr(a,{mode:"visible",children:u.children}),a.return=r,a.sibling=null,e!==null&&(T=r.deletions,T===null?(r.deletions=[e],r.flags|=16):T.push(e)),r.child=a,r.memoizedState=null,a)}function Id(e,r){return r=Uc({mode:"visible",children:r},e.mode),r.return=e,e.child=r}function Uc(e,r){return e=ii(22,e,null,r),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Cd(e,r,a){return Ho(r,e.child,null,a),e=Id(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function I_(e,r,a){e.lanes|=r;var u=e.alternate;u!==null&&(u.lanes|=r),Kf(e.return,r,a)}function Dd(e,r,a,u,m){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:m}:(g.isBackwards=r,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=a,g.tailMode=m)}function C_(e,r,a){var u=r.pendingProps,m=u.revealOrder,g=u.tail;if(ln(e,r,u.children,a),u=qe.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&I_(e,a,r);else if(e.tag===19)I_(e,a,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break t;for(;e.sibling===null;){if(e.return===null||e.return===r)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}u&=1}switch(it(qe,u),m){case"forwards":for(a=r.child,m=null;a!==null;)e=a.alternate,e!==null&&Pc(e)===null&&(m=a),a=a.sibling;a=m,a===null?(m=r.child,r.child=null):(m=a.sibling,a.sibling=null),Dd(r,!1,m,a,g);break;case"backwards":for(a=null,m=r.child,r.child=null;m!==null;){if(e=m.alternate,e!==null&&Pc(e)===null){r.child=m;break}e=m.sibling,m.sibling=a,a=m,m=e}Dd(r,!0,a,null,g);break;case"together":Dd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ts(e,r,a){if(e!==null&&(r.dependencies=e.dependencies),Fs|=r.lanes,(a&r.childLanes)===0)if(e!==null){if(Hl(e,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(e!==null&&r.child!==e.child)throw Error(s(153));if(r.child!==null){for(e=r.child,a=Kr(e,e.pendingProps),r.child=a,a.return=r;e.sibling!==null;)e=e.sibling,a=a.sibling=Kr(e,e.pendingProps),a.return=r;a.sibling=null}return r.child}function Nd(e,r){return(e.lanes&r)!==0?!0:(e=e.dependencies,!!(e!==null&&vc(e)))}function IS(e,r,a){switch(r.tag){case 3:Xt(r,r.stateNode.containerInfo),Os(r,Fe,e.memoizedState.cache),Fl();break;case 27:case 5:mn(r);break;case 4:Xt(r,r.stateNode.containerInfo);break;case 10:Os(r,r.type,r.memoizedProps.value);break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(js(r),r.flags|=128,null):(a&r.child.childLanes)!==0?x_(e,r,a):(js(r),e=ts(e,r,a),e!==null?e.sibling:null);js(r);break;case 19:var m=(e.flags&128)!==0;if(u=(a&r.childLanes)!==0,u||(Hl(e,r,a,!1),u=(a&r.childLanes)!==0),m){if(u)return C_(e,r,a);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),it(qe,qe.current),u)break;return null;case 22:case 23:return r.lanes=0,T_(e,r,a);case 24:Os(r,Fe,e.memoizedState.cache)}return ts(e,r,a)}function D_(e,r,a){if(e!==null)if(e.memoizedProps!==r.pendingProps)We=!0;else{if(!Nd(e,a)&&(r.flags&128)===0)return We=!1,IS(e,r,a);We=(e.flags&131072)!==0}else We=!1,Zt&&(r.flags&1048576)!==0&&ay(r,_c,r.index);switch(r.lanes=0,r.tag){case 16:t:{e=r.pendingProps;var u=r.elementType,m=u._init;if(u=m(u._payload),r.type=u,typeof u=="function")Bf(u)?(e=Za(u,e),r.tag=1,r=A_(null,r,u,e,a)):(r.tag=0,r=Sd(null,r,u,e,a));else{if(u!=null){if(m=u.$$typeof,m===ut){r.tag=11,r=v_(null,r,u,e,a);break t}else if(m===C){r.tag=14,r=E_(null,r,u,e,a);break t}}throw r=te(u)||u,Error(s(306,r,""))}}return r;case 0:return Sd(e,r,r.type,r.pendingProps,a);case 1:return u=r.type,m=Za(u,r.pendingProps),A_(e,r,u,m,a);case 3:t:{if(Xt(r,r.stateNode.containerInfo),e===null)throw Error(s(387));u=r.pendingProps;var g=r.memoizedState;m=g.element,td(e,r),Jl(r,u,null,a);var T=r.memoizedState;if(u=T.cache,Os(r,Fe,u),u!==g.cache&&Yf(r,[Fe],a,!0),Zl(),u=T.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=R_(e,r,u,a);break t}else if(u!==m){m=Ii(Error(s(424)),r),ql(m),r=R_(e,r,u,a);break t}else{switch(e=r.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Re=Xi(e.firstChild),On=r,Zt=!0,Ha=null,ur=!0,a=l_(r,null,u,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Fl(),u===m){r=ts(e,r,a);break t}ln(e,r,u,a)}r=r.child}return r;case 26:return Lc(e,r),e===null?(a=Vv(r.type,null,r.pendingProps,null))?r.memoizedState=a:Zt||(a=r.type,e=r.pendingProps,u=Wc(At.current).createElement(a),u[Te]=r,u[he]=e,cn(u,a,e),ge(u),r.stateNode=u):r.memoizedState=Vv(r.type,e.memoizedProps,r.pendingProps,e.memoizedState),null;case 27:return mn(r),e===null&&Zt&&(u=r.stateNode=Nv(r.type,r.pendingProps,At.current),On=r,ur=!0,m=Re,Ks(r.type)?(hm=m,Re=Xi(u.firstChild)):Re=m),ln(e,r,r.pendingProps.children,a),Lc(e,r),e===null&&(r.flags|=4194304),r.child;case 5:return e===null&&Zt&&((m=u=Re)&&(u=nA(u,r.type,r.pendingProps,ur),u!==null?(r.stateNode=u,On=r,Re=Xi(u.firstChild),ur=!1,m=!0):m=!1),m||Ga(r)),mn(r),m=r.type,g=r.pendingProps,T=e!==null?e.memoizedProps:null,u=g.children,om(m,g)?u=null:T!==null&&om(m,T)&&(r.flags|=32),r.memoizedState!==null&&(m=ad(e,r,ES,null,null,a),Eu._currentValue=m),Lc(e,r),ln(e,r,u,a),r.child;case 6:return e===null&&Zt&&((e=a=Re)&&(a=iA(a,r.pendingProps,ur),a!==null?(r.stateNode=a,On=r,Re=null,e=!0):e=!1),e||Ga(r)),null;case 13:return x_(e,r,a);case 4:return Xt(r,r.stateNode.containerInfo),u=r.pendingProps,e===null?r.child=Ho(r,null,u,a):ln(e,r,u,a),r.child;case 11:return v_(e,r,r.type,r.pendingProps,a);case 7:return ln(e,r,r.pendingProps,a),r.child;case 8:return ln(e,r,r.pendingProps.children,a),r.child;case 12:return ln(e,r,r.pendingProps.children,a),r.child;case 10:return u=r.pendingProps,Os(r,r.type,u.value),ln(e,r,u.children,a),r.child;case 9:return m=r.type._context,u=r.pendingProps.children,Ya(r),m=vn(m),u=u(m),r.flags|=1,ln(e,r,u,a),r.child;case 14:return E_(e,r,r.type,r.pendingProps,a);case 15:return b_(e,r,r.type,r.pendingProps,a);case 19:return C_(e,r,a);case 31:return u=r.pendingProps,a=r.mode,u={mode:u.mode,children:u.children},e===null?(a=Uc(u,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Kr(e.child,u),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return T_(e,r,a);case 24:return Ya(r),u=vn(Fe),e===null?(m=Zf(),m===null&&(m=de,g=Qf(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=a),m=g),r.memoizedState={parent:u,cache:m},Wf(r),Os(r,Fe,m)):((e.lanes&a)!==0&&(td(e,r),Jl(r,null,null,a),Zl()),m=e.memoizedState,g=r.memoizedState,m.parent!==u?(m={parent:u,cache:u},r.memoizedState=m,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=m),Os(r,Fe,u)):(u=g.cache,Os(r,Fe,u),u!==m.cache&&Yf(r,[Fe],a,!0))),ln(e,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function es(e){e.flags|=4}function N_(e,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Uv(r)){if(r=Oi.current,r!==null&&((Ht&4194048)===Ht?cr!==null:(Ht&62914560)!==Ht&&(Ht&536870912)===0||r!==cr))throw Ql=Jf,my;e.flags|=8192}}function Bc(e,r){r!==null&&(e.flags|=4),e.flags&16384&&(r=e.tag!==22?Ta():536870912,e.lanes|=r,Qo|=r)}function su(e,r){if(!Zt)switch(e.tailMode){case"hidden":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:u.sibling=null}}function ve(e){var r=e.alternate!==null&&e.alternate.child===e.child,a=0,u=0;if(r)for(var m=e.child;m!==null;)a|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=e,m=m.sibling;else for(m=e.child;m!==null;)a|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=e,m=m.sibling;return e.subtreeFlags|=u,e.childLanes=a,r}function CS(e,r,a){var u=r.pendingProps;switch(qf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ve(r),null;case 1:return ve(r),null;case 3:return a=r.stateNode,u=null,e!==null&&(u=e.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Zr(Fe),Sn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(zl(r)?es(r):e===null||e.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,uy())),ve(r),null;case 26:return a=r.memoizedState,e===null?(es(r),a!==null?(ve(r),N_(r,a)):(ve(r),r.flags&=-16777217)):a?a!==e.memoizedState?(es(r),ve(r),N_(r,a)):(ve(r),r.flags&=-16777217):(e.memoizedProps!==u&&es(r),ve(r),r.flags&=-16777217),null;case 27:pn(r),a=At.current;var m=r.type;if(e!==null&&r.stateNode!=null)e.memoizedProps!==u&&es(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ve(r),null}e=gt.current,zl(r)?oy(r):(e=Nv(m,u,a),r.stateNode=e,es(r))}return ve(r),null;case 5:if(pn(r),a=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==u&&es(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ve(r),null}if(e=gt.current,zl(r))oy(r);else{switch(m=Wc(At.current),e){case 1:e=m.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=m.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=m.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=m.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=m.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof u.is=="string"?m.createElement("select",{is:u.is}):m.createElement("select"),u.multiple?e.multiple=!0:u.size&&(e.size=u.size);break;default:e=typeof u.is=="string"?m.createElement(a,{is:u.is}):m.createElement(a)}}e[Te]=r,e[he]=u;t:for(m=r.child;m!==null;){if(m.tag===5||m.tag===6)e.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===r)break t;for(;m.sibling===null;){if(m.return===null||m.return===r)break t;m=m.return}m.sibling.return=m.return,m=m.sibling}r.stateNode=e;t:switch(cn(e,a,u),a){case"button":case"input":case"select":case"textarea":e=!!u.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&es(r)}}return ve(r),r.flags&=-16777217,null;case 6:if(e&&r.stateNode!=null)e.memoizedProps!==u&&es(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(e=At.current,zl(r)){if(e=r.stateNode,a=r.memoizedProps,u=null,m=On,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}e[Te]=r,e=!!(e.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||Sv(e.nodeValue,a)),e||Ga(r)}else e=Wc(e).createTextNode(u),e[Te]=r,r.stateNode=e}return ve(r),null;case 13:if(u=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(m=zl(r),u!==null&&u.dehydrated!==null){if(e===null){if(!m)throw Error(s(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));m[Te]=r}else Fl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ve(r),m=!1}else m=uy(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=m),m=!0;if(!m)return r.flags&256?(Wr(r),r):(Wr(r),null)}if(Wr(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=u!==null,e=e!==null&&e.memoizedState!==null,a){u=r.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==m&&(u.flags|=2048)}return a!==e&&a&&(r.child.flags|=8192),Bc(r,r.updateQueue),ve(r),null;case 4:return Sn(),e===null&&nm(r.stateNode.containerInfo),ve(r),null;case 10:return Zr(r.type),ve(r),null;case 19:if(ot(qe),m=r.memoizedState,m===null)return ve(r),null;if(u=(r.flags&128)!==0,g=m.rendering,g===null)if(u)su(m,!1);else{if(xe!==0||e!==null&&(e.flags&128)!==0)for(e=r.child;e!==null;){if(g=Pc(e),g!==null){for(r.flags|=128,su(m,!1),e=g.updateQueue,r.updateQueue=e,Bc(r,e),r.subtreeFlags=0,e=a,a=r.child;a!==null;)sy(a,e),a=a.sibling;return it(qe,qe.current&1|2),r.child}e=e.sibling}m.tail!==null&&Vn()>Fc&&(r.flags|=128,u=!0,su(m,!1),r.lanes=4194304)}else{if(!u)if(e=Pc(g),e!==null){if(r.flags|=128,u=!0,e=e.updateQueue,r.updateQueue=e,Bc(r,e),su(m,!0),m.tail===null&&m.tailMode==="hidden"&&!g.alternate&&!Zt)return ve(r),null}else 2*Vn()-m.renderingStartTime>Fc&&a!==536870912&&(r.flags|=128,u=!0,su(m,!1),r.lanes=4194304);m.isBackwards?(g.sibling=r.child,r.child=g):(e=m.last,e!==null?e.sibling=g:r.child=g,m.last=g)}return m.tail!==null?(r=m.tail,m.rendering=r,m.tail=r.sibling,m.renderingStartTime=Vn(),r.sibling=null,e=qe.current,it(qe,u?e&1|2:e&1),r):(ve(r),null);case 22:case 23:return Wr(r),rd(),u=r.memoizedState!==null,e!==null?e.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(a&536870912)!==0&&(r.flags&128)===0&&(ve(r),r.subtreeFlags&6&&(r.flags|=8192)):ve(r),a=r.updateQueue,a!==null&&Bc(r,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==a&&(r.flags|=2048),e!==null&&ot(Qa),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Zr(Fe),ve(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function DS(e,r){switch(qf(r),r.tag){case 1:return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return Zr(Fe),Sn(),e=r.flags,(e&65536)!==0&&(e&128)===0?(r.flags=e&-65537|128,r):null;case 26:case 27:case 5:return pn(r),null;case 13:if(Wr(r),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Fl()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return ot(qe),null;case 4:return Sn(),null;case 10:return Zr(r.type),null;case 22:case 23:return Wr(r),rd(),e!==null&&ot(Qa),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 24:return Zr(Fe),null;case 25:return null;default:return null}}function O_(e,r){switch(qf(r),r.tag){case 3:Zr(Fe),Sn();break;case 26:case 27:case 5:pn(r);break;case 4:Sn();break;case 13:Wr(r);break;case 19:ot(qe);break;case 10:Zr(r.type);break;case 22:case 23:Wr(r),rd(),e!==null&&ot(Qa);break;case 24:Zr(Fe)}}function au(e,r){try{var a=r.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var m=u.next;a=m;do{if((a.tag&e)===e){u=void 0;var g=a.create,T=a.inst;u=g(),T.destroy=u}a=a.next}while(a!==m)}}catch(D){ue(r,r.return,D)}}function Us(e,r,a){try{var u=r.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var g=m.next;u=g;do{if((u.tag&e)===e){var T=u.inst,D=T.destroy;if(D!==void 0){T.destroy=void 0,m=r;var P=a,q=D;try{q()}catch(Z){ue(m,P,Z)}}}u=u.next}while(u!==g)}}catch(Z){ue(r,r.return,Z)}}function M_(e){var r=e.updateQueue;if(r!==null){var a=e.stateNode;try{Ey(r,a)}catch(u){ue(e,e.return,u)}}}function V_(e,r,a){a.props=Za(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(u){ue(e,r,u)}}function ou(e,r){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var u=e.stateNode;break;case 30:u=e.stateNode;break;default:u=e.stateNode}typeof a=="function"?e.refCleanup=a(u):a.current=u}}catch(m){ue(e,r,m)}}function hr(e,r){var a=e.ref,u=e.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(m){ue(e,r,m)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(m){ue(e,r,m)}else a.current=null}function P_(e){var r=e.type,a=e.memoizedProps,u=e.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break t;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(m){ue(e,e.return,m)}}function Od(e,r,a){try{var u=e.stateNode;ZS(u,e.type,a,r),u[he]=r}catch(m){ue(e,e.return,m)}}function k_(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ks(e.type)||e.tag===4}function Md(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||k_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ks(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vd(e,r,a){var u=e.tag;if(u===5||u===6)e=e.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(e),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Jc));else if(u!==4&&(u===27&&Ks(e.type)&&(a=e.stateNode,r=null),e=e.child,e!==null))for(Vd(e,r,a),e=e.sibling;e!==null;)Vd(e,r,a),e=e.sibling}function $c(e,r,a){var u=e.tag;if(u===5||u===6)e=e.stateNode,r?a.insertBefore(e,r):a.appendChild(e);else if(u!==4&&(u===27&&Ks(e.type)&&(a=e.stateNode),e=e.child,e!==null))for($c(e,r,a),e=e.sibling;e!==null;)$c(e,r,a),e=e.sibling}function j_(e){var r=e.stateNode,a=e.memoizedProps;try{for(var u=e.type,m=r.attributes;m.length;)r.removeAttributeNode(m[0]);cn(r,u,a),r[Te]=e,r[he]=a}catch(g){ue(e,e.return,g)}}var ns=!1,Ve=!1,Pd=!1,L_=typeof WeakSet=="function"?WeakSet:Set,tn=null;function NS(e,r){if(e=e.containerInfo,sm=sh,e=Qg(e),Mf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var m=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break t}var T=0,D=-1,P=-1,q=0,Z=0,tt=e,K=null;e:for(;;){for(var Y;tt!==a||m!==0&&tt.nodeType!==3||(D=T+m),tt!==g||u!==0&&tt.nodeType!==3||(P=T+u),tt.nodeType===3&&(T+=tt.nodeValue.length),(Y=tt.firstChild)!==null;)K=tt,tt=Y;for(;;){if(tt===e)break e;if(K===a&&++q===m&&(D=T),K===g&&++Z===u&&(P=T),(Y=tt.nextSibling)!==null)break;tt=K,K=tt.parentNode}tt=Y}a=D===-1||P===-1?null:{start:D,end:P}}else a=null}a=a||{start:0,end:0}}else a=null;for(am={focusedElem:e,selectionRange:a},sh=!1,tn=r;tn!==null;)if(r=tn,e=r.child,(r.subtreeFlags&1024)!==0&&e!==null)e.return=r,tn=e;else for(;tn!==null;){switch(r=tn,g=r.alternate,e=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&g!==null){e=void 0,a=r,m=g.memoizedProps,g=g.memoizedState,u=a.stateNode;try{var It=Za(a.type,m,a.elementType===a.type);e=u.getSnapshotBeforeUpdate(It,g),u.__reactInternalSnapshotBeforeUpdate=e}catch(St){ue(a,a.return,St)}}break;case 3:if((e&1024)!==0){if(e=r.stateNode.containerInfo,a=e.nodeType,a===9)um(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":um(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=r.sibling,e!==null){e.return=r.return,tn=e;break}tn=r.return}}function U_(e,r,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:Bs(e,a),u&4&&au(5,a);break;case 1:if(Bs(e,a),u&4)if(e=a.stateNode,r===null)try{e.componentDidMount()}catch(T){ue(a,a.return,T)}else{var m=Za(a.type,r.memoizedProps);r=r.memoizedState;try{e.componentDidUpdate(m,r,e.__reactInternalSnapshotBeforeUpdate)}catch(T){ue(a,a.return,T)}}u&64&&M_(a),u&512&&ou(a,a.return);break;case 3:if(Bs(e,a),u&64&&(e=a.updateQueue,e!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Ey(e,r)}catch(T){ue(a,a.return,T)}}break;case 27:r===null&&u&4&&j_(a);case 26:case 5:Bs(e,a),r===null&&u&4&&P_(a),u&512&&ou(a,a.return);break;case 12:Bs(e,a);break;case 13:Bs(e,a),u&4&&z_(e,a),u&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=BS.bind(null,a),rA(e,a))));break;case 22:if(u=a.memoizedState!==null||ns,!u){r=r!==null&&r.memoizedState!==null||Ve,m=ns;var g=Ve;ns=u,(Ve=r)&&!g?$s(e,a,(a.subtreeFlags&8772)!==0):Bs(e,a),ns=m,Ve=g}break;case 30:break;default:Bs(e,a)}}function B_(e){var r=e.alternate;r!==null&&(e.alternate=null,B_(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&yi(r)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ye=null,Bn=!1;function is(e,r,a){for(a=a.child;a!==null;)$_(e,r,a),a=a.sibling}function $_(e,r,a){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(kt,a)}catch{}switch(a.tag){case 26:Ve||hr(a,r),is(e,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ve||hr(a,r);var u=ye,m=Bn;Ks(a.type)&&(ye=a.stateNode,Bn=!1),is(e,r,a),gu(a.stateNode),ye=u,Bn=m;break;case 5:Ve||hr(a,r);case 6:if(u=ye,m=Bn,ye=null,is(e,r,a),ye=u,Bn=m,ye!==null)if(Bn)try{(ye.nodeType===9?ye.body:ye.nodeName==="HTML"?ye.ownerDocument.body:ye).removeChild(a.stateNode)}catch(g){ue(a,r,g)}else try{ye.removeChild(a.stateNode)}catch(g){ue(a,r,g)}break;case 18:ye!==null&&(Bn?(e=ye,Cv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Su(e)):Cv(ye,a.stateNode));break;case 4:u=ye,m=Bn,ye=a.stateNode.containerInfo,Bn=!0,is(e,r,a),ye=u,Bn=m;break;case 0:case 11:case 14:case 15:Ve||Us(2,a,r),Ve||Us(4,a,r),is(e,r,a);break;case 1:Ve||(hr(a,r),u=a.stateNode,typeof u.componentWillUnmount=="function"&&V_(a,r,u)),is(e,r,a);break;case 21:is(e,r,a);break;case 22:Ve=(u=Ve)||a.memoizedState!==null,is(e,r,a),Ve=u;break;default:is(e,r,a)}}function z_(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Su(e)}catch(a){ue(r,r.return,a)}}function OS(e){switch(e.tag){case 13:case 19:var r=e.stateNode;return r===null&&(r=e.stateNode=new L_),r;case 22:return e=e.stateNode,r=e._retryCache,r===null&&(r=e._retryCache=new L_),r;default:throw Error(s(435,e.tag))}}function kd(e,r){var a=OS(e);r.forEach(function(u){var m=$S.bind(null,e,u);a.has(u)||(a.add(u),u.then(m,m))})}function ri(e,r){var a=r.deletions;if(a!==null)for(var u=0;u<a.length;u++){var m=a[u],g=e,T=r,D=T;t:for(;D!==null;){switch(D.tag){case 27:if(Ks(D.type)){ye=D.stateNode,Bn=!1;break t}break;case 5:ye=D.stateNode,Bn=!1;break t;case 3:case 4:ye=D.stateNode.containerInfo,Bn=!0;break t}D=D.return}if(ye===null)throw Error(s(160));$_(g,T,m),ye=null,Bn=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)F_(r,e),r=r.sibling}var Qi=null;function F_(e,r){var a=e.alternate,u=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ri(r,e),si(e),u&4&&(Us(3,e,e.return),au(3,e),Us(5,e,e.return));break;case 1:ri(r,e),si(e),u&512&&(Ve||a===null||hr(a,a.return)),u&64&&ns&&(e=e.updateQueue,e!==null&&(u=e.callbacks,u!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var m=Qi;if(ri(r,e),si(e),u&512&&(Ve||a===null||hr(a,a.return)),u&4){var g=a!==null?a.memoizedState:null;if(u=e.memoizedState,a===null)if(u===null)if(e.stateNode===null){t:{u=e.type,a=e.memoizedProps,m=m.ownerDocument||m;e:switch(u){case"title":g=m.getElementsByTagName("title")[0],(!g||g[Pr]||g[Te]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(u),m.head.insertBefore(g,m.querySelector("head > title"))),cn(g,u,a),g[Te]=e,ge(g),u=g;break t;case"link":var T=jv("link","href",m).get(u+(a.href||""));if(T){for(var D=0;D<T.length;D++)if(g=T[D],g.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&g.getAttribute("rel")===(a.rel==null?null:a.rel)&&g.getAttribute("title")===(a.title==null?null:a.title)&&g.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(D,1);break e}}g=m.createElement(u),cn(g,u,a),m.head.appendChild(g);break;case"meta":if(T=jv("meta","content",m).get(u+(a.content||""))){for(D=0;D<T.length;D++)if(g=T[D],g.getAttribute("content")===(a.content==null?null:""+a.content)&&g.getAttribute("name")===(a.name==null?null:a.name)&&g.getAttribute("property")===(a.property==null?null:a.property)&&g.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&g.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(D,1);break e}}g=m.createElement(u),cn(g,u,a),m.head.appendChild(g);break;default:throw Error(s(468,u))}g[Te]=e,ge(g),u=g}e.stateNode=u}else Lv(m,e.type,e.stateNode);else e.stateNode=kv(m,u,e.memoizedProps);else g!==u?(g===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):g.count--,u===null?Lv(m,e.type,e.stateNode):kv(m,u,e.memoizedProps)):u===null&&e.stateNode!==null&&Od(e,e.memoizedProps,a.memoizedProps)}break;case 27:ri(r,e),si(e),u&512&&(Ve||a===null||hr(a,a.return)),a!==null&&u&4&&Od(e,e.memoizedProps,a.memoizedProps);break;case 5:if(ri(r,e),si(e),u&512&&(Ve||a===null||hr(a,a.return)),e.flags&32){m=e.stateNode;try{Ze(m,"")}catch(Y){ue(e,e.return,Y)}}u&4&&e.stateNode!=null&&(m=e.memoizedProps,Od(e,m,a!==null?a.memoizedProps:m)),u&1024&&(Pd=!0);break;case 6:if(ri(r,e),si(e),u&4){if(e.stateNode===null)throw Error(s(162));u=e.memoizedProps,a=e.stateNode;try{a.nodeValue=u}catch(Y){ue(e,e.return,Y)}}break;case 3:if(nh=null,m=Qi,Qi=th(r.containerInfo),ri(r,e),Qi=m,si(e),u&4&&a!==null&&a.memoizedState.isDehydrated)try{Su(r.containerInfo)}catch(Y){ue(e,e.return,Y)}Pd&&(Pd=!1,q_(e));break;case 4:u=Qi,Qi=th(e.stateNode.containerInfo),ri(r,e),si(e),Qi=u;break;case 12:ri(r,e),si(e);break;case 13:ri(r,e),si(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(zd=Vn()),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,kd(e,u)));break;case 22:m=e.memoizedState!==null;var P=a!==null&&a.memoizedState!==null,q=ns,Z=Ve;if(ns=q||m,Ve=Z||P,ri(r,e),Ve=Z,ns=q,si(e),u&8192)t:for(r=e.stateNode,r._visibility=m?r._visibility&-2:r._visibility|1,m&&(a===null||P||ns||Ve||Ja(e)),a=null,r=e;;){if(r.tag===5||r.tag===26){if(a===null){P=a=r;try{if(g=P.stateNode,m)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{D=P.stateNode;var tt=P.memoizedProps.style,K=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;D.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(Y){ue(P,P.return,Y)}}}else if(r.tag===6){if(a===null){P=r;try{P.stateNode.nodeValue=m?"":P.memoizedProps}catch(Y){ue(P,P.return,Y)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===e)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break t;for(;r.sibling===null;){if(r.return===null||r.return===e)break t;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=e.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,kd(e,a))));break;case 19:ri(r,e),si(e),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,kd(e,u)));break;case 30:break;case 21:break;default:ri(r,e),si(e)}}function si(e){var r=e.flags;if(r&2){try{for(var a,u=e.return;u!==null;){if(k_(u)){a=u;break}u=u.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var m=a.stateNode,g=Md(e);$c(e,g,m);break;case 5:var T=a.stateNode;a.flags&32&&(Ze(T,""),a.flags&=-33);var D=Md(e);$c(e,D,T);break;case 3:case 4:var P=a.stateNode.containerInfo,q=Md(e);Vd(e,q,P);break;default:throw Error(s(161))}}catch(Z){ue(e,e.return,Z)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function q_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var r=e;q_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),e=e.sibling}}function Bs(e,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)U_(e,r.alternate,r),r=r.sibling}function Ja(e){for(e=e.child;e!==null;){var r=e;switch(r.tag){case 0:case 11:case 14:case 15:Us(4,r,r.return),Ja(r);break;case 1:hr(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&V_(r,r.return,a),Ja(r);break;case 27:gu(r.stateNode);case 26:case 5:hr(r,r.return),Ja(r);break;case 22:r.memoizedState===null&&Ja(r);break;case 30:Ja(r);break;default:Ja(r)}e=e.sibling}}function $s(e,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,m=e,g=r,T=g.flags;switch(g.tag){case 0:case 11:case 15:$s(m,g,a),au(4,g);break;case 1:if($s(m,g,a),u=g,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(q){ue(u,u.return,q)}if(u=g,m=u.updateQueue,m!==null){var D=u.stateNode;try{var P=m.shared.hiddenCallbacks;if(P!==null)for(m.shared.hiddenCallbacks=null,m=0;m<P.length;m++)vy(P[m],D)}catch(q){ue(u,u.return,q)}}a&&T&64&&M_(g),ou(g,g.return);break;case 27:j_(g);case 26:case 5:$s(m,g,a),a&&u===null&&T&4&&P_(g),ou(g,g.return);break;case 12:$s(m,g,a);break;case 13:$s(m,g,a),a&&T&4&&z_(m,g);break;case 22:g.memoizedState===null&&$s(m,g,a),ou(g,g.return);break;case 30:break;default:$s(m,g,a)}r=r.sibling}}function jd(e,r){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(e=r.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Gl(a))}function Ld(e,r){e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&Gl(e))}function fr(e,r,a,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)H_(e,r,a,u),r=r.sibling}function H_(e,r,a,u){var m=r.flags;switch(r.tag){case 0:case 11:case 15:fr(e,r,a,u),m&2048&&au(9,r);break;case 1:fr(e,r,a,u);break;case 3:fr(e,r,a,u),m&2048&&(e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&Gl(e)));break;case 12:if(m&2048){fr(e,r,a,u),e=r.stateNode;try{var g=r.memoizedProps,T=g.id,D=g.onPostCommit;typeof D=="function"&&D(T,r.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(P){ue(r,r.return,P)}}else fr(e,r,a,u);break;case 13:fr(e,r,a,u);break;case 23:break;case 22:g=r.stateNode,T=r.alternate,r.memoizedState!==null?g._visibility&2?fr(e,r,a,u):lu(e,r):g._visibility&2?fr(e,r,a,u):(g._visibility|=2,Go(e,r,a,u,(r.subtreeFlags&10256)!==0)),m&2048&&jd(T,r);break;case 24:fr(e,r,a,u),m&2048&&Ld(r.alternate,r);break;default:fr(e,r,a,u)}}function Go(e,r,a,u,m){for(m=m&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var g=e,T=r,D=a,P=u,q=T.flags;switch(T.tag){case 0:case 11:case 15:Go(g,T,D,P,m),au(8,T);break;case 23:break;case 22:var Z=T.stateNode;T.memoizedState!==null?Z._visibility&2?Go(g,T,D,P,m):lu(g,T):(Z._visibility|=2,Go(g,T,D,P,m)),m&&q&2048&&jd(T.alternate,T);break;case 24:Go(g,T,D,P,m),m&&q&2048&&Ld(T.alternate,T);break;default:Go(g,T,D,P,m)}r=r.sibling}}function lu(e,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=e,u=r,m=u.flags;switch(u.tag){case 22:lu(a,u),m&2048&&jd(u.alternate,u);break;case 24:lu(a,u),m&2048&&Ld(u.alternate,u);break;default:lu(a,u)}r=r.sibling}}var uu=8192;function Ko(e){if(e.subtreeFlags&uu)for(e=e.child;e!==null;)G_(e),e=e.sibling}function G_(e){switch(e.tag){case 26:Ko(e),e.flags&uu&&e.memoizedState!==null&&yA(Qi,e.memoizedState,e.memoizedProps);break;case 5:Ko(e);break;case 3:case 4:var r=Qi;Qi=th(e.stateNode.containerInfo),Ko(e),Qi=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=uu,uu=16777216,Ko(e),uu=r):Ko(e));break;default:Ko(e)}}function K_(e){var r=e.alternate;if(r!==null&&(e=r.child,e!==null)){r.child=null;do r=e.sibling,e.sibling=null,e=r;while(e!==null)}}function cu(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];tn=u,Q_(u,e)}K_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Y_(e),e=e.sibling}function Y_(e){switch(e.tag){case 0:case 11:case 15:cu(e),e.flags&2048&&Us(9,e,e.return);break;case 3:cu(e);break;case 12:cu(e);break;case 22:var r=e.stateNode;e.memoizedState!==null&&r._visibility&2&&(e.return===null||e.return.tag!==13)?(r._visibility&=-3,zc(e)):cu(e);break;default:cu(e)}}function zc(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];tn=u,Q_(u,e)}K_(e)}for(e=e.child;e!==null;){switch(r=e,r.tag){case 0:case 11:case 15:Us(8,r,r.return),zc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,zc(r));break;default:zc(r)}e=e.sibling}}function Q_(e,r){for(;tn!==null;){var a=tn;switch(a.tag){case 0:case 11:case 15:Us(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Gl(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,tn=u;else t:for(a=e;tn!==null;){u=tn;var m=u.sibling,g=u.return;if(B_(u),u===a){tn=null;break t}if(m!==null){m.return=g,tn=m;break t}tn=g}}}var MS={getCacheForType:function(e){var r=vn(Fe),a=r.data.get(e);return a===void 0&&(a=e(),r.data.set(e,a)),a}},VS=typeof WeakMap=="function"?WeakMap:Map,ie=0,de=null,Bt=null,Ht=0,re=0,ai=null,zs=!1,Yo=!1,Ud=!1,rs=0,xe=0,Fs=0,Wa=0,Bd=0,Mi=0,Qo=0,hu=null,$n=null,$d=!1,zd=0,Fc=1/0,qc=null,qs=null,un=0,Hs=null,Xo=null,Zo=0,Fd=0,qd=null,X_=null,fu=0,Hd=null;function oi(){if((ie&2)!==0&&Ht!==0)return Ht&-Ht;if(X.T!==null){var e=Lo;return e!==0?e:Jd()}return Pn()}function Z_(){Mi===0&&(Mi=(Ht&536870912)===0||Zt?_s():536870912);var e=Oi.current;return e!==null&&(e.flags|=32),Mi}function li(e,r,a){(e===de&&(re===2||re===9)||e.cancelPendingCommit!==null)&&(Jo(e,0),Gs(e,Ht,Mi,!1)),Qn(e,a),((ie&2)===0||e!==de)&&(e===de&&((ie&2)===0&&(Wa|=a),xe===4&&Gs(e,Ht,Mi,!1)),dr(e))}function J_(e,r,a){if((ie&6)!==0)throw Error(s(327));var u=!a&&(r&124)===0&&(r&e.expiredLanes)===0||Nr(e,r),m=u?jS(e,r):Yd(e,r,!0),g=u;do{if(m===0){Yo&&!u&&Gs(e,r,0,!1);break}else{if(a=e.current.alternate,g&&!PS(a)){m=Yd(e,r,!1),g=!1;continue}if(m===2){if(g=r,e.errorRecoveryDisabledLanes&g)var T=0;else T=e.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;t:{var D=e;m=hu;var P=D.current.memoizedState.isDehydrated;if(P&&(Jo(D,T).flags|=256),T=Yd(D,T,!1),T!==2){if(Ud&&!P){D.errorRecoveryDisabledLanes|=g,Wa|=g,m=4;break t}g=$n,$n=m,g!==null&&($n===null?$n=g:$n.push.apply($n,g))}m=T}if(g=!1,m!==2)continue}}if(m===1){Jo(e,0),Gs(e,r,0,!0);break}t:{switch(u=e,g=m,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Gs(u,r,Mi,!zs);break t;case 2:$n=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(m=zd+300-Vn(),10<m)){if(Gs(u,r,Mi,!zs),ys(u,0,!0)!==0)break t;u.timeoutHandle=xv(W_.bind(null,u,a,$n,qc,$d,r,Mi,Wa,Qo,zs,g,2,-0,0),m);break t}W_(u,a,$n,qc,$d,r,Mi,Wa,Qo,zs,g,0,-0,0)}}break}while(!0);dr(e)}function W_(e,r,a,u,m,g,T,D,P,q,Z,tt,K,Y){if(e.timeoutHandle=-1,tt=r.subtreeFlags,(tt&8192||(tt&16785408)===16785408)&&(vu={stylesheets:null,count:0,unsuspend:gA},G_(r),tt=_A(),tt!==null)){e.cancelPendingCommit=tt(av.bind(null,e,r,g,a,u,m,T,D,P,Z,1,K,Y)),Gs(e,g,T,!q);return}av(e,r,g,a,u,m,T,D,P)}function PS(e){for(var r=e;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var m=a[u],g=m.getSnapshot;m=m.value;try{if(!ni(g(),m))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Gs(e,r,a,u){r&=~Bd,r&=~Wa,e.suspendedLanes|=r,e.pingedLanes&=~r,u&&(e.warmLanes|=r),u=e.expirationTimes;for(var m=r;0<m;){var g=31-$e(m),T=1<<g;u[g]=-1,m&=~T}a!==0&&sn(e,a,r)}function Hc(){return(ie&6)===0?(du(0),!1):!0}function Gd(){if(Bt!==null){if(re===0)var e=Bt.return;else e=Bt,Xr=Ka=null,ud(e),qo=null,iu=0,e=Bt;for(;e!==null;)O_(e.alternate,e),e=e.return;Bt=null}}function Jo(e,r){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,WS(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Gd(),de=e,Bt=a=Kr(e.current,null),Ht=r,re=0,ai=null,zs=!1,Yo=Nr(e,r),Ud=!1,Qo=Mi=Bd=Wa=Fs=xe=0,$n=hu=null,$d=!1,(r&8)!==0&&(r|=r&32);var u=e.entangledLanes;if(u!==0)for(e=e.entanglements,u&=r;0<u;){var m=31-$e(u),g=1<<m;r|=e[m],u&=~g}return rs=r,dc(),a}function tv(e,r){jt=null,X.H=Oc,r===Yl||r===Tc?(r=yy(),re=3):r===my?(r=yy(),re=4):re=r===__?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,ai=r,Bt===null&&(xe=1,jc(e,Ii(r,e.current)))}function ev(){var e=X.H;return X.H=Oc,e===null?Oc:e}function nv(){var e=X.A;return X.A=MS,e}function Kd(){xe=4,zs||(Ht&4194048)!==Ht&&Oi.current!==null||(Yo=!0),(Fs&134217727)===0&&(Wa&134217727)===0||de===null||Gs(de,Ht,Mi,!1)}function Yd(e,r,a){var u=ie;ie|=2;var m=ev(),g=nv();(de!==e||Ht!==r)&&(qc=null,Jo(e,r)),r=!1;var T=xe;t:do try{if(re!==0&&Bt!==null){var D=Bt,P=ai;switch(re){case 8:Gd(),T=6;break t;case 3:case 2:case 9:case 6:Oi.current===null&&(r=!0);var q=re;if(re=0,ai=null,Wo(e,D,P,q),a&&Yo){T=0;break t}break;default:q=re,re=0,ai=null,Wo(e,D,P,q)}}kS(),T=xe;break}catch(Z){tv(e,Z)}while(!0);return r&&e.shellSuspendCounter++,Xr=Ka=null,ie=u,X.H=m,X.A=g,Bt===null&&(de=null,Ht=0,dc()),T}function kS(){for(;Bt!==null;)iv(Bt)}function jS(e,r){var a=ie;ie|=2;var u=ev(),m=nv();de!==e||Ht!==r?(qc=null,Fc=Vn()+500,Jo(e,r)):Yo=Nr(e,r);t:do try{if(re!==0&&Bt!==null){r=Bt;var g=ai;e:switch(re){case 1:re=0,ai=null,Wo(e,r,g,1);break;case 2:case 9:if(py(g)){re=0,ai=null,rv(r);break}r=function(){re!==2&&re!==9||de!==e||(re=7),dr(e)},g.then(r,r);break t;case 3:re=7;break t;case 4:re=5;break t;case 7:py(g)?(re=0,ai=null,rv(r)):(re=0,ai=null,Wo(e,r,g,7));break;case 5:var T=null;switch(Bt.tag){case 26:T=Bt.memoizedState;case 5:case 27:var D=Bt;if(!T||Uv(T)){re=0,ai=null;var P=D.sibling;if(P!==null)Bt=P;else{var q=D.return;q!==null?(Bt=q,Gc(q)):Bt=null}break e}}re=0,ai=null,Wo(e,r,g,5);break;case 6:re=0,ai=null,Wo(e,r,g,6);break;case 8:Gd(),xe=6;break t;default:throw Error(s(462))}}LS();break}catch(Z){tv(e,Z)}while(!0);return Xr=Ka=null,X.H=u,X.A=m,ie=a,Bt!==null?0:(de=null,Ht=0,dc(),xe)}function LS(){for(;Bt!==null&&!Cr();)iv(Bt)}function iv(e){var r=D_(e.alternate,e,rs);e.memoizedProps=e.pendingProps,r===null?Gc(e):Bt=r}function rv(e){var r=e,a=r.alternate;switch(r.tag){case 15:case 0:r=S_(a,r,r.pendingProps,r.type,void 0,Ht);break;case 11:r=S_(a,r,r.pendingProps,r.type.render,r.ref,Ht);break;case 5:ud(r);default:O_(a,r),r=Bt=sy(r,rs),r=D_(a,r,rs)}e.memoizedProps=e.pendingProps,r===null?Gc(e):Bt=r}function Wo(e,r,a,u){Xr=Ka=null,ud(r),qo=null,iu=0;var m=r.return;try{if(xS(e,m,r,a,Ht)){xe=1,jc(e,Ii(a,e.current)),Bt=null;return}}catch(g){if(m!==null)throw Bt=m,g;xe=1,jc(e,Ii(a,e.current)),Bt=null;return}r.flags&32768?(Zt||u===1?e=!0:Yo||(Ht&536870912)!==0?e=!1:(zs=e=!0,(u===2||u===9||u===3||u===6)&&(u=Oi.current,u!==null&&u.tag===13&&(u.flags|=16384))),sv(r,e)):Gc(r)}function Gc(e){var r=e;do{if((r.flags&32768)!==0){sv(r,zs);return}e=r.return;var a=CS(r.alternate,r,rs);if(a!==null){Bt=a;return}if(r=r.sibling,r!==null){Bt=r;return}Bt=r=e}while(r!==null);xe===0&&(xe=5)}function sv(e,r){do{var a=DS(e.alternate,e);if(a!==null){a.flags&=32767,Bt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(e=e.sibling,e!==null)){Bt=e;return}Bt=e=a}while(e!==null);xe=6,Bt=null}function av(e,r,a,u,m,g,T,D,P){e.cancelPendingCommit=null;do Kc();while(un!==0);if((ie&6)!==0)throw Error(s(327));if(r!==null){if(r===e.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=Lf,Mr(e,a,g,T,D,P),e===de&&(Bt=de=null,Ht=0),Xo=r,Hs=e,Zo=a,Fd=g,qd=m,X_=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,zS(er,function(){return hv(),null})):(e.callbackNode=null,e.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=X.T,X.T=null,m=lt.p,lt.p=2,T=ie,ie|=4;try{NS(e,r,a)}finally{ie=T,lt.p=m,X.T=u}}un=1,ov(),lv(),uv()}}function ov(){if(un===1){un=0;var e=Hs,r=Xo,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var u=lt.p;lt.p=2;var m=ie;ie|=4;try{F_(r,e);var g=am,T=Qg(e.containerInfo),D=g.focusedElem,P=g.selectionRange;if(T!==D&&D&&D.ownerDocument&&Yg(D.ownerDocument.documentElement,D)){if(P!==null&&Mf(D)){var q=P.start,Z=P.end;if(Z===void 0&&(Z=q),"selectionStart"in D)D.selectionStart=q,D.selectionEnd=Math.min(Z,D.value.length);else{var tt=D.ownerDocument||document,K=tt&&tt.defaultView||window;if(K.getSelection){var Y=K.getSelection(),It=D.textContent.length,St=Math.min(P.start,It),le=P.end===void 0?St:Math.min(P.end,It);!Y.extend&&St>le&&(T=le,le=St,St=T);var z=Kg(D,St),B=Kg(D,le);if(z&&B&&(Y.rangeCount!==1||Y.anchorNode!==z.node||Y.anchorOffset!==z.offset||Y.focusNode!==B.node||Y.focusOffset!==B.offset)){var F=tt.createRange();F.setStart(z.node,z.offset),Y.removeAllRanges(),St>le?(Y.addRange(F),Y.extend(B.node,B.offset)):(F.setEnd(B.node,B.offset),Y.addRange(F))}}}}for(tt=[],Y=D;Y=Y.parentNode;)Y.nodeType===1&&tt.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<tt.length;D++){var J=tt[D];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}sh=!!sm,am=sm=null}finally{ie=m,lt.p=u,X.T=a}}e.current=r,un=2}}function lv(){if(un===2){un=0;var e=Hs,r=Xo,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var u=lt.p;lt.p=2;var m=ie;ie|=4;try{U_(e,r.alternate,r)}finally{ie=m,lt.p=u,X.T=a}}un=3}}function uv(){if(un===4||un===3){un=0,va();var e=Hs,r=Xo,a=Zo,u=X_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?un=5:(un=0,Xo=Hs=null,cv(e,e.pendingLanes));var m=e.pendingLanes;if(m===0&&(qs=null),Vr(a),r=r.stateNode,Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(kt,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=X.T,m=lt.p,lt.p=2,X.T=null;try{for(var g=e.onRecoverableError,T=0;T<u.length;T++){var D=u[T];g(D.value,{componentStack:D.stack})}}finally{X.T=r,lt.p=m}}(Zo&3)!==0&&Kc(),dr(e),m=e.pendingLanes,(a&4194090)!==0&&(m&42)!==0?e===Hd?fu++:(fu=0,Hd=e):fu=0,du(0)}}function cv(e,r){(e.pooledCacheLanes&=r)===0&&(r=e.pooledCache,r!=null&&(e.pooledCache=null,Gl(r)))}function Kc(e){return ov(),lv(),uv(),hv()}function hv(){if(un!==5)return!1;var e=Hs,r=Fd;Fd=0;var a=Vr(Zo),u=X.T,m=lt.p;try{lt.p=32>a?32:a,X.T=null,a=qd,qd=null;var g=Hs,T=Zo;if(un=0,Xo=Hs=null,Zo=0,(ie&6)!==0)throw Error(s(331));var D=ie;if(ie|=4,Y_(g.current),H_(g,g.current,T,a),ie=D,du(0,!1),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(kt,g)}catch{}return!0}finally{lt.p=m,X.T=u,cv(e,r)}}function fv(e,r,a){r=Ii(a,r),r=wd(e.stateNode,r,2),e=Ps(e,r,2),e!==null&&(Qn(e,2),dr(e))}function ue(e,r,a){if(e.tag===3)fv(e,e,a);else for(;r!==null;){if(r.tag===3){fv(r,e,a);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(qs===null||!qs.has(u))){e=Ii(a,e),a=g_(2),u=Ps(r,a,2),u!==null&&(y_(a,u,r,e),Qn(u,2),dr(u));break}}r=r.return}}function Qd(e,r,a){var u=e.pingCache;if(u===null){u=e.pingCache=new VS;var m=new Set;u.set(r,m)}else m=u.get(r),m===void 0&&(m=new Set,u.set(r,m));m.has(a)||(Ud=!0,m.add(a),e=US.bind(null,e,r,a),r.then(e,e))}function US(e,r,a){var u=e.pingCache;u!==null&&u.delete(r),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,de===e&&(Ht&a)===a&&(xe===4||xe===3&&(Ht&62914560)===Ht&&300>Vn()-zd?(ie&2)===0&&Jo(e,0):Bd|=a,Qo===Ht&&(Qo=0)),dr(e)}function dv(e,r){r===0&&(r=Ta()),e=Vo(e,r),e!==null&&(Qn(e,r),dr(e))}function BS(e){var r=e.memoizedState,a=0;r!==null&&(a=r.retryLane),dv(e,a)}function $S(e,r){var a=0;switch(e.tag){case 13:var u=e.stateNode,m=e.memoizedState;m!==null&&(a=m.retryLane);break;case 19:u=e.stateNode;break;case 22:u=e.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),dv(e,a)}function zS(e,r){return Ui(e,r)}var Yc=null,tl=null,Xd=!1,Qc=!1,Zd=!1,to=0;function dr(e){e!==tl&&e.next===null&&(tl===null?Yc=tl=e:tl=tl.next=e),Qc=!0,Xd||(Xd=!0,qS())}function du(e,r){if(!Zd&&Qc){Zd=!0;do for(var a=!1,u=Yc;u!==null;){if(e!==0){var m=u.pendingLanes;if(m===0)var g=0;else{var T=u.suspendedLanes,D=u.pingedLanes;g=(1<<31-$e(42|e)+1)-1,g&=m&~(T&~D),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(a=!0,yv(u,g))}else g=Ht,g=ys(u,u===de?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||Nr(u,g)||(a=!0,yv(u,g));u=u.next}while(a);Zd=!1}}function FS(){mv()}function mv(){Qc=Xd=!1;var e=0;to!==0&&(JS()&&(e=to),to=0);for(var r=Vn(),a=null,u=Yc;u!==null;){var m=u.next,g=pv(u,r);g===0?(u.next=null,a===null?Yc=m:a.next=m,m===null&&(tl=a)):(a=u,(e!==0||(g&3)!==0)&&(Qc=!0)),u=m}du(e)}function pv(e,r){for(var a=e.suspendedLanes,u=e.pingedLanes,m=e.expirationTimes,g=e.pendingLanes&-62914561;0<g;){var T=31-$e(g),D=1<<T,P=m[T];P===-1?((D&a)===0||(D&u)!==0)&&(m[T]=Or(D,r)):P<=r&&(e.expiredLanes|=D),g&=~D}if(r=de,a=Ht,a=ys(e,e===r?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),u=e.callbackNode,a===0||e===r&&(re===2||re===9)||e.cancelPendingCommit!==null)return u!==null&&u!==null&&Bi(u),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Nr(e,a)){if(r=a&-a,r===e.callbackPriority)return r;switch(u!==null&&Bi(u),Vr(a)){case 2:case 8:a=tr;break;case 32:a=er;break;case 268435456:a=nr;break;default:a=er}return u=gv.bind(null,e),a=Ui(a,u),e.callbackPriority=r,e.callbackNode=a,r}return u!==null&&u!==null&&Bi(u),e.callbackPriority=2,e.callbackNode=null,2}function gv(e,r){if(un!==0&&un!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Kc()&&e.callbackNode!==a)return null;var u=Ht;return u=ys(e,e===de?u:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),u===0?null:(J_(e,u,r),pv(e,Vn()),e.callbackNode!=null&&e.callbackNode===a?gv.bind(null,e):null)}function yv(e,r){if(Kc())return null;J_(e,r,!0)}function qS(){tA(function(){(ie&6)!==0?Ui(gs,FS):mv()})}function Jd(){return to===0&&(to=_s()),to}function _v(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:As(""+e)}function vv(e,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,e.id&&a.setAttribute("form",e.id),r.parentNode.insertBefore(a,r),e=new FormData(e),a.parentNode.removeChild(a),e}function HS(e,r,a,u,m){if(r==="submit"&&a&&a.stateNode===m){var g=_v((m[he]||null).action),T=u.submitter;T&&(r=(r=T[he]||null)?_v(r.formAction):T.getAttribute("formAction"),r!==null&&(g=r,T=null));var D=new Cs("action","action",null,u,m);e.push({event:D,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(to!==0){var P=T?vv(m,T):new FormData(m);_d(a,{pending:!0,data:P,method:m.method,action:g},null,P)}}else typeof g=="function"&&(D.preventDefault(),P=T?vv(m,T):new FormData(m),_d(a,{pending:!0,data:P,method:m.method,action:g},g,P))},currentTarget:m}]})}}for(var Wd=0;Wd<jf.length;Wd++){var tm=jf[Wd],GS=tm.toLowerCase(),KS=tm[0].toUpperCase()+tm.slice(1);Yi(GS,"on"+KS)}Yi(Jg,"onAnimationEnd"),Yi(Wg,"onAnimationIteration"),Yi(ty,"onAnimationStart"),Yi("dblclick","onDoubleClick"),Yi("focusin","onFocus"),Yi("focusout","onBlur"),Yi(cS,"onTransitionRun"),Yi(hS,"onTransitionStart"),Yi(fS,"onTransitionCancel"),Yi(ey,"onTransitionEnd"),_i("onMouseEnter",["mouseout","mouseover"]),_i("onMouseLeave",["mouseout","mouseover"]),_i("onPointerEnter",["pointerout","pointerover"]),_i("onPointerLeave",["pointerout","pointerover"]),Cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Cn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mu));function Ev(e,r){r=(r&4)!==0;for(var a=0;a<e.length;a++){var u=e[a],m=u.event;u=u.listeners;t:{var g=void 0;if(r)for(var T=u.length-1;0<=T;T--){var D=u[T],P=D.instance,q=D.currentTarget;if(D=D.listener,P!==g&&m.isPropagationStopped())break t;g=D,m.currentTarget=q;try{g(m)}catch(Z){kc(Z)}m.currentTarget=null,g=P}else for(T=0;T<u.length;T++){if(D=u[T],P=D.instance,q=D.currentTarget,D=D.listener,P!==g&&m.isPropagationStopped())break t;g=D,m.currentTarget=q;try{g(m)}catch(Z){kc(Z)}m.currentTarget=null,g=P}}}}function $t(e,r){var a=r[Sa];a===void 0&&(a=r[Sa]=new Set);var u=e+"__bubble";a.has(u)||(bv(r,e,2,!1),a.add(u))}function em(e,r,a){var u=0;r&&(u|=4),bv(a,e,u,r)}var Xc="_reactListening"+Math.random().toString(36).slice(2);function nm(e){if(!e[Xc]){e[Xc]=!0,Es.forEach(function(a){a!=="selectionchange"&&(YS.has(a)||em(a,!1,e),em(a,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[Xc]||(r[Xc]=!0,em("selectionchange",!1,r))}}function bv(e,r,a,u){switch(Hv(r)){case 2:var m=bA;break;case 8:m=TA;break;default:m=gm}a=m.bind(null,r,a,e),m=void 0,!Ne||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),u?m!==void 0?e.addEventListener(r,a,{capture:!0,passive:m}):e.addEventListener(r,a,!0):m!==void 0?e.addEventListener(r,a,{passive:m}):e.addEventListener(r,a,!1)}function im(e,r,a,u,m){var g=u;if((r&1)===0&&(r&2)===0&&u!==null)t:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var D=u.stateNode.containerInfo;if(D===m)break;if(T===4)for(T=u.return;T!==null;){var P=T.tag;if((P===3||P===4)&&T.stateNode.containerInfo===m)return;T=T.return}for(;D!==null;){if(T=$i(D),T===null)return;if(P=T.tag,P===5||P===6||P===26||P===27){u=g=T;continue t}D=D.parentNode}}u=u.return}Do(function(){var q=g,Z=De(a),tt=[];t:{var K=ny.get(e);if(K!==void 0){var Y=Cs,It=e;switch(e){case"keypress":if(yn(a)===0)break t;case"keydown":case"keyup":Y=Gi;break;case"focusin":It="focus",Y=qr;break;case"focusout":It="blur",Y=qr;break;case"beforeblur":case"afterblur":Y=qr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Se;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=jl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=Pa;break;case Jg:case Wg:case ty:Y=Fi;break;case ey:Y=ja;break;case"scroll":case"scrollend":Y=Ia;break;case"wheel":Y=ze;break;case"copy":case"cut":case"paste":Y=qi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Ns;break;case"toggle":case"beforetoggle":Y=Ua}var St=(r&4)!==0,le=!St&&(e==="scroll"||e==="scrollend"),z=St?K!==null?K+"Capture":null:K;St=[];for(var B=q,F;B!==null;){var J=B;if(F=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||F===null||z===null||(J=Ur(B,z),J!=null&&St.push(pu(B,J,F))),le)break;B=B.return}0<St.length&&(K=new Y(K,It,null,a,Z),tt.push({event:K,listeners:St}))}}if((r&7)===0){t:{if(K=e==="mouseover"||e==="pointerover",Y=e==="mouseout"||e==="pointerout",K&&a!==Dn&&(It=a.relatedTarget||a.fromElement)&&($i(It)||It[Qe]))break t;if((Y||K)&&(K=Z.window===Z?Z:(K=Z.ownerDocument)?K.defaultView||K.parentWindow:window,Y?(It=a.relatedTarget||a.toElement,Y=q,It=It?$i(It):null,It!==null&&(le=c(It),St=It.tag,It!==le||St!==5&&St!==27&&St!==6)&&(It=null)):(Y=null,It=q),Y!==It)){if(St=Se,J="onMouseLeave",z="onMouseEnter",B="mouse",(e==="pointerout"||e==="pointerover")&&(St=Ns,J="onPointerLeave",z="onPointerEnter",B="pointer"),le=Y==null?K:In(Y),F=It==null?K:In(It),K=new St(J,B+"leave",Y,a,Z),K.target=le,K.relatedTarget=F,J=null,$i(Z)===q&&(St=new St(z,B+"enter",It,a,Z),St.target=F,St.relatedTarget=le,J=St),le=J,Y&&It)e:{for(St=Y,z=It,B=0,F=St;F;F=el(F))B++;for(F=0,J=z;J;J=el(J))F++;for(;0<B-F;)St=el(St),B--;for(;0<F-B;)z=el(z),F--;for(;B--;){if(St===z||z!==null&&St===z.alternate)break e;St=el(St),z=el(z)}St=null}else St=null;Y!==null&&Tv(tt,K,Y,St,!1),It!==null&&le!==null&&Tv(tt,le,It,St,!0)}}t:{if(K=q?In(q):window,Y=K.nodeName&&K.nodeName.toLowerCase(),Y==="select"||Y==="input"&&K.type==="file")var mt=$g;else if(fe(K))if(zg)mt=oS;else{mt=sS;var Lt=rS}else Y=K.nodeName,!Y||Y.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?q&&xa(q.elementType)&&(mt=$g):mt=aS;if(mt&&(mt=mt(e,q))){Oe(tt,mt,a,Z);break t}Lt&&Lt(e,K,q),e==="focusout"&&q&&K.type==="number"&&q.memoizedProps.value!=null&&Xn(K,"number",K.value)}switch(Lt=q?In(q):window,e){case"focusin":(fe(Lt)||Lt.contentEditable==="true")&&(No=Lt,Vf=q,$l=null);break;case"focusout":$l=Vf=No=null;break;case"mousedown":Pf=!0;break;case"contextmenu":case"mouseup":case"dragend":Pf=!1,Xg(tt,a,Z);break;case"selectionchange":if(uS)break;case"keydown":case"keyup":Xg(tt,a,Z)}var yt;if(h)t:{switch(e){case"compositionstart":var Rt="onCompositionStart";break t;case"compositionend":Rt="onCompositionEnd";break t;case"compositionupdate":Rt="onCompositionUpdate";break t}Rt=void 0}else bt?k(e,a)&&(Rt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Rt="onCompositionStart");Rt&&(y&&a.locale!=="ko"&&(bt||Rt!=="onCompositionStart"?Rt==="onCompositionEnd"&&bt&&(yt=xs()):(xi=Z,Wn="value"in xi?xi.value:xi.textContent,bt=!0)),Lt=Zc(q,Rt),0<Lt.length&&(Rt=new Ds(Rt,e,null,a,Z),tt.push({event:Rt,listeners:Lt}),yt?Rt.data=yt:(yt=W(a),yt!==null&&(Rt.data=yt)))),(yt=f?Tt(e,a):wt(e,a))&&(Rt=Zc(q,"onBeforeInput"),0<Rt.length&&(Lt=new Ds("onBeforeInput","beforeinput",null,a,Z),tt.push({event:Lt,listeners:Rt}),Lt.data=yt)),HS(tt,e,q,a,Z)}Ev(tt,r)})}function pu(e,r,a){return{instance:e,listener:r,currentTarget:a}}function Zc(e,r){for(var a=r+"Capture",u=[];e!==null;){var m=e,g=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=Ur(e,a),m!=null&&u.unshift(pu(e,m,g)),m=Ur(e,r),m!=null&&u.push(pu(e,m,g))),e.tag===3)return u;e=e.return}return[]}function el(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Tv(e,r,a,u,m){for(var g=r._reactName,T=[];a!==null&&a!==u;){var D=a,P=D.alternate,q=D.stateNode;if(D=D.tag,P!==null&&P===u)break;D!==5&&D!==26&&D!==27||q===null||(P=q,m?(q=Ur(a,g),q!=null&&T.unshift(pu(a,q,P))):m||(q=Ur(a,g),q!=null&&T.push(pu(a,q,P)))),a=a.return}T.length!==0&&e.push({event:r,listeners:T})}var QS=/\r\n?/g,XS=/\u0000|\uFFFD/g;function wv(e){return(typeof e=="string"?e:""+e).replace(QS,`
`).replace(XS,"")}function Sv(e,r){return r=wv(r),wv(e)===r}function Jc(){}function oe(e,r,a,u,m,g){switch(a){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||Ze(e,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&Ze(e,""+u);break;case"className":gn(e,"class",u);break;case"tabIndex":gn(e,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":gn(e,a,u);break;case"style":Ss(e,u,g);break;case"data":if(r!=="object"){gn(e,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||a!=="href")){e.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(a);break}u=As(""+u),e.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(a==="formAction"?(r!=="input"&&oe(e,r,"name",m.name,m,null),oe(e,r,"formEncType",m.formEncType,m,null),oe(e,r,"formMethod",m.formMethod,m,null),oe(e,r,"formTarget",m.formTarget,m,null)):(oe(e,r,"encType",m.encType,m,null),oe(e,r,"method",m.method,m,null),oe(e,r,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(a);break}u=As(""+u),e.setAttribute(a,u);break;case"onClick":u!=null&&(e.onclick=Jc);break;case"onScroll":u!=null&&$t("scroll",e);break;case"onScrollEnd":u!=null&&$t("scrollend",e);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(m.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":e.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){e.removeAttribute("xlink:href");break}a=As(""+u),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(a,""+u):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":u===!0?e.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(a,u):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?e.setAttribute(a,u):e.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?e.removeAttribute(a):e.setAttribute(a,u);break;case"popover":$t("beforetoggle",e),$t("toggle",e),Ei(e,"popover",u);break;case"xlinkActuate":me(e,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":me(e,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":me(e,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":me(e,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":me(e,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":me(e,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":me(e,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":me(e,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":me(e,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ei(e,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Pl.get(a)||a,Ei(e,a,u))}}function rm(e,r,a,u,m,g){switch(a){case"style":Ss(e,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(m.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof u=="string"?Ze(e,u):(typeof u=="number"||typeof u=="bigint")&&Ze(e,""+u);break;case"onScroll":u!=null&&$t("scroll",e);break;case"onScrollEnd":u!=null&&$t("scrollend",e);break;case"onClick":u!=null&&(e.onclick=Jc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!sr.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(m=a.endsWith("Capture"),r=a.slice(2,m?a.length-7:void 0),g=e[he]||null,g=g!=null?g[a]:null,typeof g=="function"&&e.removeEventListener(r,g,m),typeof u=="function")){typeof g!="function"&&g!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(r,u,m);break t}a in e?e[a]=u:u===!0?e.setAttribute(a,""):Ei(e,a,u)}}}function cn(e,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$t("error",e),$t("load",e);var u=!1,m=!1,g;for(g in a)if(a.hasOwnProperty(g)){var T=a[g];if(T!=null)switch(g){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:oe(e,r,g,T,a,null)}}m&&oe(e,r,"srcSet",a.srcSet,a,null),u&&oe(e,r,"src",a.src,a,null);return;case"input":$t("invalid",e);var D=g=T=m=null,P=null,q=null;for(u in a)if(a.hasOwnProperty(u)){var Z=a[u];if(Z!=null)switch(u){case"name":m=Z;break;case"type":T=Z;break;case"checked":P=Z;break;case"defaultChecked":q=Z;break;case"value":g=Z;break;case"defaultValue":D=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:oe(e,r,u,Z,a,null)}}Ti(e,g,D,P,q,T,m,!1),Ts(e);return;case"select":$t("invalid",e),u=T=g=null;for(m in a)if(a.hasOwnProperty(m)&&(D=a[m],D!=null))switch(m){case"value":g=D;break;case"defaultValue":T=D;break;case"multiple":u=D;default:oe(e,r,m,D,a,null)}r=g,a=T,e.multiple=!!u,r!=null?wi(e,!!u,r,!1):a!=null&&wi(e,!!u,a,!0);return;case"textarea":$t("invalid",e),g=m=u=null;for(T in a)if(a.hasOwnProperty(T)&&(D=a[T],D!=null))switch(T){case"value":u=D;break;case"defaultValue":m=D;break;case"children":g=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(s(91));break;default:oe(e,r,T,D,a,null)}Si(e,u,m,g),Ts(e);return;case"option":for(P in a)if(a.hasOwnProperty(P)&&(u=a[P],u!=null))switch(P){case"selected":e.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:oe(e,r,P,u,a,null)}return;case"dialog":$t("beforetoggle",e),$t("toggle",e),$t("cancel",e),$t("close",e);break;case"iframe":case"object":$t("load",e);break;case"video":case"audio":for(u=0;u<mu.length;u++)$t(mu[u],e);break;case"image":$t("error",e),$t("load",e);break;case"details":$t("toggle",e);break;case"embed":case"source":case"link":$t("error",e),$t("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(u=a[q],u!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:oe(e,r,q,u,a,null)}return;default:if(xa(r)){for(Z in a)a.hasOwnProperty(Z)&&(u=a[Z],u!==void 0&&rm(e,r,Z,u,a,void 0));return}}for(D in a)a.hasOwnProperty(D)&&(u=a[D],u!=null&&oe(e,r,D,u,a,null))}function ZS(e,r,a,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,T=null,D=null,P=null,q=null,Z=null;for(Y in a){var tt=a[Y];if(a.hasOwnProperty(Y)&&tt!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":P=tt;default:u.hasOwnProperty(Y)||oe(e,r,Y,null,u,tt)}}for(var K in u){var Y=u[K];if(tt=a[K],u.hasOwnProperty(K)&&(Y!=null||tt!=null))switch(K){case"type":g=Y;break;case"name":m=Y;break;case"checked":q=Y;break;case"defaultChecked":Z=Y;break;case"value":T=Y;break;case"defaultValue":D=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:Y!==tt&&oe(e,r,K,Y,u,tt)}}_e(e,T,D,P,q,Z,g,m);return;case"select":Y=T=D=K=null;for(g in a)if(P=a[g],a.hasOwnProperty(g)&&P!=null)switch(g){case"value":break;case"multiple":Y=P;default:u.hasOwnProperty(g)||oe(e,r,g,null,u,P)}for(m in u)if(g=u[m],P=a[m],u.hasOwnProperty(m)&&(g!=null||P!=null))switch(m){case"value":K=g;break;case"defaultValue":D=g;break;case"multiple":T=g;default:g!==P&&oe(e,r,m,g,u,P)}r=D,a=T,u=Y,K!=null?wi(e,!!a,K,!1):!!u!=!!a&&(r!=null?wi(e,!!a,r,!0):wi(e,!!a,a?[]:"",!1));return;case"textarea":Y=K=null;for(D in a)if(m=a[D],a.hasOwnProperty(D)&&m!=null&&!u.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:oe(e,r,D,null,u,m)}for(T in u)if(m=u[T],g=a[T],u.hasOwnProperty(T)&&(m!=null||g!=null))switch(T){case"value":K=m;break;case"defaultValue":Y=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(s(91));break;default:m!==g&&oe(e,r,T,m,u,g)}_t(e,K,Y);return;case"option":for(var It in a)if(K=a[It],a.hasOwnProperty(It)&&K!=null&&!u.hasOwnProperty(It))switch(It){case"selected":e.selected=!1;break;default:oe(e,r,It,null,u,K)}for(P in u)if(K=u[P],Y=a[P],u.hasOwnProperty(P)&&K!==Y&&(K!=null||Y!=null))switch(P){case"selected":e.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:oe(e,r,P,K,u,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var St in a)K=a[St],a.hasOwnProperty(St)&&K!=null&&!u.hasOwnProperty(St)&&oe(e,r,St,null,u,K);for(q in u)if(K=u[q],Y=a[q],u.hasOwnProperty(q)&&K!==Y&&(K!=null||Y!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:oe(e,r,q,K,u,Y)}return;default:if(xa(r)){for(var le in a)K=a[le],a.hasOwnProperty(le)&&K!==void 0&&!u.hasOwnProperty(le)&&rm(e,r,le,void 0,u,K);for(Z in u)K=u[Z],Y=a[Z],!u.hasOwnProperty(Z)||K===Y||K===void 0&&Y===void 0||rm(e,r,Z,K,u,Y);return}}for(var z in a)K=a[z],a.hasOwnProperty(z)&&K!=null&&!u.hasOwnProperty(z)&&oe(e,r,z,null,u,K);for(tt in u)K=u[tt],Y=a[tt],!u.hasOwnProperty(tt)||K===Y||K==null&&Y==null||oe(e,r,tt,K,u,Y)}var sm=null,am=null;function Wc(e){return e.nodeType===9?e:e.ownerDocument}function Av(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Rv(e,r){if(e===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&r==="foreignObject"?0:e}function om(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var lm=null;function JS(){var e=window.event;return e&&e.type==="popstate"?e===lm?!1:(lm=e,!0):(lm=null,!1)}var xv=typeof setTimeout=="function"?setTimeout:void 0,WS=typeof clearTimeout=="function"?clearTimeout:void 0,Iv=typeof Promise=="function"?Promise:void 0,tA=typeof queueMicrotask=="function"?queueMicrotask:typeof Iv<"u"?function(e){return Iv.resolve(null).then(e).catch(eA)}:xv;function eA(e){setTimeout(function(){throw e})}function Ks(e){return e==="head"}function Cv(e,r){var a=r,u=0,m=0;do{var g=a.nextSibling;if(e.removeChild(a),g&&g.nodeType===8)if(a=g.data,a==="/$"){if(0<u&&8>u){a=u;var T=e.ownerDocument;if(a&1&&gu(T.documentElement),a&2&&gu(T.body),a&4)for(a=T.head,gu(a),T=a.firstChild;T;){var D=T.nextSibling,P=T.nodeName;T[Pr]||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&T.rel.toLowerCase()==="stylesheet"||a.removeChild(T),T=D}}if(m===0){e.removeChild(g),Su(r);return}m--}else a==="$"||a==="$?"||a==="$!"?m++:u=a.charCodeAt(0)-48;else u=0;a=g}while(a);Su(r)}function um(e){var r=e.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":um(a),yi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function nA(e,r,a,u){for(;e.nodeType===1;){var m=a;if(e.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(u){if(!e[Pr])switch(r){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(g=e.getAttribute("rel"),g==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(g!==m.rel||e.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||e.getAttribute("title")!==(m.title==null?null:m.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(g=e.getAttribute("src"),(g!==(m.src==null?null:m.src)||e.getAttribute("type")!==(m.type==null?null:m.type)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(r==="input"&&e.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&e.getAttribute("name")===g)return e}else return e;if(e=Xi(e.nextSibling),e===null)break}return null}function iA(e,r,a){if(r==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Xi(e.nextSibling),e===null))return null;return e}function cm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function rA(e,r){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")r();else{var u=function(){r(),a.removeEventListener("DOMContentLoaded",u)};a.addEventListener("DOMContentLoaded",u),e._reactRetry=u}}function Xi(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return e}var hm=null;function Dv(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return e;r--}else a==="/$"&&r++}e=e.previousSibling}return null}function Nv(e,r,a){switch(r=Wc(a),e){case"html":if(e=r.documentElement,!e)throw Error(s(452));return e;case"head":if(e=r.head,!e)throw Error(s(453));return e;case"body":if(e=r.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function gu(e){for(var r=e.attributes;r.length;)e.removeAttributeNode(r[0]);yi(e)}var Vi=new Map,Ov=new Set;function th(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ss=lt.d;lt.d={f:sA,r:aA,D:oA,C:lA,L:uA,m:cA,X:fA,S:hA,M:dA};function sA(){var e=ss.f(),r=Hc();return e||r}function aA(e){var r=kn(e);r!==null&&r.tag===5&&r.type==="form"?Jy(r):ss.r(e)}var nl=typeof document>"u"?null:document;function Mv(e,r,a){var u=nl;if(u&&typeof r=="string"&&r){var m=se(r);m='link[rel="'+e+'"][href="'+m+'"]',typeof a=="string"&&(m+='[crossorigin="'+a+'"]'),Ov.has(m)||(Ov.add(m),e={rel:e,crossOrigin:a,href:r},u.querySelector(m)===null&&(r=u.createElement("link"),cn(r,"link",e),ge(r),u.head.appendChild(r)))}}function oA(e){ss.D(e),Mv("dns-prefetch",e,null)}function lA(e,r){ss.C(e,r),Mv("preconnect",e,r)}function uA(e,r,a){ss.L(e,r,a);var u=nl;if(u&&e&&r){var m='link[rel="preload"][as="'+se(r)+'"]';r==="image"&&a&&a.imageSrcSet?(m+='[imagesrcset="'+se(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(m+='[imagesizes="'+se(a.imageSizes)+'"]')):m+='[href="'+se(e)+'"]';var g=m;switch(r){case"style":g=il(e);break;case"script":g=rl(e)}Vi.has(g)||(e=A({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:e,as:r},a),Vi.set(g,e),u.querySelector(m)!==null||r==="style"&&u.querySelector(yu(g))||r==="script"&&u.querySelector(_u(g))||(r=u.createElement("link"),cn(r,"link",e),ge(r),u.head.appendChild(r)))}}function cA(e,r){ss.m(e,r);var a=nl;if(a&&e){var u=r&&typeof r.as=="string"?r.as:"script",m='link[rel="modulepreload"][as="'+se(u)+'"][href="'+se(e)+'"]',g=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=rl(e)}if(!Vi.has(g)&&(e=A({rel:"modulepreload",href:e},r),Vi.set(g,e),a.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(_u(g)))return}u=a.createElement("link"),cn(u,"link",e),ge(u),a.head.appendChild(u)}}}function hA(e,r,a){ss.S(e,r,a);var u=nl;if(u&&e){var m=pe(u).hoistableStyles,g=il(e);r=r||"default";var T=m.get(g);if(!T){var D={loading:0,preload:null};if(T=u.querySelector(yu(g)))D.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":r},a),(a=Vi.get(g))&&fm(e,a);var P=T=u.createElement("link");ge(P),cn(P,"link",e),P._p=new Promise(function(q,Z){P.onload=q,P.onerror=Z}),P.addEventListener("load",function(){D.loading|=1}),P.addEventListener("error",function(){D.loading|=2}),D.loading|=4,eh(T,r,u)}T={type:"stylesheet",instance:T,count:1,state:D},m.set(g,T)}}}function fA(e,r){ss.X(e,r);var a=nl;if(a&&e){var u=pe(a).hoistableScripts,m=rl(e),g=u.get(m);g||(g=a.querySelector(_u(m)),g||(e=A({src:e,async:!0},r),(r=Vi.get(m))&&dm(e,r),g=a.createElement("script"),ge(g),cn(g,"link",e),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(m,g))}}function dA(e,r){ss.M(e,r);var a=nl;if(a&&e){var u=pe(a).hoistableScripts,m=rl(e),g=u.get(m);g||(g=a.querySelector(_u(m)),g||(e=A({src:e,async:!0,type:"module"},r),(r=Vi.get(m))&&dm(e,r),g=a.createElement("script"),ge(g),cn(g,"link",e),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(m,g))}}function Vv(e,r,a,u){var m=(m=At.current)?th(m):null;if(!m)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=il(a.href),a=pe(m).hoistableStyles,u=a.get(r),u||(u={type:"style",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=il(a.href);var g=pe(m).hoistableStyles,T=g.get(e);if(T||(m=m.ownerDocument||m,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(e,T),(g=m.querySelector(yu(e)))&&!g._p&&(T.instance=g,T.state.loading=5),Vi.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Vi.set(e,a),g||mA(m,e,a,T.state))),r&&u===null)throw Error(s(528,""));return T}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=rl(a),a=pe(m).hoistableScripts,u=a.get(r),u||(u={type:"script",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function il(e){return'href="'+se(e)+'"'}function yu(e){return'link[rel="stylesheet"]['+e+"]"}function Pv(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function mA(e,r,a,u){e.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=e.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),cn(r,"link",a),ge(r),e.head.appendChild(r))}function rl(e){return'[src="'+se(e)+'"]'}function _u(e){return"script[async]"+e}function kv(e,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var u=e.querySelector('style[data-href~="'+se(a.href)+'"]');if(u)return r.instance=u,ge(u),u;var m=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(e.ownerDocument||e).createElement("style"),ge(u),cn(u,"style",m),eh(u,a.precedence,e),r.instance=u;case"stylesheet":m=il(a.href);var g=e.querySelector(yu(m));if(g)return r.state.loading|=4,r.instance=g,ge(g),g;u=Pv(a),(m=Vi.get(m))&&fm(u,m),g=(e.ownerDocument||e).createElement("link"),ge(g);var T=g;return T._p=new Promise(function(D,P){T.onload=D,T.onerror=P}),cn(g,"link",u),r.state.loading|=4,eh(g,a.precedence,e),r.instance=g;case"script":return g=rl(a.src),(m=e.querySelector(_u(g)))?(r.instance=m,ge(m),m):(u=a,(m=Vi.get(g))&&(u=A({},a),dm(u,m)),e=e.ownerDocument||e,m=e.createElement("script"),ge(m),cn(m,"link",u),e.head.appendChild(m),r.instance=m);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,eh(u,a.precedence,e));return r.instance}function eh(e,r,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,g=m,T=0;T<u.length;T++){var D=u[T];if(D.dataset.precedence===r)g=D;else if(g!==m)break}g?g.parentNode.insertBefore(e,g.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(e,r.firstChild))}function fm(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.title==null&&(e.title=r.title)}function dm(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.integrity==null&&(e.integrity=r.integrity)}var nh=null;function jv(e,r,a){if(nh===null){var u=new Map,m=nh=new Map;m.set(a,u)}else m=nh,u=m.get(a),u||(u=new Map,m.set(a,u));if(u.has(e))return u;for(u.set(e,null),a=a.getElementsByTagName(e),m=0;m<a.length;m++){var g=a[m];if(!(g[Pr]||g[Te]||e==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(r)||"";T=e+T;var D=u.get(T);D?D.push(g):u.set(T,[g])}}return u}function Lv(e,r,a){e=e.ownerDocument||e,e.head.insertBefore(a,r==="title"?e.querySelector("head > title"):null)}function pA(e,r,a){if(a===1||r.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return e=r.disabled,typeof r.precedence=="string"&&e==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Uv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var vu=null;function gA(){}function yA(e,r,a){if(vu===null)throw Error(s(475));var u=vu;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var m=il(a.href),g=e.querySelector(yu(m));if(g){e=g._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(u.count++,u=ih.bind(u),e.then(u,u)),r.state.loading|=4,r.instance=g,ge(g);return}g=e.ownerDocument||e,a=Pv(a),(m=Vi.get(m))&&fm(a,m),g=g.createElement("link"),ge(g);var T=g;T._p=new Promise(function(D,P){T.onload=D,T.onerror=P}),cn(g,"link",a),r.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(r,e),(e=r.state.preload)&&(r.state.loading&3)===0&&(u.count++,r=ih.bind(u),e.addEventListener("load",r),e.addEventListener("error",r))}}function _A(){if(vu===null)throw Error(s(475));var e=vu;return e.stylesheets&&e.count===0&&mm(e,e.stylesheets),0<e.count?function(r){var a=setTimeout(function(){if(e.stylesheets&&mm(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(a)}}:null}function ih(){if(this.count--,this.count===0){if(this.stylesheets)mm(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var rh=null;function mm(e,r){e.stylesheets=null,e.unsuspend!==null&&(e.count++,rh=new Map,r.forEach(vA,e),rh=null,ih.call(e))}function vA(e,r){if(!(r.state.loading&4)){var a=rh.get(e);if(a)var u=a.get(null);else{a=new Map,rh.set(e,a);for(var m=e.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var T=m[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),u=T)}u&&a.set(null,u)}m=r.instance,T=m.getAttribute("data-precedence"),g=a.get(T)||u,g===u&&a.set(null,m),a.set(T,m),this.count++,u=ih.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),g?g.parentNode.insertBefore(m,g.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(m,e.firstChild)),r.state.loading|=4}}var Eu={$$typeof:rt,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function EA(e,r,a,u,m,g,T,D){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Rn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rn(0),this.hiddenUpdates=Rn(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Bv(e,r,a,u,m,g,T,D,P,q,Z,tt){return e=new EA(e,r,a,T,D,P,q,tt),r=1,g===!0&&(r|=24),g=ii(3,null,null,r),e.current=g,g.stateNode=e,r=Qf(),r.refCount++,e.pooledCache=r,r.refCount++,g.memoizedState={element:u,isDehydrated:a,cache:r},Wf(g),e}function $v(e){return e?(e=Po,e):Po}function zv(e,r,a,u,m,g){m=$v(m),u.context===null?u.context=m:u.pendingContext=m,u=Vs(r),u.payload={element:a},g=g===void 0?null:g,g!==null&&(u.callback=g),a=Ps(e,u,r),a!==null&&(li(a,e,r),Xl(a,e,r))}function Fv(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<r?a:r}}function pm(e,r){Fv(e,r),(e=e.alternate)&&Fv(e,r)}function qv(e){if(e.tag===13){var r=Vo(e,67108864);r!==null&&li(r,e,67108864),pm(e,67108864)}}var sh=!0;function bA(e,r,a,u){var m=X.T;X.T=null;var g=lt.p;try{lt.p=2,gm(e,r,a,u)}finally{lt.p=g,X.T=m}}function TA(e,r,a,u){var m=X.T;X.T=null;var g=lt.p;try{lt.p=8,gm(e,r,a,u)}finally{lt.p=g,X.T=m}}function gm(e,r,a,u){if(sh){var m=ym(u);if(m===null)im(e,r,u,ah,a),Gv(e,u);else if(SA(m,e,r,a,u))u.stopPropagation();else if(Gv(e,u),r&4&&-1<wA.indexOf(e)){for(;m!==null;){var g=kn(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=An(g.pendingLanes);if(T!==0){var D=g;for(D.pendingLanes|=2,D.entangledLanes|=2;T;){var P=1<<31-$e(T);D.entanglements[1]|=P,T&=~P}dr(g),(ie&6)===0&&(Fc=Vn()+500,du(0))}}break;case 13:D=Vo(g,2),D!==null&&li(D,g,2),Hc(),pm(g,2)}if(g=ym(u),g===null&&im(e,r,u,ah,a),g===m)break;m=g}m!==null&&u.stopPropagation()}else im(e,r,u,null,a)}}function ym(e){return e=De(e),_m(e)}var ah=null;function _m(e){if(ah=null,e=$i(e),e!==null){var r=c(e);if(r===null)e=null;else{var a=r.tag;if(a===13){if(e=d(r),e!==null)return e;e=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null)}}return ah=e,null}function Hv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Cl()){case gs:return 2;case tr:return 8;case er:case Dl:return 32;case nr:return 268435456;default:return 32}default:return 32}}var vm=!1,Ys=null,Qs=null,Xs=null,bu=new Map,Tu=new Map,Zs=[],wA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Gv(e,r){switch(e){case"focusin":case"focusout":Ys=null;break;case"dragenter":case"dragleave":Qs=null;break;case"mouseover":case"mouseout":Xs=null;break;case"pointerover":case"pointerout":bu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tu.delete(r.pointerId)}}function wu(e,r,a,u,m,g){return e===null||e.nativeEvent!==g?(e={blockedOn:r,domEventName:a,eventSystemFlags:u,nativeEvent:g,targetContainers:[m]},r!==null&&(r=kn(r),r!==null&&qv(r)),e):(e.eventSystemFlags|=u,r=e.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),e)}function SA(e,r,a,u,m){switch(r){case"focusin":return Ys=wu(Ys,e,r,a,u,m),!0;case"dragenter":return Qs=wu(Qs,e,r,a,u,m),!0;case"mouseover":return Xs=wu(Xs,e,r,a,u,m),!0;case"pointerover":var g=m.pointerId;return bu.set(g,wu(bu.get(g)||null,e,r,a,u,m)),!0;case"gotpointercapture":return g=m.pointerId,Tu.set(g,wu(Tu.get(g)||null,e,r,a,u,m)),!0}return!1}function Kv(e){var r=$i(e.target);if(r!==null){var a=c(r);if(a!==null){if(r=a.tag,r===13){if(r=d(a),r!==null){e.blockedOn=r,wa(e.priority,function(){if(a.tag===13){var u=oi();u=gi(u);var m=Vo(a,u);m!==null&&li(m,a,u),pm(a,u)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function oh(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var a=ym(e.nativeEvent);if(a===null){a=e.nativeEvent;var u=new a.constructor(a.type,a);Dn=u,a.target.dispatchEvent(u),Dn=null}else return r=kn(a),r!==null&&qv(r),e.blockedOn=a,!1;r.shift()}return!0}function Yv(e,r,a){oh(e)&&a.delete(r)}function AA(){vm=!1,Ys!==null&&oh(Ys)&&(Ys=null),Qs!==null&&oh(Qs)&&(Qs=null),Xs!==null&&oh(Xs)&&(Xs=null),bu.forEach(Yv),Tu.forEach(Yv)}function lh(e,r){e.blockedOn===r&&(e.blockedOn=null,vm||(vm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,AA)))}var uh=null;function Qv(e){uh!==e&&(uh=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){uh===e&&(uh=null);for(var r=0;r<e.length;r+=3){var a=e[r],u=e[r+1],m=e[r+2];if(typeof u!="function"){if(_m(u||a)===null)continue;break}var g=kn(a);g!==null&&(e.splice(r,3),r-=3,_d(g,{pending:!0,data:m,method:a.method,action:u},u,m))}}))}function Su(e){function r(P){return lh(P,e)}Ys!==null&&lh(Ys,e),Qs!==null&&lh(Qs,e),Xs!==null&&lh(Xs,e),bu.forEach(r),Tu.forEach(r);for(var a=0;a<Zs.length;a++){var u=Zs[a];u.blockedOn===e&&(u.blockedOn=null)}for(;0<Zs.length&&(a=Zs[0],a.blockedOn===null);)Kv(a),a.blockedOn===null&&Zs.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var m=a[u],g=a[u+1],T=m[he]||null;if(typeof g=="function")T||Qv(a);else if(T){var D=null;if(g&&g.hasAttribute("formAction")){if(m=g,T=g[he]||null)D=T.formAction;else if(_m(m)!==null)continue}else D=T.action;typeof D=="function"?a[u+1]=D:(a.splice(u,3),u-=3),Qv(a)}}}function Em(e){this._internalRoot=e}ch.prototype.render=Em.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,u=oi();zv(a,u,e,r,null,null)},ch.prototype.unmount=Em.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;zv(e.current,2,null,e,null,null),Hc(),r[Qe]=null}};function ch(e){this._internalRoot=e}ch.prototype.unstable_scheduleHydration=function(e){if(e){var r=Pn();e={blockedOn:null,target:e,priority:r};for(var a=0;a<Zs.length&&r!==0&&r<Zs[a].priority;a++);Zs.splice(a,0,e),a===0&&Kv(e)}};var Xv=t.version;if(Xv!=="19.1.1")throw Error(s(527,Xv,"19.1.1"));lt.findDOMNode=function(e){var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=_(r),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var RA={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hh.isDisabled&&hh.supportsFiber)try{kt=hh.inject(RA),Nt=hh}catch{}}return Ru.createRoot=function(e,r){if(!o(e))throw Error(s(299));var a=!1,u="",m=f_,g=d_,T=m_,D=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(D=r.unstable_transitionCallbacks)),r=Bv(e,1,!1,null,null,a,u,m,g,T,D,null),e[Qe]=r.current,nm(e),new Em(r)},Ru.hydrateRoot=function(e,r,a){if(!o(e))throw Error(s(299));var u=!1,m="",g=f_,T=d_,D=m_,P=null,q=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(D=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(P=a.unstable_transitionCallbacks),a.formState!==void 0&&(q=a.formState)),r=Bv(e,1,!0,r,a??null,u,m,g,T,D,P,q),r.context=$v(null),a=r.current,u=oi(),u=gi(u),m=Vs(u),m.callback=null,Ps(a,m,u),a=u,r.current.lanes=a,Qn(r,a),dr(r),e[Qe]=r.current,nm(e),new ch(r)},Ru.version="19.1.1",Ru}var a0;function kA(){if(a0)return wm.exports;a0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),wm.exports=PA(),wm.exports}var jA=kA();const LA=pE(jA);/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var o0="popstate";function UA(i={}){function t(s,o){let{pathname:c,search:d,hash:p}=s.location;return Wm("",{pathname:c,search:d,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Ku(o)}return $A(t,n,null,i)}function Ee(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function wr(i,t){if(!i){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function BA(){return Math.random().toString(36).substring(2,10)}function l0(i,t){return{usr:i.state,key:i.key,idx:t}}function Wm(i,t,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof t=="string"?Tl(t):t,state:n,key:t&&t.key||s||BA()}}function Ku({pathname:i="/",search:t="",hash:n=""}){return t&&t!=="?"&&(i+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Tl(i){let t={};if(i){let n=i.indexOf("#");n>=0&&(t.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(t.search=i.substring(s),i=i.substring(0,s)),i&&(t.pathname=i)}return t}function $A(i,t,n,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,d=o.history,p="POP",_=null,v=A();v==null&&(v=0,d.replaceState({...d.state,idx:v},""));function A(){return(d.state||{idx:null}).idx}function M(){p="POP";let $=A(),Q=$==null?null:$-v;v=$,_&&_({action:p,location:G.location,delta:Q})}function O($,Q){p="PUSH";let at=Wm(G.location,$,Q);v=A()+1;let rt=l0(at,v),ut=G.createHref(at);try{d.pushState(rt,"",ut)}catch(ht){if(ht instanceof DOMException&&ht.name==="DataCloneError")throw ht;o.location.assign(ut)}c&&_&&_({action:p,location:G.location,delta:1})}function L($,Q){p="REPLACE";let at=Wm(G.location,$,Q);v=A();let rt=l0(at,v),ut=G.createHref(at);d.replaceState(rt,"",ut),c&&_&&_({action:p,location:G.location,delta:0})}function U($){return zA($)}let G={get action(){return p},get location(){return i(o,d)},listen($){if(_)throw new Error("A history only accepts one active listener");return o.addEventListener(o0,M),_=$,()=>{o.removeEventListener(o0,M),_=null}},createHref($){return t(o,$)},createURL:U,encodeLocation($){let Q=U($);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:O,replace:L,go($){return d.go($)}};return G}function zA(i,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ee(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:Ku(i);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function gE(i,t,n="/"){return FA(i,t,n,!1)}function FA(i,t,n,s){let o=typeof t=="string"?Tl(t):t,c=ls(o.pathname||"/",n);if(c==null)return null;let d=yE(i);qA(d);let p=null;for(let _=0;p==null&&_<d.length;++_){let v=e2(c);p=WA(d[_],v,s)}return p}function yE(i,t=[],n=[],s=""){let o=(c,d,p)=>{let _={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};_.relativePath.startsWith("/")&&(Ee(_.relativePath.startsWith(s),`Absolute route path "${_.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(s.length));let v=os([s,_.relativePath]),A=n.concat(_);c.children&&c.children.length>0&&(Ee(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),yE(c.children,t,A,v)),!(c.path==null&&!c.index)&&t.push({path:v,score:ZA(v,c.index),routesMeta:A})};return i.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))o(c,d);else for(let p of _E(c.path))o(c,d,p)}),t}function _E(i){let t=i.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),c=n.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let d=_E(s.join("/")),p=[];return p.push(...d.map(_=>_===""?c:[c,_].join("/"))),o&&p.push(...d),p.map(_=>i.startsWith("/")&&_===""?"/":_)}function qA(i){i.sort((t,n)=>t.score!==n.score?n.score-t.score:JA(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var HA=/^:[\w-]+$/,GA=3,KA=2,YA=1,QA=10,XA=-2,u0=i=>i==="*";function ZA(i,t){let n=i.split("/"),s=n.length;return n.some(u0)&&(s+=XA),t&&(s+=KA),n.filter(o=>!u0(o)).reduce((o,c)=>o+(HA.test(c)?GA:c===""?YA:QA),s)}function JA(i,t){return i.length===t.length&&i.slice(0,-1).every((s,o)=>s===t[o])?i[i.length-1]-t[t.length-1]:0}function WA(i,t,n=!1){let{routesMeta:s}=i,o={},c="/",d=[];for(let p=0;p<s.length;++p){let _=s[p],v=p===s.length-1,A=c==="/"?t:t.slice(c.length)||"/",M=Vh({path:_.relativePath,caseSensitive:_.caseSensitive,end:v},A),O=_.route;if(!M&&v&&n&&!s[s.length-1].route.index&&(M=Vh({path:_.relativePath,caseSensitive:_.caseSensitive,end:!1},A)),!M)return null;Object.assign(o,M.params),d.push({params:o,pathname:os([c,M.pathname]),pathnameBase:s2(os([c,M.pathnameBase])),route:O}),M.pathnameBase!=="/"&&(c=os([c,M.pathnameBase]))}return d}function Vh(i,t){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=t2(i.path,i.caseSensitive,i.end),o=t.match(n);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((v,{paramName:A,isOptional:M},O)=>{if(A==="*"){let U=p[O]||"";d=c.slice(0,c.length-U.length).replace(/(.)\/+$/,"$1")}const L=p[O];return M&&!L?v[A]=void 0:v[A]=(L||"").replace(/%2F/g,"/"),v},{}),pathname:c,pathnameBase:d,pattern:i}}function t2(i,t=!1,n=!0){wr(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,_)=>(s.push({paramName:p,isOptional:_!=null}),_?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function e2(i){try{return i.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return wr(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),i}}function ls(i,t){if(t==="/")return i;if(!i.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function n2(i,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?Tl(i):i;return{pathname:n?n.startsWith("/")?n:i2(n,t):t,search:a2(s),hash:o2(o)}}function i2(i,t){let n=t.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function xm(i,t,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function r2(i){return i.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function vE(i){let t=r2(i);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function EE(i,t,n,s=!1){let o;typeof i=="string"?o=Tl(i):(o={...i},Ee(!o.pathname||!o.pathname.includes("?"),xm("?","pathname","search",o)),Ee(!o.pathname||!o.pathname.includes("#"),xm("#","pathname","hash",o)),Ee(!o.search||!o.search.includes("#"),xm("#","search","hash",o)));let c=i===""||o.pathname==="",d=c?"/":o.pathname,p;if(d==null)p=n;else{let M=t.length-1;if(!s&&d.startsWith("..")){let O=d.split("/");for(;O[0]==="..";)O.shift(),M-=1;o.pathname=O.join("/")}p=M>=0?t[M]:"/"}let _=n2(o,p),v=d&&d!=="/"&&d.endsWith("/"),A=(c||d===".")&&n.endsWith("/");return!_.pathname.endsWith("/")&&(v||A)&&(_.pathname+="/"),_}var os=i=>i.join("/").replace(/\/\/+/g,"/"),s2=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),a2=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,o2=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function l2(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var bE=["POST","PUT","PATCH","DELETE"];new Set(bE);var u2=["GET",...bE];new Set(u2);var wl=H.createContext(null);wl.displayName="DataRouter";var sf=H.createContext(null);sf.displayName="DataRouterState";H.createContext(!1);var TE=H.createContext({isTransitioning:!1});TE.displayName="ViewTransition";var c2=H.createContext(new Map);c2.displayName="Fetchers";var h2=H.createContext(null);h2.displayName="Await";var xr=H.createContext(null);xr.displayName="Navigation";var nc=H.createContext(null);nc.displayName="Location";var ps=H.createContext({outlet:null,matches:[],isDataRoute:!1});ps.displayName="Route";var Pp=H.createContext(null);Pp.displayName="RouteError";function f2(i,{relative:t}={}){Ee(ic(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=H.useContext(xr),{hash:o,pathname:c,search:d}=rc(i,{relative:t}),p=c;return n!=="/"&&(p=c==="/"?n:os([n,c])),s.createHref({pathname:p,search:d,hash:o})}function ic(){return H.useContext(nc)!=null}function To(){return Ee(ic(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(nc).location}var wE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function SE(i){H.useContext(xr).static||H.useLayoutEffect(i)}function dn(){let{isDataRoute:i}=H.useContext(ps);return i?A2():d2()}function d2(){Ee(ic(),"useNavigate() may be used only in the context of a <Router> component.");let i=H.useContext(wl),{basename:t,navigator:n}=H.useContext(xr),{matches:s}=H.useContext(ps),{pathname:o}=To(),c=JSON.stringify(vE(s)),d=H.useRef(!1);return SE(()=>{d.current=!0}),H.useCallback((_,v={})=>{if(wr(d.current,wE),!d.current)return;if(typeof _=="number"){n.go(_);return}let A=EE(_,JSON.parse(c),o,v.relative==="path");i==null&&t!=="/"&&(A.pathname=A.pathname==="/"?t:os([t,A.pathname])),(v.replace?n.replace:n.push)(A,v.state,v)},[t,n,c,o,i])}H.createContext(null);function rc(i,{relative:t}={}){let{matches:n}=H.useContext(ps),{pathname:s}=To(),o=JSON.stringify(vE(n));return H.useMemo(()=>EE(i,JSON.parse(o),s,t==="path"),[i,o,s,t])}function m2(i,t){return AE(i,t)}function AE(i,t,n,s){Ee(ic(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=H.useContext(xr),{matches:c}=H.useContext(ps),d=c[c.length-1],p=d?d.params:{},_=d?d.pathname:"/",v=d?d.pathnameBase:"/",A=d&&d.route;{let Q=A&&A.path||"";RE(_,!A||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${_}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let M=To(),O;if(t){let Q=typeof t=="string"?Tl(t):t;Ee(v==="/"||Q.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${Q.pathname}" was given in the \`location\` prop.`),O=Q}else O=M;let L=O.pathname||"/",U=L;if(v!=="/"){let Q=v.replace(/^\//,"").split("/");U="/"+L.replace(/^\//,"").split("/").slice(Q.length).join("/")}let G=gE(i,{pathname:U});wr(A||G!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),wr(G==null||G[G.length-1].route.element!==void 0||G[G.length-1].route.Component!==void 0||G[G.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=v2(G&&G.map(Q=>Object.assign({},Q,{params:Object.assign({},p,Q.params),pathname:os([v,o.encodeLocation?o.encodeLocation(Q.pathname).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?v:os([v,o.encodeLocation?o.encodeLocation(Q.pathnameBase).pathname:Q.pathnameBase])})),c,n,s);return t&&$?H.createElement(nc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},$):$}function p2(){let i=S2(),t=l2(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",i),d=H.createElement(H.Fragment,null,H.createElement("p",null," Hey developer "),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:c},"ErrorBoundary")," or"," ",H.createElement("code",{style:c},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},t),n?H.createElement("pre",{style:o},n):null,d)}var g2=H.createElement(p2,null),y2=class extends H.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,t){return t.location!==i.location||t.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:t.error,location:t.location,revalidation:i.revalidation||t.revalidation}}componentDidCatch(i,t){console.error("React Router caught the following error during render",i,t)}render(){return this.state.error!==void 0?H.createElement(ps.Provider,{value:this.props.routeContext},H.createElement(Pp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function _2({routeContext:i,match:t,children:n}){let s=H.useContext(wl);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),H.createElement(ps.Provider,{value:i},n)}function v2(i,t=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let o=i,c=n?.errors;if(c!=null){let _=o.findIndex(v=>v.route.id&&c?.[v.route.id]!==void 0);Ee(_>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,_+1))}let d=!1,p=-1;if(n)for(let _=0;_<o.length;_++){let v=o[_];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=_),v.route.id){let{loaderData:A,errors:M}=n,O=v.route.loader&&!A.hasOwnProperty(v.route.id)&&(!M||M[v.route.id]===void 0);if(v.route.lazy||O){d=!0,p>=0?o=o.slice(0,p+1):o=[o[0]];break}}}return o.reduceRight((_,v,A)=>{let M,O=!1,L=null,U=null;n&&(M=c&&v.route.id?c[v.route.id]:void 0,L=v.route.errorElement||g2,d&&(p<0&&A===0?(RE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),O=!0,U=null):p===A&&(O=!0,U=v.route.hydrateFallbackElement||null)));let G=t.concat(o.slice(0,A+1)),$=()=>{let Q;return M?Q=L:O?Q=U:v.route.Component?Q=H.createElement(v.route.Component,null):v.route.element?Q=v.route.element:Q=_,H.createElement(_2,{match:v,routeContext:{outlet:_,matches:G,isDataRoute:n!=null},children:Q})};return n&&(v.route.ErrorBoundary||v.route.errorElement||A===0)?H.createElement(y2,{location:n.location,revalidation:n.revalidation,component:L,error:M,children:$(),routeContext:{outlet:null,matches:G,isDataRoute:!0}}):$()},null)}function kp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function E2(i){let t=H.useContext(wl);return Ee(t,kp(i)),t}function b2(i){let t=H.useContext(sf);return Ee(t,kp(i)),t}function T2(i){let t=H.useContext(ps);return Ee(t,kp(i)),t}function jp(i){let t=T2(i),n=t.matches[t.matches.length-1];return Ee(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function w2(){return jp("useRouteId")}function S2(){let i=H.useContext(Pp),t=b2("useRouteError"),n=jp("useRouteError");return i!==void 0?i:t.errors?.[n]}function A2(){let{router:i}=E2("useNavigate"),t=jp("useNavigate"),n=H.useRef(!1);return SE(()=>{n.current=!0}),H.useCallback(async(o,c={})=>{wr(n.current,wE),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:t,...c}))},[i,t])}var c0={};function RE(i,t,n){!t&&!c0[i]&&(c0[i]=!0,wr(!1,n))}H.memo(R2);function R2({routes:i,future:t,state:n}){return AE(i,void 0,n,t)}function hn(i){Ee(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function x2({basename:i="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:c=!1}){Ee(!ic(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=i.replace(/^\/*/,"/"),p=H.useMemo(()=>({basename:d,navigator:o,static:c,future:{}}),[d,o,c]);typeof n=="string"&&(n=Tl(n));let{pathname:_="/",search:v="",hash:A="",state:M=null,key:O="default"}=n,L=H.useMemo(()=>{let U=ls(_,d);return U==null?null:{location:{pathname:U,search:v,hash:A,state:M,key:O},navigationType:s}},[d,_,v,A,M,O,s]);return wr(L!=null,`<Router basename="${d}"> is not able to match the URL "${_}${v}${A}" because it does not start with the basename, so the <Router> won't render anything.`),L==null?null:H.createElement(xr.Provider,{value:p},H.createElement(nc.Provider,{children:t,value:L}))}function I2({children:i,location:t}){return m2(tp(i),t)}function tp(i,t=[]){let n=[];return H.Children.forEach(i,(s,o)=>{if(!H.isValidElement(s))return;let c=[...t,o];if(s.type===H.Fragment){n.push.apply(n,tp(s.props.children,c));return}Ee(s.type===hn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ee(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=tp(s.props.children,c)),n.push(d)}),n}var Th="get",wh="application/x-www-form-urlencoded";function af(i){return i!=null&&typeof i.tagName=="string"}function C2(i){return af(i)&&i.tagName.toLowerCase()==="button"}function D2(i){return af(i)&&i.tagName.toLowerCase()==="form"}function N2(i){return af(i)&&i.tagName.toLowerCase()==="input"}function O2(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function M2(i,t){return i.button===0&&(!t||t==="_self")&&!O2(i)}var fh=null;function V2(){if(fh===null)try{new FormData(document.createElement("form"),0),fh=!1}catch{fh=!0}return fh}var P2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Im(i){return i!=null&&!P2.has(i)?(wr(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wh}"`),null):i}function k2(i,t){let n,s,o,c,d;if(D2(i)){let p=i.getAttribute("action");s=p?ls(p,t):null,n=i.getAttribute("method")||Th,o=Im(i.getAttribute("enctype"))||wh,c=new FormData(i)}else if(C2(i)||N2(i)&&(i.type==="submit"||i.type==="image")){let p=i.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let _=i.getAttribute("formaction")||p.getAttribute("action");if(s=_?ls(_,t):null,n=i.getAttribute("formmethod")||p.getAttribute("method")||Th,o=Im(i.getAttribute("formenctype"))||Im(p.getAttribute("enctype"))||wh,c=new FormData(p,i),!V2()){let{name:v,type:A,value:M}=i;if(A==="image"){let O=v?`${v}.`:"";c.append(`${O}x`,"0"),c.append(`${O}y`,"0")}else v&&c.append(v,M)}}else{if(af(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Th,s=null,o=wh,d=i}return c&&o==="text/plain"&&(d=c,c=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Lp(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function j2(i,t,n){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${n}`:t&&ls(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function L2(i,t){if(i.id in t)return t[i.id];try{let n=await import(i.module);return t[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function U2(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function B2(i,t,n){let s=await Promise.all(i.map(async o=>{let c=t.routes[o.route.id];if(c){let d=await L2(c,n);return d.links?d.links():[]}return[]}));return q2(s.flat(1).filter(U2).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function h0(i,t,n,s,o,c){let d=(_,v)=>n[v]?_.route.id!==n[v].route.id:!0,p=(_,v)=>n[v].pathname!==_.pathname||n[v].route.path?.endsWith("*")&&n[v].params["*"]!==_.params["*"];return c==="assets"?t.filter((_,v)=>d(_,v)||p(_,v)):c==="data"?t.filter((_,v)=>{let A=s.routes[_.route.id];if(!A||!A.hasLoader)return!1;if(d(_,v)||p(_,v))return!0;if(_.route.shouldRevalidate){let M=_.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:_.params,defaultShouldRevalidate:!0});if(typeof M=="boolean")return M}return!0}):[]}function $2(i,t,{includeHydrateFallback:n}={}){return z2(i.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function z2(i){return[...new Set(i)]}function F2(i){let t={},n=Object.keys(i).sort();for(let s of n)t[s]=i[s];return t}function q2(i,t){let n=new Set;return new Set(t),i.reduce((s,o)=>{let c=JSON.stringify(F2(o));return n.has(c)||(n.add(c),s.push({key:c,link:o})),s},[])}function xE(){let i=H.useContext(wl);return Lp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function H2(){let i=H.useContext(sf);return Lp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Up=H.createContext(void 0);Up.displayName="FrameworkContext";function IE(){let i=H.useContext(Up);return Lp(i,"You must render this element inside a <HydratedRouter> element"),i}function G2(i,t){let n=H.useContext(Up),[s,o]=H.useState(!1),[c,d]=H.useState(!1),{onFocus:p,onBlur:_,onMouseEnter:v,onMouseLeave:A,onTouchStart:M}=t,O=H.useRef(null);H.useEffect(()=>{if(i==="render"&&d(!0),i==="viewport"){let G=Q=>{Q.forEach(at=>{d(at.isIntersecting)})},$=new IntersectionObserver(G,{threshold:.5});return O.current&&$.observe(O.current),()=>{$.disconnect()}}},[i]),H.useEffect(()=>{if(s){let G=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(G)}}},[s]);let L=()=>{o(!0)},U=()=>{o(!1),d(!1)};return n?i!=="intent"?[c,O,{}]:[c,O,{onFocus:xu(p,L),onBlur:xu(_,U),onMouseEnter:xu(v,L),onMouseLeave:xu(A,U),onTouchStart:xu(M,L)}]:[!1,O,{}]}function xu(i,t){return n=>{i&&i(n),n.defaultPrevented||t(n)}}function K2({page:i,...t}){let{router:n}=xE(),s=H.useMemo(()=>gE(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?H.createElement(Q2,{page:i,matches:s,...t}):null}function Y2(i){let{manifest:t,routeModules:n}=IE(),[s,o]=H.useState([]);return H.useEffect(()=>{let c=!1;return B2(i,t,n).then(d=>{c||o(d)}),()=>{c=!0}},[i,t,n]),s}function Q2({page:i,matches:t,...n}){let s=To(),{manifest:o,routeModules:c}=IE(),{basename:d}=xE(),{loaderData:p,matches:_}=H2(),v=H.useMemo(()=>h0(i,t,_,o,s,"data"),[i,t,_,o,s]),A=H.useMemo(()=>h0(i,t,_,o,s,"assets"),[i,t,_,o,s]),M=H.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let U=new Set,G=!1;if(t.forEach(Q=>{let at=o.routes[Q.route.id];!at||!at.hasLoader||(!v.some(rt=>rt.route.id===Q.route.id)&&Q.route.id in p&&c[Q.route.id]?.shouldRevalidate||at.hasClientLoader?G=!0:U.add(Q.route.id))}),U.size===0)return[];let $=j2(i,d,"data");return G&&U.size>0&&$.searchParams.set("_routes",t.filter(Q=>U.has(Q.route.id)).map(Q=>Q.route.id).join(",")),[$.pathname+$.search]},[d,p,s,o,v,t,i,c]),O=H.useMemo(()=>$2(A,o),[A,o]),L=Y2(A);return H.createElement(H.Fragment,null,M.map(U=>H.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...n})),O.map(U=>H.createElement("link",{key:U,rel:"modulepreload",href:U,...n})),L.map(({key:U,link:G})=>H.createElement("link",{key:U,...G})))}function X2(...i){return t=>{i.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var CE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{CE&&(window.__reactRouterVersion="7.7.1")}catch{}function Z2({basename:i,children:t,window:n}){let s=H.useRef();s.current==null&&(s.current=UA({window:n,v5Compat:!0}));let o=s.current,[c,d]=H.useState({action:o.action,location:o.location}),p=H.useCallback(_=>{H.startTransition(()=>d(_))},[d]);return H.useLayoutEffect(()=>o.listen(p),[o,p]),H.createElement(x2,{basename:i,children:t,location:c.location,navigationType:c.action,navigator:o})}var DE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,NE=H.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:c,replace:d,state:p,target:_,to:v,preventScrollReset:A,viewTransition:M,...O},L){let{basename:U}=H.useContext(xr),G=typeof v=="string"&&DE.test(v),$,Q=!1;if(typeof v=="string"&&G&&($=v,CE))try{let w=new URL(window.location.href),R=v.startsWith("//")?new URL(w.protocol+v):new URL(v),I=ls(R.pathname,U);R.origin===w.origin&&I!=null?v=I+R.search+R.hash:Q=!0}catch{wr(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let at=f2(v,{relative:o}),[rt,ut,ht]=G2(s,O),vt=eR(v,{replace:d,state:p,target:_,preventScrollReset:A,relative:o,viewTransition:M});function C(w){t&&t(w),w.defaultPrevented||vt(w)}let E=H.createElement("a",{...O,...ht,href:$||at,onClick:Q||c?t:C,ref:X2(L,ut),target:_,"data-discover":!G&&n==="render"?"true":void 0});return rt&&!G?H.createElement(H.Fragment,null,E,H.createElement(K2,{page:at})):E});NE.displayName="Link";var J2=H.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:c,to:d,viewTransition:p,children:_,...v},A){let M=rc(d,{relative:v.relative}),O=To(),L=H.useContext(sf),{navigator:U,basename:G}=H.useContext(xr),$=L!=null&&aR(M)&&p===!0,Q=U.encodeLocation?U.encodeLocation(M).pathname:M.pathname,at=O.pathname,rt=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;n||(at=at.toLowerCase(),rt=rt?rt.toLowerCase():null,Q=Q.toLowerCase()),rt&&G&&(rt=ls(rt,G)||rt);const ut=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let ht=at===Q||!o&&at.startsWith(Q)&&at.charAt(ut)==="/",vt=rt!=null&&(rt===Q||!o&&rt.startsWith(Q)&&rt.charAt(Q.length)==="/"),C={isActive:ht,isPending:vt,isTransitioning:$},E=ht?t:void 0,w;typeof s=="function"?w=s(C):w=[s,ht?"active":null,vt?"pending":null,$?"transitioning":null].filter(Boolean).join(" ");let R=typeof c=="function"?c(C):c;return H.createElement(NE,{...v,"aria-current":E,className:w,ref:A,style:R,to:d,viewTransition:p},typeof _=="function"?_(C):_)});J2.displayName="NavLink";var W2=H.forwardRef(({discover:i="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:c,method:d=Th,action:p,onSubmit:_,relative:v,preventScrollReset:A,viewTransition:M,...O},L)=>{let U=rR(),G=sR(p,{relative:v}),$=d.toLowerCase()==="get"?"get":"post",Q=typeof p=="string"&&DE.test(p),at=rt=>{if(_&&_(rt),rt.defaultPrevented)return;rt.preventDefault();let ut=rt.nativeEvent.submitter,ht=ut?.getAttribute("formmethod")||d;U(ut||rt.currentTarget,{fetcherKey:t,method:ht,navigate:n,replace:o,state:c,relative:v,preventScrollReset:A,viewTransition:M})};return H.createElement("form",{ref:L,method:$,action:G,onSubmit:s?_:at,...O,"data-discover":!Q&&i==="render"?"true":void 0})});W2.displayName="Form";function tR(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function OE(i){let t=H.useContext(wl);return Ee(t,tR(i)),t}function eR(i,{target:t,replace:n,state:s,preventScrollReset:o,relative:c,viewTransition:d}={}){let p=dn(),_=To(),v=rc(i,{relative:c});return H.useCallback(A=>{if(M2(A,t)){A.preventDefault();let M=n!==void 0?n:Ku(_)===Ku(v);p(i,{replace:M,state:s,preventScrollReset:o,relative:c,viewTransition:d})}},[_,p,v,n,s,t,i,o,c,d])}var nR=0,iR=()=>`__${String(++nR)}__`;function rR(){let{router:i}=OE("useSubmit"),{basename:t}=H.useContext(xr),n=w2();return H.useCallback(async(s,o={})=>{let{action:c,method:d,encType:p,formData:_,body:v}=k2(s,t);if(o.navigate===!1){let A=o.fetcherKey||iR();await i.fetch(A,n,o.action||c,{preventScrollReset:o.preventScrollReset,formData:_,body:v,formMethod:o.method||d,formEncType:o.encType||p,flushSync:o.flushSync})}else await i.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:_,body:v,formMethod:o.method||d,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,t,n])}function sR(i,{relative:t}={}){let{basename:n}=H.useContext(xr),s=H.useContext(ps);Ee(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...rc(i||".",{relative:t})},d=To();if(i==null){c.search=d.search;let p=new URLSearchParams(c.search),_=p.getAll("index");if(_.some(A=>A==="")){p.delete("index"),_.filter(M=>M).forEach(M=>p.append("index",M));let A=p.toString();c.search=A?`?${A}`:""}}return(!i||i===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:os([n,c.pathname])),Ku(c)}function aR(i,{relative:t}={}){let n=H.useContext(TE);Ee(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=OE("useViewTransitionState"),o=rc(i,{relative:t});if(!n.isTransitioning)return!1;let c=ls(n.currentLocation.pathname,s)||n.currentLocation.pathname,d=ls(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Vh(o.pathname,d)!=null||Vh(o.pathname,c)!=null}function oR(){const i=dn();return x.jsx("div",{className:"fixed inset-0 flex items-center justify-center min-h-screen min-w-full bg-gradient-to-br from-blue-100 via-white to-blue-300",children:x.jsxs("div",{className:"relative z-10 bg-white/90 backdrop-blur-md text-gray-800 shadow-2xl rounded-3xl p-10 w-full max-w-md text-center border border-blue-100 transform rotate-2 hover:rotate-0 transition-transform duration-500",children:[x.jsx("div",{className:"flex justify-center mb-6",children:x.jsx("svg",{className:"w-12 h-12 text-blue-400 drop-shadow animate-spin-slow",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 12h18M4 6h16M4 18h16M9 6c0-1.5 2-1.5 2 0s-2 1.5-2 0zm0 6c0-1.5 2-1.5 2 0s-2 1.5-2 0zm0 6c0-1.5 2-1.5 2 0s-2 1.5-2 0z"})})}),x.jsx("h1",{className:"text-3xl font-extrabold mb-2 text-blue-700 drop-shadow",children:"Web application for auditor"}),x.jsx("p",{className:"mb-8 text-gray-500 text-base",children:""}),x.jsxs("div",{className:"mb-4",children:[x.jsxs("button",{onClick:()=>i("/next"),className:"flex items-center justify-center gap-2 bg-gradient-to-r from-blue-500 to-blue-700 hover:from-blue-600 hover:to-blue-800 text-white px-6 py-3 rounded-2xl w-full transition shadow-lg font-semibold text-lg focus:outline-none focus:ring-2 focus:ring-blue-400",children:[x.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 7l5 5m0 0l-5 5m5-5H6"})}),"B-Kansa"]}),x.jsx("span",{className:"block text-xs text-gray-400 mt-1",children:" B-Kansa"})]}),x.jsxs("div",{children:[x.jsxs("button",{onClick:()=>alert("Not yet available"),className:"flex items-center justify-center gap-2 bg-gradient-to-r from-gray-400 to-gray-600 hover:from-gray-500 hover:to-gray-700 text-white px-6 py-3 rounded-2xl w-full transition shadow-lg font-semibold text-lg focus:outline-none focus:ring-2 focus:ring-gray-400 disabled:opacity-60",disabled:!0,children:[x.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.364 5.636l-12.728 12.728M5.636 5.636l12.728 12.728"})}),"A-Kansa"]}),x.jsx("span",{className:"block text-xs text-gray-400 mt-1",children:"( )  A-Kansa"})]}),x.jsx("div",{className:"mt-8 text-xs text-gray-300",children:" 2025 Auditor App. Powered by React & Vite."})]})})}function lR(){const i=dn(),t=()=>{i("/search")},n=()=>{i("/add")},s=()=>{i("/")};return x.jsx("div",{className:"fixed inset-0 flex items-center justify-center min-h-screen min-w-full bg-gradient-to-br from-blue-100 via-white to-blue-300",children:x.jsx("div",{className:"relative z-10 bg-white/90 backdrop-blur-md text-gray-800 shadow-2xl rounded-3xl p-10 w-full max-w-md text-center border border-blue-100 transform rotate-2 hover:rotate-0 transition-transform duration-500",children:x.jsxs("div",{className:"bg-white text-gray-800 shadow-xl rounded-3xl p-10 w-full max-w-md text-center space-y-6",children:[x.jsx("h1",{className:"text-2xl font-bold text-blue-700",children:"B-kansa inspection"}),x.jsx("p",{className:"text-gray-600",children:""}),x.jsxs("div",{className:"space-y-4",children:[x.jsx("button",{onClick:t,className:"w-full bg-blue-500 hover:bg-blue-600 text-gray font-medium py-3 rounded-xl transition",children:" "}),x.jsx("button",{onClick:n,className:"w-full bg-green-500 hover:bg-green-600 text-gray font-medium py-3 rounded-xl transition",children:" "}),x.jsx("button",{onClick:s,className:"w-full bg-gray-200 hover:bg-gray-300 text-gray-700 font-medium py-2 rounded-xl transition",children:" "})]})]})})})}const uR=()=>{};var f0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=function(i){const t=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},cR=function(i){const t=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=i[n++];t[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=i[n++],d=i[n++],p=i[n++],_=((o&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[s++]=String.fromCharCode(55296+(_>>10)),t[s++]=String.fromCharCode(56320+(_&1023))}else{const c=i[n++],d=i[n++];t[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return t.join("")},VE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const c=i[o],d=o+1<i.length,p=d?i[o+1]:0,_=o+2<i.length,v=_?i[o+2]:0,A=c>>2,M=(c&3)<<4|p>>4;let O=(p&15)<<2|v>>6,L=v&63;_||(L=64,d||(O=64)),s.push(n[A],n[M],n[O],n[L])}return s.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(ME(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):cR(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const c=n[i.charAt(o++)],p=o<i.length?n[i.charAt(o)]:0;++o;const v=o<i.length?n[i.charAt(o)]:64;++o;const M=o<i.length?n[i.charAt(o)]:64;if(++o,c==null||p==null||v==null||M==null)throw new hR;const O=c<<2|p>>4;if(s.push(O),v!==64){const L=p<<4&240|v>>2;if(s.push(L),M!==64){const U=v<<6&192|M;s.push(U)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};let hR=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}};const fR=function(i){const t=ME(i);return VE.encodeByteArray(t,!0)},Ph=function(i){return fR(i).replace(/\./g,"")},dR=function(i){try{return VE.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR=()=>mR().__FIREBASE_DEFAULTS__,gR=()=>{if(typeof process>"u"||typeof f0>"u")return;const i=f0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},yR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&dR(i[1]);return t&&JSON.parse(t)},Bp=()=>{try{return uR()||pR()||gR()||yR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},_R=i=>Bp()?.emulatorHosts?.[i],PE=i=>{const t=_R(i);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},kE=()=>Bp()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vR=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sc(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function jE(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Ph(JSON.stringify(n)),Ph(JSON.stringify(d)),""].join(".")}const Pu={};function ER(){const i={prod:[],emulator:[]};for(const t of Object.keys(Pu))Pu[t]?i.emulator.push(t):i.prod.push(t);return i}function bR(i){let t=document.getElementById(i),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),n=!0),{created:n,element:t}}let d0=!1;function UE(i,t){if(typeof window>"u"||typeof document>"u"||!sc(window.location.host)||Pu[i]===t||Pu[i]||d0)return;Pu[i]=t;function n(O){return`__firebase__banner__${O}`}const s="__firebase__banner",c=ER().prod.length>0;function d(){const O=document.getElementById(s);O&&O.remove()}function p(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function _(O,L){O.setAttribute("width","24"),O.setAttribute("id",L),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function v(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{d0=!0,d()},O}function A(O,L){O.setAttribute("id",L),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function M(){const O=bR(s),L=n("text"),U=document.getElementById(L)||document.createElement("span"),G=n("learnmore"),$=document.getElementById(G)||document.createElement("a"),Q=n("preprendIcon"),at=document.getElementById(Q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const rt=O.element;p(rt),A($,G);const ut=v();_(at,Q),rt.append(at,U,$,ut),document.body.appendChild(rt)}c?(U.innerText="Preview backend disconnected.",at.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(at.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",M):M()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wR(){const i=Bp()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function SR(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function AR(){return!wR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function BE(){try{return typeof indexedDB=="object"}catch{return!1}}function $E(){return new Promise((i,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}function RR(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR="FirebaseError";let wo=class zE extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=xR,Object.setPrototypeOf(this,zE.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,of.prototype.create)}},of=class{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,c=this.errors[t],d=c?IR(c,s):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new wo(o,p,s)}};function IR(i,t){return i.replace(CR,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const CR=/\{\$([^}]+)}/g;function Yu(i,t){if(i===t)return!0;const n=Object.keys(i),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const c=i[o],d=t[o];if(m0(c)&&m0(d)){if(!Yu(c,d))return!1}else if(c!==d)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function m0(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR=1e3,NR=2,OR=14400*1e3,MR=.5;function p0(i,t=DR,n=NR){const s=t*Math.pow(n,i),o=Math.round(MR*s*(Math.random()-.5)*2);return Math.min(OR,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(i){return i&&i._delegate?i._delegate:i}let Sr=class{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let VR=class{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new vR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(kR(t))try{this.getOrInitializeService({instanceIdentifier:eo})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(t=eo){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=eo){return this.instances.has(t)}getOptions(t=eo){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);s===p&&d.resolve(o)}return o}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&t(c,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:PR(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=eo){return this.component?this.component.multipleInstances?t:eo:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function PR(i){return i===eo?void 0:i}function kR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jR=class{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new VR(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Yt||(Yt={}));const LR={debug:Yt.DEBUG,verbose:Yt.VERBOSE,info:Yt.INFO,warn:Yt.WARN,error:Yt.ERROR,silent:Yt.SILENT},UR=Yt.INFO,BR={[Yt.DEBUG]:"log",[Yt.VERBOSE]:"log",[Yt.INFO]:"info",[Yt.WARN]:"warn",[Yt.ERROR]:"error"},$R=(i,t,...n)=>{if(t<i.logLevel)return;const s=new Date().toISOString(),o=BR[t];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};let $p=class{constructor(t){this.name=t,this._logLevel=UR,this._logHandler=$R,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Yt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?LR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Yt.DEBUG,...t),this._logHandler(this,Yt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Yt.VERBOSE,...t),this._logHandler(this,Yt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Yt.INFO,...t),this._logHandler(this,Yt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Yt.WARN,...t),this._logHandler(this,Yt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Yt.ERROR,...t),this._logHandler(this,Yt.ERROR,...t)}};const zR=(i,t)=>t.some(n=>i instanceof n);let g0,y0;function FR(){return g0||(g0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qR(){return y0||(y0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const FE=new WeakMap,ep=new WeakMap,qE=new WeakMap,Cm=new WeakMap,zp=new WeakMap;function HR(i){const t=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",c),i.removeEventListener("error",d)},c=()=>{n(na(i.result)),o()},d=()=>{s(i.error),o()};i.addEventListener("success",c),i.addEventListener("error",d)});return t.then(n=>{n instanceof IDBCursor&&FE.set(n,i)}).catch(()=>{}),zp.set(t,i),t}function GR(i){if(ep.has(i))return;const t=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",d),i.removeEventListener("abort",d)},c=()=>{n(),o()},d=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",c),i.addEventListener("error",d),i.addEventListener("abort",d)});ep.set(i,t)}let np={get(i,t,n){if(i instanceof IDBTransaction){if(t==="done")return ep.get(i);if(t==="objectStoreNames")return i.objectStoreNames||qE.get(i);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return na(i[t])},set(i,t,n){return i[t]=n,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function KR(i){np=i(np)}function YR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=i.call(Dm(this),t,...n);return qE.set(s,t.sort?t.sort():[t]),na(s)}:qR().includes(i)?function(...t){return i.apply(Dm(this),t),na(FE.get(this))}:function(...t){return na(i.apply(Dm(this),t))}}function QR(i){return typeof i=="function"?YR(i):(i instanceof IDBTransaction&&GR(i),zR(i,FR())?new Proxy(i,np):i)}function na(i){if(i instanceof IDBRequest)return HR(i);if(Cm.has(i))return Cm.get(i);const t=QR(i);return t!==i&&(Cm.set(i,t),zp.set(t,i)),t}const Dm=i=>zp.get(i);function HE(i,t,{blocked:n,upgrade:s,blocking:o,terminated:c}={}){const d=indexedDB.open(i,t),p=na(d);return s&&d.addEventListener("upgradeneeded",_=>{s(na(d.result),_.oldVersion,_.newVersion,na(d.transaction),_)}),n&&d.addEventListener("blocked",_=>n(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),o&&_.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const XR=["get","getKey","getAll","getAllKeys","count"],ZR=["put","add","delete","clear"],Nm=new Map;function _0(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(Nm.get(t))return Nm.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=ZR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||XR.includes(n)))return;const c=async function(d,...p){const _=this.transaction(d,o?"readwrite":"readonly");let v=_.store;return s&&(v=v.index(p.shift())),(await Promise.all([v[n](...p),o&&_.done]))[0]};return Nm.set(t,c),c}KR(i=>({...i,get:(t,n,s)=>_0(t,n)||i.get(t,n,s),has:(t,n)=>!!_0(t,n)||i.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let JR=class{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(WR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}};function WR(i){return i.getComponent()?.type==="VERSION"}const ip="@firebase/app",v0="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us=new $p("@firebase/app"),tx="@firebase/app-compat",ex="@firebase/analytics-compat",nx="@firebase/analytics",ix="@firebase/app-check-compat",rx="@firebase/app-check",sx="@firebase/auth",ax="@firebase/auth-compat",ox="@firebase/database",lx="@firebase/data-connect",ux="@firebase/database-compat",cx="@firebase/functions",hx="@firebase/functions-compat",fx="@firebase/installations",dx="@firebase/installations-compat",mx="@firebase/messaging",px="@firebase/messaging-compat",gx="@firebase/performance",yx="@firebase/performance-compat",_x="@firebase/remote-config",vx="@firebase/remote-config-compat",Ex="@firebase/storage",bx="@firebase/storage-compat",Tx="@firebase/firestore",wx="@firebase/ai",Sx="@firebase/firestore-compat",Ax="firebase",Rx="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp="[DEFAULT]",xx={[ip]:"fire-core",[tx]:"fire-core-compat",[nx]:"fire-analytics",[ex]:"fire-analytics-compat",[rx]:"fire-app-check",[ix]:"fire-app-check-compat",[sx]:"fire-auth",[ax]:"fire-auth-compat",[ox]:"fire-rtdb",[lx]:"fire-data-connect",[ux]:"fire-rtdb-compat",[cx]:"fire-fn",[hx]:"fire-fn-compat",[fx]:"fire-iid",[dx]:"fire-iid-compat",[mx]:"fire-fcm",[px]:"fire-fcm-compat",[gx]:"fire-perf",[yx]:"fire-perf-compat",[_x]:"fire-rc",[vx]:"fire-rc-compat",[Ex]:"fire-gcs",[bx]:"fire-gcs-compat",[Tx]:"fire-fst",[Sx]:"fire-fst-compat",[wx]:"fire-vertex","fire-js":"fire-js",[Ax]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh=new Map,Ix=new Map,sp=new Map;function E0(i,t){try{i.container.addComponent(t)}catch(n){us.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,n)}}function cs(i){const t=i.name;if(sp.has(t))return us.debug(`There were multiple attempts to register component ${t}.`),!1;sp.set(t,i);for(const n of kh.values())E0(n,i);for(const n of Ix.values())E0(n,i);return!0}function Sl(i,t){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(t)}function GE(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ia=new of("app","Firebase",Cx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dx=class{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Sr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ia.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE=Rx;function YE(i,t={}){let n=i;typeof t!="object"&&(t={name:t});const s={name:rp,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw ia.create("bad-app-name",{appName:String(o)});if(n||(n=kE()),!n)throw ia.create("no-options");const c=kh.get(o);if(c){if(Yu(n,c.options)&&Yu(s,c.config))return c;throw ia.create("duplicate-app",{appName:o})}const d=new jR(o);for(const _ of sp.values())d.addComponent(_);const p=new Dx(n,s,d);return kh.set(o,p),p}function Fp(i=rp){const t=kh.get(i);if(!t&&i===rp&&kE())return YE();if(!t)throw ia.create("no-app",{appName:i});return t}function Pi(i,t,n){let s=xx[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),c=t.match(/\s|\//);if(o||c){const d=[`Unable to register library "${s}" with version "${t}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),us.warn(d.join(" "));return}cs(new Sr(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx="firebase-heartbeat-database",Ox=1,Qu="firebase-heartbeat-store";let Om=null;function QE(){return Om||(Om=HE(Nx,Ox,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(Qu)}catch(n){console.warn(n)}}}}).catch(i=>{throw ia.create("idb-open",{originalErrorMessage:i.message})})),Om}async function Mx(i){try{const n=(await QE()).transaction(Qu),s=await n.objectStore(Qu).get(XE(i));return await n.done,s}catch(t){if(t instanceof wo)us.warn(t.message);else{const n=ia.create("idb-get",{originalErrorMessage:t?.message});us.warn(n.message)}}}async function b0(i,t){try{const s=(await QE()).transaction(Qu,"readwrite");await s.objectStore(Qu).put(t,XE(i)),await s.done}catch(n){if(n instanceof wo)us.warn(n.message);else{const s=ia.create("idb-set",{originalErrorMessage:n?.message});us.warn(s.message)}}}function XE(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx=1024,Px=30;let kx=class{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Lx(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=T0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>Px){const o=Ux(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){us.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=T0(),{heartbeatsToSend:n,unsentEntries:s}=jx(this._heartbeatsCache.heartbeats),o=Ph(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return us.warn(t),""}}};function T0(){return new Date().toISOString().substring(0,10)}function jx(i,t=Vx){const n=[];let s=i.slice();for(const o of i){const c=n.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),w0(n)>t){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),w0(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}let Lx=class{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return BE()?$E().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Mx(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return b0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return b0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}};function w0(i){return Ph(JSON.stringify({version:2,heartbeats:i})).length}function Ux(i){if(i.length===0)return-1;let t=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bx(i){cs(new Sr("platform-logger",t=>new JR(t),"PRIVATE")),cs(new Sr("heartbeat",t=>new kx(t),"PRIVATE")),Pi(ip,v0,i),Pi(ip,v0,"esm2020"),Pi("fire-js","")}Bx("");var S0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ra,ZE;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(C,E){function w(){}w.prototype=E.prototype,C.D=E.prototype,C.prototype=new w,C.prototype.constructor=C,C.C=function(R,I,N){for(var S=Array(arguments.length-2),te=2;te<arguments.length;te++)S[te-2]=arguments[te];return E.prototype[I].apply(R,S)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,E,w){w||(w=0);var R=Array(16);if(typeof E=="string")for(var I=0;16>I;++I)R[I]=E.charCodeAt(w++)|E.charCodeAt(w++)<<8|E.charCodeAt(w++)<<16|E.charCodeAt(w++)<<24;else for(I=0;16>I;++I)R[I]=E[w++]|E[w++]<<8|E[w++]<<16|E[w++]<<24;E=C.g[0],w=C.g[1],I=C.g[2];var N=C.g[3],S=E+(N^w&(I^N))+R[0]+3614090360&4294967295;E=w+(S<<7&4294967295|S>>>25),S=N+(I^E&(w^I))+R[1]+3905402710&4294967295,N=E+(S<<12&4294967295|S>>>20),S=I+(w^N&(E^w))+R[2]+606105819&4294967295,I=N+(S<<17&4294967295|S>>>15),S=w+(E^I&(N^E))+R[3]+3250441966&4294967295,w=I+(S<<22&4294967295|S>>>10),S=E+(N^w&(I^N))+R[4]+4118548399&4294967295,E=w+(S<<7&4294967295|S>>>25),S=N+(I^E&(w^I))+R[5]+1200080426&4294967295,N=E+(S<<12&4294967295|S>>>20),S=I+(w^N&(E^w))+R[6]+2821735955&4294967295,I=N+(S<<17&4294967295|S>>>15),S=w+(E^I&(N^E))+R[7]+4249261313&4294967295,w=I+(S<<22&4294967295|S>>>10),S=E+(N^w&(I^N))+R[8]+1770035416&4294967295,E=w+(S<<7&4294967295|S>>>25),S=N+(I^E&(w^I))+R[9]+2336552879&4294967295,N=E+(S<<12&4294967295|S>>>20),S=I+(w^N&(E^w))+R[10]+4294925233&4294967295,I=N+(S<<17&4294967295|S>>>15),S=w+(E^I&(N^E))+R[11]+2304563134&4294967295,w=I+(S<<22&4294967295|S>>>10),S=E+(N^w&(I^N))+R[12]+1804603682&4294967295,E=w+(S<<7&4294967295|S>>>25),S=N+(I^E&(w^I))+R[13]+4254626195&4294967295,N=E+(S<<12&4294967295|S>>>20),S=I+(w^N&(E^w))+R[14]+2792965006&4294967295,I=N+(S<<17&4294967295|S>>>15),S=w+(E^I&(N^E))+R[15]+1236535329&4294967295,w=I+(S<<22&4294967295|S>>>10),S=E+(I^N&(w^I))+R[1]+4129170786&4294967295,E=w+(S<<5&4294967295|S>>>27),S=N+(w^I&(E^w))+R[6]+3225465664&4294967295,N=E+(S<<9&4294967295|S>>>23),S=I+(E^w&(N^E))+R[11]+643717713&4294967295,I=N+(S<<14&4294967295|S>>>18),S=w+(N^E&(I^N))+R[0]+3921069994&4294967295,w=I+(S<<20&4294967295|S>>>12),S=E+(I^N&(w^I))+R[5]+3593408605&4294967295,E=w+(S<<5&4294967295|S>>>27),S=N+(w^I&(E^w))+R[10]+38016083&4294967295,N=E+(S<<9&4294967295|S>>>23),S=I+(E^w&(N^E))+R[15]+3634488961&4294967295,I=N+(S<<14&4294967295|S>>>18),S=w+(N^E&(I^N))+R[4]+3889429448&4294967295,w=I+(S<<20&4294967295|S>>>12),S=E+(I^N&(w^I))+R[9]+568446438&4294967295,E=w+(S<<5&4294967295|S>>>27),S=N+(w^I&(E^w))+R[14]+3275163606&4294967295,N=E+(S<<9&4294967295|S>>>23),S=I+(E^w&(N^E))+R[3]+4107603335&4294967295,I=N+(S<<14&4294967295|S>>>18),S=w+(N^E&(I^N))+R[8]+1163531501&4294967295,w=I+(S<<20&4294967295|S>>>12),S=E+(I^N&(w^I))+R[13]+2850285829&4294967295,E=w+(S<<5&4294967295|S>>>27),S=N+(w^I&(E^w))+R[2]+4243563512&4294967295,N=E+(S<<9&4294967295|S>>>23),S=I+(E^w&(N^E))+R[7]+1735328473&4294967295,I=N+(S<<14&4294967295|S>>>18),S=w+(N^E&(I^N))+R[12]+2368359562&4294967295,w=I+(S<<20&4294967295|S>>>12),S=E+(w^I^N)+R[5]+4294588738&4294967295,E=w+(S<<4&4294967295|S>>>28),S=N+(E^w^I)+R[8]+2272392833&4294967295,N=E+(S<<11&4294967295|S>>>21),S=I+(N^E^w)+R[11]+1839030562&4294967295,I=N+(S<<16&4294967295|S>>>16),S=w+(I^N^E)+R[14]+4259657740&4294967295,w=I+(S<<23&4294967295|S>>>9),S=E+(w^I^N)+R[1]+2763975236&4294967295,E=w+(S<<4&4294967295|S>>>28),S=N+(E^w^I)+R[4]+1272893353&4294967295,N=E+(S<<11&4294967295|S>>>21),S=I+(N^E^w)+R[7]+4139469664&4294967295,I=N+(S<<16&4294967295|S>>>16),S=w+(I^N^E)+R[10]+3200236656&4294967295,w=I+(S<<23&4294967295|S>>>9),S=E+(w^I^N)+R[13]+681279174&4294967295,E=w+(S<<4&4294967295|S>>>28),S=N+(E^w^I)+R[0]+3936430074&4294967295,N=E+(S<<11&4294967295|S>>>21),S=I+(N^E^w)+R[3]+3572445317&4294967295,I=N+(S<<16&4294967295|S>>>16),S=w+(I^N^E)+R[6]+76029189&4294967295,w=I+(S<<23&4294967295|S>>>9),S=E+(w^I^N)+R[9]+3654602809&4294967295,E=w+(S<<4&4294967295|S>>>28),S=N+(E^w^I)+R[12]+3873151461&4294967295,N=E+(S<<11&4294967295|S>>>21),S=I+(N^E^w)+R[15]+530742520&4294967295,I=N+(S<<16&4294967295|S>>>16),S=w+(I^N^E)+R[2]+3299628645&4294967295,w=I+(S<<23&4294967295|S>>>9),S=E+(I^(w|~N))+R[0]+4096336452&4294967295,E=w+(S<<6&4294967295|S>>>26),S=N+(w^(E|~I))+R[7]+1126891415&4294967295,N=E+(S<<10&4294967295|S>>>22),S=I+(E^(N|~w))+R[14]+2878612391&4294967295,I=N+(S<<15&4294967295|S>>>17),S=w+(N^(I|~E))+R[5]+4237533241&4294967295,w=I+(S<<21&4294967295|S>>>11),S=E+(I^(w|~N))+R[12]+1700485571&4294967295,E=w+(S<<6&4294967295|S>>>26),S=N+(w^(E|~I))+R[3]+2399980690&4294967295,N=E+(S<<10&4294967295|S>>>22),S=I+(E^(N|~w))+R[10]+4293915773&4294967295,I=N+(S<<15&4294967295|S>>>17),S=w+(N^(I|~E))+R[1]+2240044497&4294967295,w=I+(S<<21&4294967295|S>>>11),S=E+(I^(w|~N))+R[8]+1873313359&4294967295,E=w+(S<<6&4294967295|S>>>26),S=N+(w^(E|~I))+R[15]+4264355552&4294967295,N=E+(S<<10&4294967295|S>>>22),S=I+(E^(N|~w))+R[6]+2734768916&4294967295,I=N+(S<<15&4294967295|S>>>17),S=w+(N^(I|~E))+R[13]+1309151649&4294967295,w=I+(S<<21&4294967295|S>>>11),S=E+(I^(w|~N))+R[4]+4149444226&4294967295,E=w+(S<<6&4294967295|S>>>26),S=N+(w^(E|~I))+R[11]+3174756917&4294967295,N=E+(S<<10&4294967295|S>>>22),S=I+(E^(N|~w))+R[2]+718787259&4294967295,I=N+(S<<15&4294967295|S>>>17),S=w+(N^(I|~E))+R[9]+3951481745&4294967295,C.g[0]=C.g[0]+E&4294967295,C.g[1]=C.g[1]+(I+(S<<21&4294967295|S>>>11))&4294967295,C.g[2]=C.g[2]+I&4294967295,C.g[3]=C.g[3]+N&4294967295}s.prototype.u=function(C,E){E===void 0&&(E=C.length);for(var w=E-this.blockSize,R=this.B,I=this.h,N=0;N<E;){if(I==0)for(;N<=w;)o(this,C,N),N+=this.blockSize;if(typeof C=="string"){for(;N<E;)if(R[I++]=C.charCodeAt(N++),I==this.blockSize){o(this,R),I=0;break}}else for(;N<E;)if(R[I++]=C[N++],I==this.blockSize){o(this,R),I=0;break}}this.h=I,this.o+=E},s.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var E=1;E<C.length-8;++E)C[E]=0;var w=8*this.o;for(E=C.length-8;E<C.length;++E)C[E]=w&255,w/=256;for(this.u(C),C=Array(16),E=w=0;4>E;++E)for(var R=0;32>R;R+=8)C[w++]=this.g[E]>>>R&255;return C};function c(C,E){var w=p;return Object.prototype.hasOwnProperty.call(w,C)?w[C]:w[C]=E(C)}function d(C,E){this.h=E;for(var w=[],R=!0,I=C.length-1;0<=I;I--){var N=C[I]|0;R&&N==E||(w[I]=N,R=!1)}this.g=w}var p={};function _(C){return-128<=C&&128>C?c(C,function(E){return new d([E|0],0>E?-1:0)}):new d([C|0],0>C?-1:0)}function v(C){if(isNaN(C)||!isFinite(C))return M;if(0>C)return $(v(-C));for(var E=[],w=1,R=0;C>=w;R++)E[R]=C/w|0,w*=4294967296;return new d(E,0)}function A(C,E){if(C.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(C.charAt(0)=="-")return $(A(C.substring(1),E));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=v(Math.pow(E,8)),R=M,I=0;I<C.length;I+=8){var N=Math.min(8,C.length-I),S=parseInt(C.substring(I,I+N),E);8>N?(N=v(Math.pow(E,N)),R=R.j(N).add(v(S))):(R=R.j(w),R=R.add(v(S)))}return R}var M=_(0),O=_(1),L=_(16777216);i=d.prototype,i.m=function(){if(G(this))return-$(this).m();for(var C=0,E=1,w=0;w<this.g.length;w++){var R=this.i(w);C+=(0<=R?R:4294967296+R)*E,E*=4294967296}return C},i.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(U(this))return"0";if(G(this))return"-"+$(this).toString(C);for(var E=v(Math.pow(C,6)),w=this,R="";;){var I=ut(w,E).g;w=Q(w,I.j(E));var N=((0<w.g.length?w.g[0]:w.h)>>>0).toString(C);if(w=I,U(w))return N+R;for(;6>N.length;)N="0"+N;R=N+R}},i.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function U(C){if(C.h!=0)return!1;for(var E=0;E<C.g.length;E++)if(C.g[E]!=0)return!1;return!0}function G(C){return C.h==-1}i.l=function(C){return C=Q(this,C),G(C)?-1:U(C)?0:1};function $(C){for(var E=C.g.length,w=[],R=0;R<E;R++)w[R]=~C.g[R];return new d(w,~C.h).add(O)}i.abs=function(){return G(this)?$(this):this},i.add=function(C){for(var E=Math.max(this.g.length,C.g.length),w=[],R=0,I=0;I<=E;I++){var N=R+(this.i(I)&65535)+(C.i(I)&65535),S=(N>>>16)+(this.i(I)>>>16)+(C.i(I)>>>16);R=S>>>16,N&=65535,S&=65535,w[I]=S<<16|N}return new d(w,w[w.length-1]&-2147483648?-1:0)};function Q(C,E){return C.add($(E))}i.j=function(C){if(U(this)||U(C))return M;if(G(this))return G(C)?$(this).j($(C)):$($(this).j(C));if(G(C))return $(this.j($(C)));if(0>this.l(L)&&0>C.l(L))return v(this.m()*C.m());for(var E=this.g.length+C.g.length,w=[],R=0;R<2*E;R++)w[R]=0;for(R=0;R<this.g.length;R++)for(var I=0;I<C.g.length;I++){var N=this.i(R)>>>16,S=this.i(R)&65535,te=C.i(I)>>>16,ee=C.i(I)&65535;w[2*R+2*I]+=S*ee,at(w,2*R+2*I),w[2*R+2*I+1]+=N*ee,at(w,2*R+2*I+1),w[2*R+2*I+1]+=S*te,at(w,2*R+2*I+1),w[2*R+2*I+2]+=N*te,at(w,2*R+2*I+2)}for(R=0;R<E;R++)w[R]=w[2*R+1]<<16|w[2*R];for(R=E;R<2*E;R++)w[R]=0;return new d(w,0)};function at(C,E){for(;(C[E]&65535)!=C[E];)C[E+1]+=C[E]>>>16,C[E]&=65535,E++}function rt(C,E){this.g=C,this.h=E}function ut(C,E){if(U(E))throw Error("division by zero");if(U(C))return new rt(M,M);if(G(C))return E=ut($(C),E),new rt($(E.g),$(E.h));if(G(E))return E=ut(C,$(E)),new rt($(E.g),E.h);if(30<C.g.length){if(G(C)||G(E))throw Error("slowDivide_ only works with positive integers.");for(var w=O,R=E;0>=R.l(C);)w=ht(w),R=ht(R);var I=vt(w,1),N=vt(R,1);for(R=vt(R,2),w=vt(w,2);!U(R);){var S=N.add(R);0>=S.l(C)&&(I=I.add(w),N=S),R=vt(R,1),w=vt(w,1)}return E=Q(C,I.j(E)),new rt(I,E)}for(I=M;0<=C.l(E);){for(w=Math.max(1,Math.floor(C.m()/E.m())),R=Math.ceil(Math.log(w)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),N=v(w),S=N.j(E);G(S)||0<S.l(C);)w-=R,N=v(w),S=N.j(E);U(N)&&(N=O),I=I.add(N),C=Q(C,S)}return new rt(I,C)}i.A=function(C){return ut(this,C).h},i.and=function(C){for(var E=Math.max(this.g.length,C.g.length),w=[],R=0;R<E;R++)w[R]=this.i(R)&C.i(R);return new d(w,this.h&C.h)},i.or=function(C){for(var E=Math.max(this.g.length,C.g.length),w=[],R=0;R<E;R++)w[R]=this.i(R)|C.i(R);return new d(w,this.h|C.h)},i.xor=function(C){for(var E=Math.max(this.g.length,C.g.length),w=[],R=0;R<E;R++)w[R]=this.i(R)^C.i(R);return new d(w,this.h^C.h)};function ht(C){for(var E=C.g.length+1,w=[],R=0;R<E;R++)w[R]=C.i(R)<<1|C.i(R-1)>>>31;return new d(w,C.h)}function vt(C,E){var w=E>>5;E%=32;for(var R=C.g.length-w,I=[],N=0;N<R;N++)I[N]=0<E?C.i(N+w)>>>E|C.i(N+w+1)<<32-E:C.i(N+w);return new d(I,C.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,ZE=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,ra=d}).apply(typeof S0<"u"?S0:typeof self<"u"?self:typeof window<"u"?window:{});var dh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var JE,Cu,WE,Sh,ap,tb,eb,nb;(function(){var i,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,f,y){return l==Array.prototype||l==Object.prototype||(l[f]=y.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof dh=="object"&&dh];for(var f=0;f<l.length;++f){var y=l[f];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function o(l,f){if(f)t:{var y=s;l=l.split(".");for(var b=0;b<l.length-1;b++){var V=l[b];if(!(V in y))break t;y=y[V]}l=l[l.length-1],b=y[l],f=f(b),f!=b&&f!=null&&t(y,l,{configurable:!0,writable:!0,value:f})}}function c(l,f){l instanceof String&&(l+="");var y=0,b=!1,V={next:function(){if(!b&&y<l.length){var k=y++;return{value:f(k,l[k]),done:!1}}return b=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}o("Array.prototype.values",function(l){return l||function(){return c(this,function(f,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},p=this||self;function _(l){var f=typeof l;return f=f!="object"?f:l?Array.isArray(l)?"array":f:"null",f=="array"||f=="object"&&typeof l.length=="number"}function v(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function A(l,f,y){return l.call.apply(l.bind,arguments)}function M(l,f,y){if(!l)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,b),l.apply(f,V)}}return function(){return l.apply(f,arguments)}}function O(l,f,y){return O=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:M,O.apply(null,arguments)}function L(l,f){var y=Array.prototype.slice.call(arguments,1);return function(){var b=y.slice();return b.push.apply(b,arguments),l.apply(this,b)}}function U(l,f){function y(){}y.prototype=f.prototype,l.aa=f.prototype,l.prototype=new y,l.prototype.constructor=l,l.Qb=function(b,V,k){for(var W=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)W[bt-2]=arguments[bt];return f.prototype[V].apply(b,W)}}function G(l){const f=l.length;if(0<f){const y=Array(f);for(let b=0;b<f;b++)y[b]=l[b];return y}return[]}function $(l,f){for(let y=1;y<arguments.length;y++){const b=arguments[y];if(_(b)){const V=l.length||0,k=b.length||0;l.length=V+k;for(let W=0;W<k;W++)l[V+W]=b[W]}else l.push(b)}}class Q{constructor(f,y){this.i=f,this.j=y,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function at(l){return/^[\s\xa0]*$/.test(l)}function rt(){var l=p.navigator;return l&&(l=l.userAgent)?l:""}function ut(l){return ut[" "](l),l}ut[" "]=function(){};var ht=rt().indexOf("Gecko")!=-1&&!(rt().toLowerCase().indexOf("webkit")!=-1&&rt().indexOf("Edge")==-1)&&!(rt().indexOf("Trident")!=-1||rt().indexOf("MSIE")!=-1)&&rt().indexOf("Edge")==-1;function vt(l,f,y){for(const b in l)f.call(y,l[b],b,l)}function C(l,f){for(const y in l)f.call(void 0,l[y],y,l)}function E(l){const f={};for(const y in l)f[y]=l[y];return f}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(l,f){let y,b;for(let V=1;V<arguments.length;V++){b=arguments[V];for(y in b)l[y]=b[y];for(let k=0;k<w.length;k++)y=w[k],Object.prototype.hasOwnProperty.call(b,y)&&(l[y]=b[y])}}function I(l){var f=1;l=l.split(":");const y=[];for(;0<f&&l.length;)y.push(l.shift()),f--;return l.length&&y.push(l.join(":")),y}function N(l){p.setTimeout(()=>{throw l},0)}function S(){var l=Ut;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class te{constructor(){this.h=this.g=null}add(f,y){const b=ee.get();b.set(f,y),this.h?this.h.next=b:this.g=b,this.h=b}}var ee=new Q(()=>new X,l=>l.reset());class X{constructor(){this.next=this.g=this.h=null}set(f,y){this.h=f,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let lt,dt=!1,Ut=new te,j=()=>{const l=p.Promise.resolve(void 0);lt=()=>{l.then(nt)}};var nt=()=>{for(var l;l=S();){try{l.h.call(l.g)}catch(y){N(y)}var f=ee;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}dt=!1};function ot(){this.s=this.s,this.C=this.C}ot.prototype.s=!1,ot.prototype.ma=function(){this.s||(this.s=!0,this.N())},ot.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function it(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}it.prototype.h=function(){this.defaultPrevented=!0};var gt=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const y=()=>{};p.addEventListener("test",y,f),p.removeEventListener("test",y,f)}catch{}return l}();function Dt(l,f){if(it.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var y=this.type=l.type,b=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(ht){t:{try{ut(f.nodeName);var V=!0;break t}catch{}V=!1}V||(f=null)}}else y=="mouseover"?f=l.fromElement:y=="mouseout"&&(f=l.toElement);this.relatedTarget=f,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:At[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Dt.aa.h.call(this)}}U(Dt,it);var At={2:"touch",3:"pen",4:"mouse"};Dt.prototype.h=function(){Dt.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var ft="closure_listenable_"+(1e6*Math.random()|0),Xt=0;function Sn(l,f,y,b,V){this.listener=l,this.proxy=null,this.src=f,this.type=y,this.capture=!!b,this.ha=V,this.key=++Xt,this.da=this.fa=!1}function mn(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function pn(l){this.src=l,this.g={},this.h=0}pn.prototype.add=function(l,f,y,b,V){var k=l.toString();l=this.g[k],l||(l=this.g[k]=[],this.h++);var W=Ui(l,f,b,V);return-1<W?(f=l[W],y||(f.fa=!1)):(f=new Sn(f,this.src,k,!!b,V),f.fa=y,l.push(f)),f};function Li(l,f){var y=f.type;if(y in l.g){var b=l.g[y],V=Array.prototype.indexOf.call(b,f,void 0),k;(k=0<=V)&&Array.prototype.splice.call(b,V,1),k&&(mn(f),l.g[y].length==0&&(delete l.g[y],l.h--))}}function Ui(l,f,y,b){for(var V=0;V<l.length;++V){var k=l[V];if(!k.da&&k.listener==f&&k.capture==!!y&&k.ha==b)return V}return-1}var Bi="closure_lm_"+(1e6*Math.random()|0),Cr={};function va(l,f,y,b,V){if(Array.isArray(f)){for(var k=0;k<f.length;k++)va(l,f[k],y,b,V);return null}return y=Ea(y),l&&l[ft]?l.K(f,y,v(b)?!!b.capture:!1,V):Vn(l,f,y,!1,b,V)}function Vn(l,f,y,b,V,k){if(!f)throw Error("Invalid event type");var W=v(V)?!!V.capture:!!V,bt=nr(l);if(bt||(l[Bi]=bt=new pn(l)),y=bt.add(f,y,b,W,k),y.proxy)return y;if(b=Cl(),y.proxy=b,b.src=l,b.listener=y,l.addEventListener)gt||(V=W),V===void 0&&(V=!1),l.addEventListener(f.toString(),b,V);else if(l.attachEvent)l.attachEvent(er(f.toString()),b);else if(l.addListener&&l.removeListener)l.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Cl(){function l(y){return f.call(l.src,l.listener,y)}const f=Dl;return l}function gs(l,f,y,b,V){if(Array.isArray(f))for(var k=0;k<f.length;k++)gs(l,f[k],y,b,V);else b=v(b)?!!b.capture:!!b,y=Ea(y),l&&l[ft]?(l=l.i,f=String(f).toString(),f in l.g&&(k=l.g[f],y=Ui(k,y,b,V),-1<y&&(mn(k[y]),Array.prototype.splice.call(k,y,1),k.length==0&&(delete l.g[f],l.h--)))):l&&(l=nr(l))&&(f=l.g[f.toString()],l=-1,f&&(l=Ui(f,y,b,V)),(y=-1<l?f[l]:null)&&tr(y))}function tr(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[ft])Li(f.i,l);else{var y=l.type,b=l.proxy;f.removeEventListener?f.removeEventListener(y,b,l.capture):f.detachEvent?f.detachEvent(er(y),b):f.addListener&&f.removeListener&&f.removeListener(b),(y=nr(f))?(Li(y,l),y.h==0&&(y.src=null,f[Bi]=null)):mn(l)}}}function er(l){return l in Cr?Cr[l]:Cr[l]="on"+l}function Dl(l,f){if(l.da)l=!0;else{f=new Dt(f,this);var y=l.listener,b=l.ha||l.src;l.fa&&tr(l),l=y.call(b,f)}return l}function nr(l){return l=l[Bi],l instanceof pn?l:null}var Dr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ea(l){return typeof l=="function"?l:(l[Dr]||(l[Dr]=function(f){return l.handleEvent(f)}),l[Dr])}function kt(){ot.call(this),this.i=new pn(this),this.M=this,this.F=null}U(kt,ot),kt.prototype[ft]=!0,kt.prototype.removeEventListener=function(l,f,y,b){gs(this,l,f,y,b)};function Nt(l,f){var y,b=l.F;if(b)for(y=[];b;b=b.F)y.push(b);if(l=l.M,b=f.type||f,typeof f=="string")f=new it(f,l);else if(f instanceof it)f.target=f.target||l;else{var V=f;f=new it(b,l),R(f,V)}if(V=!0,y)for(var k=y.length-1;0<=k;k--){var W=f.g=y[k];V=Ye(W,b,!0,f)&&V}if(W=f.g=l,V=Ye(W,b,!0,f)&&V,V=Ye(W,b,!1,f)&&V,y)for(k=0;k<y.length;k++)W=f.g=y[k],V=Ye(W,b,!1,f)&&V}kt.prototype.N=function(){if(kt.aa.N.call(this),this.i){var l=this.i,f;for(f in l.g){for(var y=l.g[f],b=0;b<y.length;b++)mn(y[b]);delete l.g[f],l.h--}}this.F=null},kt.prototype.K=function(l,f,y,b){return this.i.add(String(l),f,!1,y,b)},kt.prototype.L=function(l,f,y,b){return this.i.add(String(l),f,!0,y,b)};function Ye(l,f,y,b){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();for(var V=!0,k=0;k<f.length;++k){var W=f[k];if(W&&!W.da&&W.capture==y){var bt=W.listener,Tt=W.ha||W.src;W.fa&&Li(l.i,W),V=bt.call(Tt,b)!==!1&&V}}return V&&!b.defaultPrevented}function $e(l,f,y){if(typeof l=="function")y&&(l=O(l,y));else if(l&&typeof l.handleEvent=="function")l=O(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:p.setTimeout(l,f||0)}function ba(l){l.g=$e(()=>{l.g=null,l.i&&(l.i=!1,ba(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}class Nl extends ot{constructor(f,y){super(),this.m=f,this.l=y,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:ba(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yn(l){ot.call(this),this.h=l,this.g={}}U(Yn,ot);var ir=[];function rr(l){vt(l.g,function(f,y){this.g.hasOwnProperty(y)&&tr(f)},l),l.g={}}Yn.prototype.N=function(){Yn.aa.N.call(this),rr(this)},Yn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var An=p.JSON.stringify,ys=p.JSON.parse,Nr=class{stringify(l){return p.JSON.stringify(l,void 0)}parse(l){return p.JSON.parse(l,void 0)}};function Or(){}Or.prototype.h=null;function _s(l){return l.h||(l.h=l.i())}function Ta(){}var Rn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Qn(){it.call(this,"d")}U(Qn,it);function Mr(){it.call(this,"c")}U(Mr,it);var sn={},vs=null;function gi(){return vs=vs||new kt}sn.La="serverreachability";function Vr(l){it.call(this,sn.La,l)}U(Vr,it);function Pn(l){const f=gi();Nt(f,new Vr(f))}sn.STAT_EVENT="statevent";function wa(l,f){it.call(this,sn.STAT_EVENT,l),this.stat=f}U(wa,it);function Pt(l){const f=gi();Nt(f,new wa(f,l))}sn.Ma="timingevent";function Te(l,f){it.call(this,sn.Ma,l),this.size=f}U(Te,it);function he(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){l()},f)}function Qe(){this.g=!0}Qe.prototype.xa=function(){this.g=!1};function Sa(l,f,y,b,V,k){l.info(function(){if(l.g)if(k)for(var W="",bt=k.split("&"),Tt=0;Tt<bt.length;Tt++){var wt=bt[Tt].split("=");if(1<wt.length){var qt=wt[0];wt=wt[1];var fe=qt.split("_");W=2<=fe.length&&fe[1]=="type"?W+(qt+"="+wt+"&"):W+(qt+"=redacted&")}}else W=null;else W=k;return"XMLHTTP REQ ("+b+") [attempt "+V+"]: "+f+`
`+y+`
`+W})}function Ol(l,f,y,b,V,k,W){l.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+V+"]: "+f+`
`+y+`
`+k+" "+W})}function xn(l,f,y,b){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+Pr(l,y)+(b?" "+b:"")})}function Ro(l,f){l.info(function(){return"TIMEOUT: "+f})}Qe.prototype.info=function(){};function Pr(l,f){if(!l.g)return f;if(!f)return null;try{var y=JSON.parse(f);if(y){for(l=0;l<y.length;l++)if(Array.isArray(y[l])){var b=y[l];if(!(2>b.length)){var V=b[1];if(Array.isArray(V)&&!(1>V.length)){var k=V[0];if(k!="noop"&&k!="stop"&&k!="close")for(var W=1;W<V.length;W++)V[W]=""}}}}return An(y)}catch{return f}}var yi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},$i={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},kn;function In(){}U(In,Or),In.prototype.g=function(){return new XMLHttpRequest},In.prototype.i=function(){return{}},kn=new In;function pe(l,f,y,b){this.j=l,this.i=f,this.l=y,this.R=b||1,this.U=new Yn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ge}function ge(){this.i=null,this.g="",this.h=!1}var Es={},sr={};function Cn(l,f,y){l.L=1,l.v=Si(_e(f)),l.m=y,l.P=!0,_i(l,null)}function _i(l,f){l.F=Date.now(),vi(l),l.A=_e(l.v);var y=l.A,b=l.R;Array.isArray(b)||(b=[String(b)]),Rs(y.i,"t",b),l.C=0,y=l.j.J,l.h=new ge,l.g=ja(l.j,y?f:null,!l.m),0<l.O&&(l.M=new Nl(O(l.Y,l,l.g),l.O)),f=l.U,y=l.g,b=l.ca;var V="readystatechange";Array.isArray(V)||(V&&(ir[0]=V.toString()),V=ir);for(var k=0;k<V.length;k++){var W=va(y,V[k],b||f.handleEvent,!1,f.h||f);if(!W)break;f.g[W.key]=W}f=l.H?E(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),Pn(),Sa(l.i,l.u,l.A,l.l,l.R,l.m)}pe.prototype.ca=function(l){l=l.target;const f=this.M;f&&Se(l)==3?f.j():this.Y(l)},pe.prototype.Y=function(l){try{if(l==this.g)t:{const fe=Se(this.g);var f=this.g.Ba();const Oe=this.g.Z();if(!(3>fe)&&(fe!=3||this.g&&(this.h.h||this.g.oa()||Ca(this.g)))){this.J||fe!=4||f==7||(f==8||0>=Oe?Pn(3):Pn(2)),Ei(this);var y=this.g.Z();this.X=y;e:if(Aa(this)){var b=Ca(this.g);l="";var V=b.length,k=Se(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){me(this),gn(this);var W="";break e}this.h.i=new p.TextDecoder}for(f=0;f<V;f++)this.h.h=!0,l+=this.h.i.decode(b[f],{stream:!(k&&f==V-1)});b.length=0,this.h.g+=l,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=y==200,Ol(this.i,this.u,this.A,this.l,this.R,fe,y),this.o){if(this.T&&!this.K){e:{if(this.g){var bt,Tt=this.g;if((bt=Tt.g?Tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!at(bt)){var wt=bt;break e}}wt=null}if(y=wt)xn(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zi(this,y);else{this.o=!1,this.s=3,Pt(12),me(this),gn(this);break t}}if(this.P){y=!0;let Ae;for(;!this.J&&this.C<W.length;)if(Ae=xo(this,W),Ae==sr){fe==4&&(this.s=4,Pt(14),y=!1),xn(this.i,this.l,null,"[Incomplete Response]");break}else if(Ae==Es){this.s=4,Pt(15),xn(this.i,this.l,W,"[Invalid Chunk]"),y=!1;break}else xn(this.i,this.l,Ae,null),zi(this,Ae);if(Aa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),fe!=4||W.length!=0||this.h.h||(this.s=1,Pt(16),y=!1),this.o=this.o&&y,!y)xn(this.i,this.l,W,"[Invalid Chunked Response]"),me(this),gn(this);else if(0<W.length&&!this.W){this.W=!0;var qt=this.j;qt.g==this&&qt.ba&&!qt.M&&(qt.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),Hi(qt),qt.M=!0,Pt(11))}}else xn(this.i,this.l,W,null),zi(this,W);fe==4&&me(this),this.o&&!this.J&&(fe==4?Va(this.j,this):(this.o=!1,vi(this)))}else jl(this.g),y==400&&0<W.indexOf("Unknown SID")?(this.s=3,Pt(12)):(this.s=0,Pt(13)),me(this),gn(this)}}}catch{}finally{}};function Aa(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function xo(l,f){var y=l.C,b=f.indexOf(`
`,y);return b==-1?sr:(y=Number(f.substring(y,b)),isNaN(y)?Es:(b+=1,b+y>f.length?sr:(f=f.slice(b,b+y),l.C=b+y,f)))}pe.prototype.cancel=function(){this.J=!0,me(this)};function vi(l){l.S=Date.now()+l.I,Ra(l,l.I)}function Ra(l,f){if(l.B!=null)throw Error("WatchDog timer not null");l.B=he(O(l.ba,l),f)}function Ei(l){l.B&&(p.clearTimeout(l.B),l.B=null)}pe.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(Ro(this.i,this.A),this.L!=2&&(Pn(),Pt(17)),me(this),this.s=2,gn(this)):Ra(this,this.S-l)};function gn(l){l.j.G==0||l.J||Va(l.j,l)}function me(l){Ei(l);var f=l.M;f&&typeof f.ma=="function"&&f.ma(),l.M=null,rr(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function zi(l,f){try{var y=l.j;if(y.G!=0&&(y.g==l||Lr(y.h,l))){if(!l.K&&Lr(y.h,l)&&y.G==3){try{var b=y.Da.g.parse(f)}catch{b=null}if(Array.isArray(b)&&b.length==3){var V=b;if(V[0]==0){t:if(!y.u){if(y.g)if(y.g.F+3e3<l.F)Gi(y),Fi(y);else break t;Gr(y),Pt(18)}}else y.za=V[1],0<y.za-y.T&&37500>V[2]&&y.F&&y.v==0&&!y.C&&(y.C=he(O(y.Za,y),6e3));if(1>=jr(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else on(y,11)}else if((l.K||y.g==l)&&Gi(y),!at(f))for(V=y.Da.g.parse(f),f=0;f<V.length;f++){let wt=V[f];if(y.T=wt[0],wt=wt[1],y.G==2)if(wt[0]=="c"){y.K=wt[1],y.ia=wt[2];const qt=wt[3];qt!=null&&(y.la=qt,y.j.info("VER="+y.la));const fe=wt[4];fe!=null&&(y.Aa=fe,y.j.info("SVER="+y.Aa));const Oe=wt[5];Oe!=null&&typeof Oe=="number"&&0<Oe&&(b=1.5*Oe,y.L=b,y.j.info("backChannelRequestTimeoutMs_="+b)),b=y;const Ae=l.g;if(Ae){const Ln=Ae.g?Ae.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ln){var k=b.h;k.g||Ln.indexOf("spdy")==-1&&Ln.indexOf("quic")==-1&&Ln.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(ar(k,k.h),k.h=null))}if(b.D){const Ul=Ae.g?Ae.g.getResponseHeader("X-HTTP-Session-Id"):null;Ul&&(b.ya=Ul,_t(b.I,b.D,Ul))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-l.F,y.j.info("Handshake RTT: "+y.R+"ms")),b=y;var W=l;if(b.qa=ka(b,b.J?b.ia:null,b.W),W.K){Xe(b.h,W);var bt=W,Tt=b.L;Tt&&(bt.I=Tt),bt.B&&(Ei(bt),vi(bt)),b.g=W}else Oa(b);0<y.i.length&&qi(y)}else wt[0]!="stop"&&wt[0]!="close"||on(y,7);else y.G==3&&(wt[0]=="stop"||wt[0]=="close"?wt[0]=="stop"?on(y,7):Hr(y):wt[0]!="noop"&&y.l&&y.l.ta(wt),y.v=0)}}Pn(4)}catch{}}var Io=class{constructor(l,f){this.g=l,this.map=f}};function bi(l){this.l=l||10,p.PerformanceNavigationTiming?(l=p.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function kr(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function jr(l){return l.h?1:l.g?l.g.size:0}function Lr(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function ar(l,f){l.g?l.g.add(f):l.h=f}function Xe(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}bi.prototype.cancel=function(){if(this.i=bs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function bs(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let f=l.i;for(const y of l.g.values())f=f.concat(y.D);return f}return G(l.i)}function Ml(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(_(l)){for(var f=[],y=l.length,b=0;b<y;b++)f.push(l[b]);return f}f=[],y=0;for(b in l)f[y++]=l[b];return f}function Ts(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(_(l)||typeof l=="string"){var f=[];l=l.length;for(var y=0;y<l;y++)f.push(y);return f}f=[],y=0;for(const b in l)f[y++]=b;return f}}}function ws(l,f){if(l.forEach&&typeof l.forEach=="function")l.forEach(f,void 0);else if(_(l)||typeof l=="string")Array.prototype.forEach.call(l,f,void 0);else for(var y=Ts(l),b=Ml(l),V=b.length,k=0;k<V;k++)f.call(void 0,b[k],y&&y[k],l)}var or=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vl(l,f){if(l){l=l.split("&");for(var y=0;y<l.length;y++){var b=l[y].indexOf("="),V=null;if(0<=b){var k=l[y].substring(0,b);V=l[y].substring(b+1)}else k=l[y];f(k,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function se(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof se){this.h=l.h,Ti(this,l.j),this.o=l.o,this.g=l.g,Xn(this,l.s),this.l=l.l;var f=l.i,y=new Dn;y.i=f.i,f.g&&(y.g=new Map(f.g),y.h=f.h),wi(this,y),this.m=l.m}else l&&(f=String(l).match(or))?(this.h=!1,Ti(this,f[1]||"",!0),this.o=Ze(f[2]||""),this.g=Ze(f[3]||"",!0),Xn(this,f[4]),this.l=Ze(f[5]||"",!0),wi(this,f[6]||"",!0),this.m=Ze(f[7]||"")):(this.h=!1,this.i=new Dn(null,this.h))}se.prototype.toString=function(){var l=[],f=this.j;f&&l.push(Zn(f,Ss,!0),":");var y=this.g;return(y||f=="file")&&(l.push("//"),(f=this.o)&&l.push(Zn(f,Ss,!0),"@"),l.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&l.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&l.push("/"),l.push(Zn(y,y.charAt(0)=="/"?Pl:xa,!0))),(y=this.i.toString())&&l.push("?",y),(y=this.m)&&l.push("#",Zn(y,As)),l.join("")};function _e(l){return new se(l)}function Ti(l,f,y){l.j=y?Ze(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function Xn(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function wi(l,f,y){f instanceof Dn?(l.i=f,Do(l.i,l.h)):(y||(f=Zn(f,kl)),l.i=new Dn(f,l.h))}function _t(l,f,y){l.i.set(f,y)}function Si(l){return _t(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Ze(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Zn(l,f,y){return typeof l=="string"?(l=encodeURI(l).replace(f,Co),y&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Co(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Ss=/[#\/\?@]/g,xa=/[#\?:]/g,Pl=/[#\?]/g,kl=/[#\?@]/g,As=/#/g;function Dn(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function De(l){l.g||(l.g=new Map,l.h=0,l.i&&Vl(l.i,function(f,y){l.add(decodeURIComponent(f.replace(/\+/g," ")),y)}))}i=Dn.prototype,i.add=function(l,f){De(this),this.i=null,l=an(this,l);var y=this.g.get(l);return y||this.g.set(l,y=[]),y.push(f),this.h+=1,this};function Ai(l,f){De(l),f=an(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function Ri(l,f){return De(l),f=an(l,f),l.g.has(f)}i.forEach=function(l,f){De(this),this.g.forEach(function(y,b){y.forEach(function(V){l.call(f,V,b,this)},this)},this)},i.na=function(){De(this);const l=Array.from(this.g.values()),f=Array.from(this.g.keys()),y=[];for(let b=0;b<f.length;b++){const V=l[b];for(let k=0;k<V.length;k++)y.push(f[b])}return y},i.V=function(l){De(this);let f=[];if(typeof l=="string")Ri(this,l)&&(f=f.concat(this.g.get(an(this,l))));else{l=Array.from(this.g.values());for(let y=0;y<l.length;y++)f=f.concat(l[y])}return f},i.set=function(l,f){return De(this),this.i=null,l=an(this,l),Ri(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},i.get=function(l,f){return l?(l=this.V(l),0<l.length?String(l[0]):f):f};function Rs(l,f,y){Ai(l,f),0<y.length&&(l.i=null,l.g.set(an(l,f),G(y)),l.h+=y.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(var y=0;y<f.length;y++){var b=f[y];const k=encodeURIComponent(String(b)),W=this.V(b);for(b=0;b<W.length;b++){var V=k;W[b]!==""&&(V+="="+encodeURIComponent(String(W[b]))),l.push(V)}}return this.i=l.join("&")};function an(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function Do(l,f){f&&!l.j&&(De(l),l.i=null,l.g.forEach(function(y,b){var V=b.toLowerCase();b!=V&&(Ai(this,b),Rs(this,V,y))},l)),l.j=f}function Ur(l,f){const y=new Qe;if(p.Image){const b=new Image;b.onload=L(Ne,y,"TestLoadImage: loaded",!0,f,b),b.onerror=L(Ne,y,"TestLoadImage: error",!1,f,b),b.onabort=L(Ne,y,"TestLoadImage: abort",!1,f,b),b.ontimeout=L(Ne,y,"TestLoadImage: timeout",!1,f,b),p.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=l}else f(!1)}function Jn(l,f){const y=new Qe,b=new AbortController,V=setTimeout(()=>{b.abort(),Ne(y,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:b.signal}).then(k=>{clearTimeout(V),k.ok?Ne(y,"TestPingServer: ok",!0,f):Ne(y,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(V),Ne(y,"TestPingServer: error",!1,f)})}function Ne(l,f,y,b,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),b(y)}catch{}}function Br(){this.g=new Nr}function xi(l,f,y){const b=y||"";try{ws(l,function(V,k){let W=V;v(V)&&(W=An(V)),f.push(b+k+"="+encodeURIComponent(W))})}catch(V){throw f.push(b+"type="+encodeURIComponent("_badmap")),V}}function Wn(l){this.l=l.Ub||null,this.j=l.eb||!1}U(Wn,Or),Wn.prototype.g=function(){return new jn(this.l,this.j)},Wn.prototype.i=function(l){return function(){return l}}({});function jn(l,f){kt.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}U(jn,kt),i=jn.prototype,i.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,_n(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||p).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,yn(this)),this.readyState=0},i.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,_n(this)),this.g&&(this.readyState=3,_n(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xs(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function xs(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}i.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?yn(this):_n(this),this.readyState==3&&xs(this)}},i.Ra=function(l){this.g&&(this.response=this.responseText=l,yn(this))},i.Qa=function(l){this.g&&(this.response=l,yn(this))},i.ga=function(){this.g&&yn(this)};function yn(l){l.readyState=4,l.l=null,l.j=null,l.v=null,_n(l)}i.setRequestHeader=function(l,f){this.u.append(l,f)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var y=f.next();!y.done;)y=y.value,l.push(y[0]+": "+y[1]),y=f.next();return l.join(`\r
`)};function _n(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(jn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Is(l){let f="";return vt(l,function(y,b){f+=b,f+=":",f+=y,f+=`\r
`}),f}function we(l,f,y){t:{for(b in y){var b=!1;break t}b=!0}b||(y=Is(y),typeof l=="string"?y!=null&&encodeURIComponent(String(y)):_t(l,f,y))}function Et(l){kt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}U(Et,kt);var Cs=/^https?$/i,$r=["POST","PUT"];i=Et.prototype,i.Ha=function(l){this.J=l},i.ea=function(l,f,y,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():kn.g(),this.v=this.o?_s(this.o):_s(kn),this.g.onreadystatechange=O(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(k){Ia(this,k);return}if(l=y||"",y=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var V in b)y.set(V,b[V]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const k of b.keys())y.set(k,b.get(k));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(y.keys()).find(k=>k.toLowerCase()=="content-type"),V=p.FormData&&l instanceof p.FormData,!(0<=Array.prototype.indexOf.call($r,f,void 0))||b||V||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[k,W]of y)this.g.setRequestHeader(k,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{lr(this),this.u=!0,this.g.send(l),this.u=!1}catch(k){Ia(this,k)}};function Ia(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,zr(l),Nn(l)}function zr(l){l.A||(l.A=!0,Nt(l,"complete"),Nt(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Nt(this,"complete"),Nt(this,"abort"),Nn(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Nn(this,!0)),Et.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Fr(this):this.bb())},i.bb=function(){Fr(this)};function Fr(l){if(l.h&&typeof d<"u"&&(!l.v[1]||Se(l)!=4||l.Z()!=2)){if(l.u&&Se(l)==4)$e(l.Ea,0,l);else if(Nt(l,"readystatechange"),Se(l)==4){l.h=!1;try{const W=l.Z();t:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break t;default:f=!1}var y;if(!(y=f)){var b;if(b=W===0){var V=String(l.D).match(or)[1]||null;!V&&p.self&&p.self.location&&(V=p.self.location.protocol.slice(0,-1)),b=!Cs.test(V?V.toLowerCase():"")}y=b}if(y)Nt(l,"complete"),Nt(l,"success");else{l.m=6;try{var k=2<Se(l)?l.g.statusText:""}catch{k=""}l.l=k+" ["+l.Z()+"]",zr(l)}}finally{Nn(l)}}}}function Nn(l,f){if(l.g){lr(l);const y=l.g,b=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||Nt(l,"ready");try{y.onreadystatechange=b}catch{}}}function lr(l){l.I&&(p.clearTimeout(l.I),l.I=null)}i.isActive=function(){return!!this.g};function Se(l){return l.g?l.g.readyState:0}i.Z=function(){try{return 2<Se(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),ys(f)}};function Ca(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function jl(l){const f={};l=(l.g&&2<=Se(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<l.length;b++){if(at(l[b]))continue;var y=I(l[b]);const V=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const k=f[V]||[];f[V]=k,k.push(y)}C(f,function(b){return b.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ti(l,f,y){return y&&y.internalChannelParams&&y.internalChannelParams[l]||f}function qr(l){this.Aa=0,this.i=[],this.j=new Qe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ti("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ti("baseRetryDelayMs",5e3,l),this.cb=ti("retryDelaySeedMs",1e4,l),this.Wa=ti("forwardChannelMaxRetries",2,l),this.wa=ti("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new bi(l&&l.concurrentRequestLimit),this.Da=new Br,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=qr.prototype,i.la=8,i.G=1,i.connect=function(l,f,y,b){Pt(0),this.W=l,this.H=f||{},y&&b!==void 0&&(this.H.OSID=y,this.H.OAID=b),this.F=this.X,this.I=ka(this,null,this.W),qi(this)};function Hr(l){if(Da(l),l.G==3){var f=l.U++,y=_e(l.I);if(_t(y,"SID",l.K),_t(y,"RID",f),_t(y,"TYPE","terminate"),ei(l,y),f=new pe(l,l.j,f),f.L=2,f.v=Si(_e(y)),y=!1,p.navigator&&p.navigator.sendBeacon)try{y=p.navigator.sendBeacon(f.v.toString(),"")}catch{}!y&&p.Image&&(new Image().src=f.v,y=!0),y||(f.g=ja(f.j,null),f.g.ea(f.v)),f.F=Date.now(),vi(f)}Pa(l)}function Fi(l){l.g&&(Hi(l),l.g.cancel(),l.g=null)}function Da(l){Fi(l),l.u&&(p.clearTimeout(l.u),l.u=null),Gi(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&p.clearTimeout(l.s),l.s=null)}function qi(l){if(!kr(l.h)&&!l.s){l.s=!0;var f=l.Ga;lt||j(),dt||(lt(),dt=!0),Ut.add(f,l),l.B=0}}function Ll(l,f){return jr(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=f.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=he(O(l.Ga,l,f),Ns(l,l.B)),l.B++,!0)}i.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const V=new pe(this,this.j,l);let k=this.o;if(this.S&&(k?(k=E(k),R(k,this.S)):k=this.S),this.m!==null||this.O||(V.H=k,k=null),this.P)t:{for(var f=0,y=0;y<this.i.length;y++){e:{var b=this.i[y];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(f+=b,4096<f){f=y;break t}if(f===4096||y===this.i.length-1){f=y+1;break t}}f=1e3}else f=1e3;f=Na(this,V,f),y=_e(this.I),_t(y,"RID",l),_t(y,"CVER",22),this.D&&_t(y,"X-HTTP-Session-Id",this.D),ei(this,y),k&&(this.O?f="headers="+encodeURIComponent(String(Is(k)))+"&"+f:this.m&&we(y,this.m,k)),ar(this.h,V),this.Ua&&_t(y,"TYPE","init"),this.P?(_t(y,"$req",f),_t(y,"SID","null"),V.T=!0,Cn(V,y,null)):Cn(V,y,f),this.G=2}}else this.G==3&&(l?Ds(this,l):this.i.length==0||kr(this.h)||Ds(this))};function Ds(l,f){var y;f?y=f.l:y=l.U++;const b=_e(l.I);_t(b,"SID",l.K),_t(b,"RID",y),_t(b,"AID",l.T),ei(l,b),l.m&&l.o&&we(b,l.m,l.o),y=new pe(l,l.j,y,l.B+1),l.m===null&&(y.H=l.o),f&&(l.i=f.D.concat(l.i)),f=Na(l,y,1e3),y.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),ar(l.h,y),Cn(y,b,f)}function ei(l,f){l.H&&vt(l.H,function(y,b){_t(f,b,y)}),l.l&&ws({},function(y,b){_t(f,b,y)})}function Na(l,f,y){y=Math.min(l.i.length,y);var b=l.l?O(l.l.Na,l.l,l):null;t:{var V=l.i;let k=-1;for(;;){const W=["count="+y];k==-1?0<y?(k=V[0].g,W.push("ofs="+k)):k=0:W.push("ofs="+k);let bt=!0;for(let Tt=0;Tt<y;Tt++){let wt=V[Tt].g;const qt=V[Tt].map;if(wt-=k,0>wt)k=Math.max(0,V[Tt].g-100),bt=!1;else try{xi(qt,W,"req"+wt+"_")}catch{b&&b(qt)}}if(bt){b=W.join("&");break t}}}return l=l.i.splice(0,y),f.D=l,b}function Oa(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;lt||j(),dt||(lt(),dt=!0),Ut.add(f,l),l.v=0}}function Gr(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=he(O(l.Fa,l),Ns(l,l.v)),l.v++,!0)}i.Fa=function(){if(this.u=null,Ma(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=he(O(this.ab,this),l)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Pt(10),Fi(this),Ma(this))};function Hi(l){l.A!=null&&(p.clearTimeout(l.A),l.A=null)}function Ma(l){l.g=new pe(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var f=_e(l.qa);_t(f,"RID","rpc"),_t(f,"SID",l.K),_t(f,"AID",l.T),_t(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&_t(f,"TO",l.ja),_t(f,"TYPE","xmlhttp"),ei(l,f),l.m&&l.o&&we(f,l.m,l.o),l.L&&(l.g.I=l.L);var y=l.g;l=l.ia,y.L=1,y.v=Si(_e(f)),y.m=null,y.P=!0,_i(y,l)}i.Za=function(){this.C!=null&&(this.C=null,Fi(this),Gr(this),Pt(19))};function Gi(l){l.C!=null&&(p.clearTimeout(l.C),l.C=null)}function Va(l,f){var y=null;if(l.g==f){Gi(l),Hi(l),l.g=null;var b=2}else if(Lr(l.h,f))y=f.D,Xe(l.h,f),b=1;else return;if(l.G!=0){if(f.o)if(b==1){y=f.m?f.m.length:0,f=Date.now()-f.F;var V=l.B;b=gi(),Nt(b,new Te(b,y)),qi(l)}else Oa(l);else if(V=f.s,V==3||V==0&&0<f.X||!(b==1&&Ll(l,f)||b==2&&Gr(l)))switch(y&&0<y.length&&(f=l.h,f.i=f.i.concat(y)),V){case 1:on(l,5);break;case 4:on(l,10);break;case 3:on(l,6);break;default:on(l,2)}}}function Ns(l,f){let y=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(y*=2),y*f}function on(l,f){if(l.j.info("Error code "+f),f==2){var y=O(l.fb,l),b=l.Xa;const V=!b;b=new se(b||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Ti(b,"https"),Si(b),V?Ur(b.toString(),y):Jn(b.toString(),y)}else Pt(2);l.G=0,l.l&&l.l.sa(f),Pa(l),Da(l)}i.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Pt(2)):(this.j.info("Failed to ping google.com"),Pt(1))};function Pa(l){if(l.G=0,l.ka=[],l.l){const f=bs(l.h);(f.length!=0||l.i.length!=0)&&($(l.ka,f),$(l.ka,l.i),l.h.i.length=0,G(l.i),l.i.length=0),l.l.ra()}}function ka(l,f,y){var b=y instanceof se?_e(y):new se(y);if(b.g!="")f&&(b.g=f+"."+b.g),Xn(b,b.s);else{var V=p.location;b=V.protocol,f=f?f+"."+V.hostname:V.hostname,V=+V.port;var k=new se(null);b&&Ti(k,b),f&&(k.g=f),V&&Xn(k,V),y&&(k.l=y),b=k}return y=l.D,f=l.ya,y&&f&&_t(b,y,f),_t(b,"VER",l.la),ei(l,b),b}function ja(l,f,y){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Ca&&!l.pa?new Et(new Wn({eb:y})):new Et(l.pa),f.Ha(l.J),f}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function La(){}i=La.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function ze(){}ze.prototype.g=function(l,f){return new Je(l,f)};function Je(l,f){kt.call(this),this.g=new qr(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!at(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!at(f)&&(this.g.D=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new h(this)}U(Je,kt),Je.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Je.prototype.close=function(){Hr(this.g)},Je.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var y={};y.__data__=l,l=y}else this.u&&(y={},y.__data__=An(l),l=y);f.i.push(new Io(f.Ya++,l)),f.G==3&&qi(f)},Je.prototype.N=function(){this.g.l=null,delete this.j,Hr(this.g),delete this.g,Je.aa.N.call(this)};function Ua(l){Qn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){t:{for(const y in f){l=y;break t}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}U(Ua,Qn);function Ki(){Mr.call(this),this.status=1}U(Ki,Mr);function h(l){this.g=l}U(h,La),h.prototype.ua=function(){Nt(this.g,"a")},h.prototype.ta=function(l){Nt(this.g,new Ua(l))},h.prototype.sa=function(l){Nt(this.g,new Ki)},h.prototype.ra=function(){Nt(this.g,"b")},ze.prototype.createWebChannel=ze.prototype.g,Je.prototype.send=Je.prototype.o,Je.prototype.open=Je.prototype.m,Je.prototype.close=Je.prototype.close,nb=function(){return new ze},eb=function(){return gi()},tb=sn,ap={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},yi.NO_ERROR=0,yi.TIMEOUT=8,yi.HTTP_ERROR=6,Sh=yi,$i.COMPLETE="complete",WE=$i,Ta.EventType=Rn,Rn.OPEN="a",Rn.CLOSE="b",Rn.ERROR="c",Rn.MESSAGE="d",kt.prototype.listen=kt.prototype.K,Cu=Ta,Et.prototype.listenOnce=Et.prototype.L,Et.prototype.getLastError=Et.prototype.Ka,Et.prototype.getLastErrorCode=Et.prototype.Ba,Et.prototype.getStatus=Et.prototype.Z,Et.prototype.getResponseJson=Et.prototype.Oa,Et.prototype.getResponseText=Et.prototype.oa,Et.prototype.send=Et.prototype.ea,Et.prototype.setWithCredentials=Et.prototype.Ha,JE=Et}).apply(typeof dh<"u"?dh:typeof self<"u"?self:typeof window<"u"?window:{});const A0="@firebase/firestore",R0="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tn=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};Tn.UNAUTHENTICATED=new Tn(null),Tn.GOOGLE_CREDENTIALS=new Tn("google-credentials-uid"),Tn.FIRST_PARTY=new Tn("first-party-uid"),Tn.MOCK_USER=new Tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Al="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo=new $p("@firebase/firestore");function sl(){return fo.logLevel}function ct(i,...t){if(fo.logLevel<=Yt.DEBUG){const n=t.map(qp);fo.debug(`Firestore (${Al}): ${i}`,...n)}}function hs(i,...t){if(fo.logLevel<=Yt.ERROR){const n=t.map(qp);fo.error(`Firestore (${Al}): ${i}`,...n)}}function gl(i,...t){if(fo.logLevel<=Yt.WARN){const n=t.map(qp);fo.warn(`Firestore (${Al}): ${i}`,...n)}}function qp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(i,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,ib(i,s,n)}function ib(i,t,n){let s=`FIRESTORE (${Al}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw hs(s),new Error(s)}function ne(i,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||ib(t,o,s)}function Mt(i,t){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const st={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};let pt=class extends wo{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sa=class{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rb=class{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}},$x=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Tn.UNAUTHENTICATED))}shutdown(){}};class zx{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}let Fx=class{constructor(t){this.t=t,this.currentUser=Tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){ne(this.o===void 0,42304);let s=this.i;const o=_=>this.i!==s?(s=this.i,n(_)):Promise.resolve();let c=new sa;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new sa,t.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const _=c;t.enqueueRetryable(async()=>{await _.promise,await o(this.currentUser)})},p=_=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(_=>p(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new sa)}},0),d()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ne(typeof s.accessToken=="string",31837,{l:s}),new rb(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ne(t===null||typeof t=="string",2055,{h:t}),new Tn(t)}},qx=class{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=Tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},Hx=class{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new qx(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(Tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}},x0=class{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Gx=class{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,GE(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){ne(this.o===void 0,3512);const s=c=>{c.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ct("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>s(c))};const o=c=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new x0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(ne(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new x0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hp=class{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=Kx(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<n&&(s+=t.charAt(o[c]%62))}return s}};function zt(i,t){return i<t?-1:i>t?1:0}function op(i,t){const n=Math.min(i.length,t.length);for(let s=0;s<n;s++){const o=i.charAt(s),c=t.charAt(s);if(o!==c)return Mm(o)===Mm(c)?zt(o,c):Mm(o)?1:-1}return zt(i.length,t.length)}const Yx=55296,Qx=57343;function Mm(i){const t=i.charCodeAt(0);return t>=Yx&&t<=Qx}function yl(i,t,n){return i.length===t.length&&i.every((s,o)=>n(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0="__name__";let sb=class Ws{constructor(t,n,s){n===void 0?n=0:n>t.length&&xt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&xt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Ws.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ws?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const c=Ws.compareSegments(t.get(o),n.get(o));if(c!==0)return c}return zt(t.length,n.length)}static compareSegments(t,n){const s=Ws.isNumericId(t),o=Ws.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ws.extractNumericId(t).compare(Ws.extractNumericId(n)):op(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ra.fromString(t.substring(4,t.length-2))}},He=class Ah extends sb{construct(t,n,s){return new Ah(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new pt(st.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new Ah(n)}static emptyPath(){return new Ah([])}};const Xx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;let Wi=class al extends sb{construct(t,n,s){return new al(t,n,s)}static isValidIdentifier(t){return Xx.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),al.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===I0}static keyField(){return new al([I0])}static fromServerFormat(t){const n=[];let s="",o=0;const c=()=>{if(s.length===0)throw new pt(st.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let d=!1;for(;o<t.length;){const p=t[o];if(p==="\\"){if(o+1===t.length)throw new pt(st.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new pt(st.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=_,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(s+=p,o++):(c(),o++)}if(c(),d)throw new pt(st.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new al(n)}static emptyPath(){return new al([])}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ct=class Du{constructor(t){this.path=t}static fromPath(t){return new Du(He.fromString(t))}static fromName(t){return new Du(He.fromString(t).popFirst(5))}static empty(){return new Du(He.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&He.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return He.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Du(new He(t.slice()))}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(i,t,n){if(!n)throw new pt(st.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function Jx(i,t,n,s){if(t===!0&&s===!0)throw new pt(st.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function C0(i){if(!Ct.isDocumentKey(i))throw new pt(st.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function ab(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Gp(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":xt(12329,{type:typeof i})}function mo(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new pt(st.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gp(i);throw new pt(st.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(i,t){const n={typeString:i};return t&&(n.value=t),n}function ac(i,t){if(!ab(i))throw new pt(st.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,c="value"in t[s]?{value:t[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const d=i[s];if(o&&typeof d!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){n=`Expected '${s}' field to equal '${c.value}'`;break}}if(n)throw new pt(st.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0=-62135596800,N0=1e6;let rn=class no{static now(){return no.fromMillis(Date.now())}static fromDate(t){return no.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*N0);return new no(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new pt(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pt(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<D0)throw new pt(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new pt(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/N0}_compareTo(t){return this.seconds===t.seconds?zt(this.nanoseconds,t.nanoseconds):zt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:no._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(ac(t,no._jsonSchema))return new no(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-D0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};rn._jsonSchemaVersion="firestore/timestamp/1.0",rn._jsonSchema={type:Ue("string",rn._jsonSchemaVersion),seconds:Ue("number"),nanoseconds:Ue("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{static fromTimestamp(t){return new Ot(t)}static min(){return new Ot(new rn(0,0))}static max(){return new Ot(new rn(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xu=-1;function Wx(i,t){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ot.fromTimestamp(s===1e9?new rn(n+1,0):new rn(n,s));return new la(o,Ct.empty(),t)}function tI(i){return new la(i.readTime,i.key,Xu)}class la{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new la(Ot.min(),Ct.empty(),Xu)}static max(){return new la(Ot.max(),Ct.empty(),Xu)}}function eI(i,t){let n=i.readTime.compareTo(t.readTime);return n!==0?n:(n=Ct.comparator(i.documentKey,t.documentKey),n!==0?n:zt(i.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rl(i){if(i.code!==st.FAILED_PRECONDITION||i.message!==nI)throw i;ct("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&xt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new et((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof et?n:et.resolve(n)}catch(n){return et.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):et.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):et.reject(n)}static resolve(t){return new et((n,s)=>{n(t)})}static reject(t){return new et((n,s)=>{s(t)})}static waitFor(t){return new et((n,s)=>{let o=0,c=0,d=!1;t.forEach(p=>{++o,p.next(()=>{++c,d&&c===o&&n()},_=>s(_))}),d=!0,c===o&&n()})}static or(t){let n=et.resolve(!1);for(const s of t)n=n.next(o=>o?et.resolve(o):s());return n}static forEach(t,n){const s=[];return t.forEach((o,c)=>{s.push(n.call(this,o,c))}),this.waitFor(s)}static mapArray(t,n){return new et((s,o)=>{const c=t.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const v=_;n(t[v]).next(A=>{d[v]=A,++p,p===c&&s(d)},A=>o(A))}})}static doWhile(t,n){return new et((s,o)=>{const c=()=>{t()===!0?n().next(()=>{c()},o):s()};c()})}}function rI(i){const t=i.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function xl(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}lf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp=-1;function uf(i){return i==null}function jh(i){return i===0&&1/i==-1/0}function sI(i){return typeof i=="number"&&Number.isInteger(i)&&!jh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob="";function aI(i){let t="";for(let n=0;n<i.length;n++)t.length>0&&(t=O0(t)),t=oI(i.get(n),t);return O0(t)}function oI(i,t){let n=t;const s=i.length;for(let o=0;o<s;o++){const c=i.charAt(o);switch(c){case"\0":n+="";break;case ob:n+="";break;default:n+=c}}return n}function O0(i){return i+ob+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(i){let t=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&t++;return t}function ga(i,t){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&t(n,i[n])}function lb(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(t,n){this.comparator=t,this.root=n||fn.EMPTY}insert(t,n){return new be(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,fn.BLACK,null,null))}remove(t){return new be(this.comparator,this.root.remove(t,this.comparator).copy(null,null,fn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new mh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new mh(this.root,t,this.comparator,!1)}getReverseIterator(){return new mh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new mh(this.root,t,this.comparator,!0)}}class mh{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=n?s(t.key,n):1,n&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class fn{constructor(t,n,s,o,c){this.key=t,this.value=n,this.color=s??fn.RED,this.left=o??fn.EMPTY,this.right=c??fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,c){return new fn(t??this.key,n??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const c=s(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,n,s),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return fn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return fn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw xt(27949);return t+(this.isRed()?0:1)}}fn.EMPTY=null,fn.RED=!0,fn.BLACK=!1;fn.EMPTY=new class{constructor(){this.size=0}get key(){throw xt(57766)}get value(){throw xt(16141)}get color(){throw xt(16727)}get left(){throw xt(29726)}get right(){throw xt(36894)}copy(t,n,s,o,c){return this}insert(t,n,s){return new fn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t){this.comparator=t,this.data=new be(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new V0(this.data.getIterator())}getIteratorFrom(t){return new V0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof Ke)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Ke(this.comparator);return n.data=t,n}}class V0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(t){this.fields=t,t.sort(Wi.comparator)}static empty(){return new ci([])}unionWith(t){let n=new Ke(Wi.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new ci(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return yl(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ub=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kn=class lp{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new ub("Invalid base64 string: "+c):c}}(t);return new lp(n)}static fromUint8Array(t){const n=function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c}(t);return new lp(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return zt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}};Kn.EMPTY_BYTE_STRING=new Kn("");const lI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ua(i){if(ne(!!i,39018),typeof i=="string"){let t=0;const n=lI.exec(i);if(ne(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Pe(i.seconds),nanos:Pe(i.nanos)}}function Pe(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ca(i){return typeof i=="string"?Kn.fromBase64String(i):Kn.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb="server_timestamp",hb="__type__",fb="__previous_value__",db="__local_write_time__";function Yp(i){return(i?.mapValue?.fields||{})[hb]?.stringValue===cb}function cf(i){const t=i.mapValue.fields[fb];return Yp(t)?cf(t):t}function Zu(i){const t=ua(i.mapValue.fields[db].timestampValue);return new rn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(t,n,s,o,c,d,p,_,v,A){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=A}}const Lh="(default)";let mb=class up{constructor(t,n){this.projectId=t,this.database=n||Lh}static empty(){return new up("","")}get isDefaultDatabase(){return this.database===Lh}isEqual(t){return t instanceof up&&t.projectId===this.projectId&&t.database===this.database}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb="__type__",cI="__max__",ph={mapValue:{}},gb="__vector__",Uh="value";function ha(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Yp(i)?4:fI(i)?9007199254740991:hI(i)?10:11:xt(28295,{value:i})}function Ar(i,t){if(i===t)return!0;const n=ha(i);if(n!==ha(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return Zu(i).isEqual(Zu(t));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=ua(o.timestampValue),p=ua(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos}(i,t);case 5:return i.stringValue===t.stringValue;case 6:return function(o,c){return ca(o.bytesValue).isEqual(ca(c.bytesValue))}(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return function(o,c){return Pe(o.geoPointValue.latitude)===Pe(c.geoPointValue.latitude)&&Pe(o.geoPointValue.longitude)===Pe(c.geoPointValue.longitude)}(i,t);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return Pe(o.integerValue)===Pe(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Pe(o.doubleValue),p=Pe(c.doubleValue);return d===p?jh(d)===jh(p):isNaN(d)&&isNaN(p)}return!1}(i,t);case 9:return yl(i.arrayValue.values||[],t.arrayValue.values||[],Ar);case 10:case 11:return function(o,c){const d=o.mapValue.fields||{},p=c.mapValue.fields||{};if(M0(d)!==M0(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Ar(d[_],p[_])))return!1;return!0}(i,t);default:return xt(52216,{left:i})}}function Ju(i,t){return(i.values||[]).find(n=>Ar(n,t))!==void 0}function _l(i,t){if(i===t)return 0;const n=ha(i),s=ha(t);if(n!==s)return zt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return zt(i.booleanValue,t.booleanValue);case 2:return function(c,d){const p=Pe(c.integerValue||c.doubleValue),_=Pe(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1}(i,t);case 3:return P0(i.timestampValue,t.timestampValue);case 4:return P0(Zu(i),Zu(t));case 5:return op(i.stringValue,t.stringValue);case 6:return function(c,d){const p=ca(c),_=ca(d);return p.compareTo(_)}(i.bytesValue,t.bytesValue);case 7:return function(c,d){const p=c.split("/"),_=d.split("/");for(let v=0;v<p.length&&v<_.length;v++){const A=zt(p[v],_[v]);if(A!==0)return A}return zt(p.length,_.length)}(i.referenceValue,t.referenceValue);case 8:return function(c,d){const p=zt(Pe(c.latitude),Pe(d.latitude));return p!==0?p:zt(Pe(c.longitude),Pe(d.longitude))}(i.geoPointValue,t.geoPointValue);case 9:return k0(i.arrayValue,t.arrayValue);case 10:return function(c,d){const p=c.fields||{},_=d.fields||{},v=p[Uh]?.arrayValue,A=_[Uh]?.arrayValue,M=zt(v?.values?.length||0,A?.values?.length||0);return M!==0?M:k0(v,A)}(i.mapValue,t.mapValue);case 11:return function(c,d){if(c===ph.mapValue&&d===ph.mapValue)return 0;if(c===ph.mapValue)return 1;if(d===ph.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),v=d.fields||{},A=Object.keys(v);_.sort(),A.sort();for(let M=0;M<_.length&&M<A.length;++M){const O=op(_[M],A[M]);if(O!==0)return O;const L=_l(p[_[M]],v[A[M]]);if(L!==0)return L}return zt(_.length,A.length)}(i.mapValue,t.mapValue);default:throw xt(23264,{he:n})}}function P0(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return zt(i,t);const n=ua(i),s=ua(t),o=zt(n.seconds,s.seconds);return o!==0?o:zt(n.nanos,s.nanos)}function k0(i,t){const n=i.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const c=_l(n[o],s[o]);if(c)return c}return zt(n.length,s.length)}function vl(i){return cp(i)}function cp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=ua(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return ca(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return Ct.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",o=!0;for(const c of n.values||[])o?o=!1:s+=",",s+=cp(c);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const d of s)c?c=!1:o+=",",o+=`${d}:${cp(n.fields[d])}`;return o+"}"}(i.mapValue):xt(61005,{value:i})}function Rh(i){switch(ha(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=cf(i);return t?16+Rh(t):16;case 5:return 2*i.stringValue.length;case 6:return ca(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,c)=>o+Rh(c),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return ga(s.fields,(c,d)=>{o+=c.length+Rh(d)}),o}(i.mapValue);default:throw xt(13486,{value:i})}}function hp(i){return!!i&&"integerValue"in i}function Qp(i){return!!i&&"arrayValue"in i}function j0(i){return!!i&&"nullValue"in i}function L0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function xh(i){return!!i&&"mapValue"in i}function hI(i){return(i?.mapValue?.fields||{})[pb]?.stringValue===gb}function ku(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const t={mapValue:{fields:{}}};return ga(i.mapValue.fields,(n,s)=>t.mapValue.fields[n]=ku(s)),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ku(i.arrayValue.values[n]);return t}return{...i}}function fI(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===cI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(t){this.value=t}static empty(){return new Fn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!xh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=ku(n)}setAll(t){let n=Wi.emptyPath(),s={},o=[];t.forEach((d,p)=>{if(!n.isImmediateParentOf(p)){const _=this.getFieldsMap(n);this.applyChanges(_,s,o),s={},o=[],n=p.popLast()}d?s[p.lastSegment()]=ku(d):o.push(p.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,o)}delete(t){const n=this.field(t.popLast());xh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Ar(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];xh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){ga(n,(o,c)=>t[o]=c);for(const o of s)delete t[o]}clone(){return new Fn(ku(this.value))}}function yb(i){const t=[];return ga(i.fields,(n,s)=>{const o=new Wi([n]);if(xh(s)){const c=yb(s.mapValue).fields;if(c.length===0)t.push(o);else for(const d of c)t.push(o.child(d))}else t.push(o)}),new ci(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(t,n,s,o,c,d,p){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new wn(t,0,Ot.min(),Ot.min(),Ot.min(),Fn.empty(),0)}static newFoundDocument(t,n,s,o){return new wn(t,1,n,Ot.min(),s,o,0)}static newNoDocument(t,n){return new wn(t,2,n,Ot.min(),Ot.min(),Fn.empty(),0)}static newUnknownDocument(t,n){return new wn(t,3,n,Ot.min(),Ot.min(),Fn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Ot.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Fn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ot.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof wn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new wn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(t,n){this.position=t,this.inclusive=n}}function U0(i,t,n){let s=0;for(let o=0;o<i.position.length;o++){const c=t[o],d=i.position[o];if(c.field.isKeyField()?s=Ct.comparator(Ct.fromName(d.referenceValue),n.key):s=_l(d,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function B0(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Ar(i.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(t,n="asc"){this.field=t,this.dir=n}}function dI(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{}class Ge extends _b{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new pI(t,n,s):n==="array-contains"?new _I(t,s):n==="in"?new vI(t,s):n==="not-in"?new EI(t,s):n==="array-contains-any"?new bI(t,s):new Ge(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new gI(t,s):new yI(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(_l(n,this.value)):n!==null&&ha(this.value)===ha(n)&&this.matchesComparison(_l(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return xt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Rr extends _b{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Rr(t,n)}matches(t){return vb(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function vb(i){return i.op==="and"}function Eb(i){return mI(i)&&vb(i)}function mI(i){for(const t of i.filters)if(t instanceof Rr)return!1;return!0}function fp(i){if(i instanceof Ge)return i.field.canonicalString()+i.op.toString()+vl(i.value);if(Eb(i))return i.filters.map(t=>fp(t)).join(",");{const t=i.filters.map(n=>fp(n)).join(",");return`${i.op}(${t})`}}function bb(i,t){return i instanceof Ge?function(s,o){return o instanceof Ge&&s.op===o.op&&s.field.isEqual(o.field)&&Ar(s.value,o.value)}(i,t):i instanceof Rr?function(s,o){return o instanceof Rr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((c,d,p)=>c&&bb(d,o.filters[p]),!0):!1}(i,t):void xt(19439)}function Tb(i){return i instanceof Ge?function(n){return`${n.field.canonicalString()} ${n.op} ${vl(n.value)}`}(i):i instanceof Rr?function(n){return n.op.toString()+" {"+n.getFilters().map(Tb).join(" ,")+"}"}(i):"Filter"}class pI extends Ge{constructor(t,n,s){super(t,n,s),this.key=Ct.fromName(s.referenceValue)}matches(t){const n=Ct.comparator(t.key,this.key);return this.matchesComparison(n)}}class gI extends Ge{constructor(t,n){super(t,"in",n),this.keys=wb("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class yI extends Ge{constructor(t,n){super(t,"not-in",n),this.keys=wb("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function wb(i,t){return(t.arrayValue?.values||[]).map(n=>Ct.fromName(n.referenceValue))}class _I extends Ge{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Qp(n)&&Ju(n.arrayValue,this.value)}}class vI extends Ge{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Ju(this.value.arrayValue,n)}}class EI extends Ge{constructor(t,n){super(t,"not-in",n)}matches(t){if(Ju(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ju(this.value.arrayValue,n)}}class bI extends Ge{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Qp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Ju(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(t,n=null,s=[],o=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function $0(i,t=null,n=[],s=[],o=null,c=null,d=null){return new TI(i,t,n,s,o,c,d)}function Xp(i){const t=Mt(i);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>fp(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),uf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>vl(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>vl(s)).join(",")),t.Te=n}return t.Te}function Zp(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!dI(i.orderBy[n],t.orderBy[n]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!bb(i.filters[n],t.filters[n]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!B0(i.startAt,t.startAt)&&B0(i.endAt,t.endAt)}function dp(i){return Ct.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hf=class{constructor(t,n=null,s=[],o=[],c=null,d="F",p=null,_=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}};function wI(i,t,n,s,o,c,d,p){return new hf(i,t,n,s,o,c,d,p)}function Jp(i){return new hf(i)}function z0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function SI(i){return i.collectionGroup!==null}function ju(i){const t=Mt(i);if(t.Ie===null){t.Ie=[];const n=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),n.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ke(Wi.comparator);return d.filters.forEach(_=>{_.getFlattenedFilters().forEach(v=>{v.isInequality()&&(p=p.add(v.field))})}),p})(t).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new $h(c,s))}),n.has(Wi.keyField().canonicalString())||t.Ie.push(new $h(Wi.keyField(),s))}return t.Ie}function vr(i){const t=Mt(i);return t.Ee||(t.Ee=AI(t,ju(i))),t.Ee}function AI(i,t){if(i.limitType==="F")return $0(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new $h(o.field,c)});const n=i.endAt?new Bh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Bh(i.startAt.position,i.startAt.inclusive):null;return $0(i.path,i.collectionGroup,t,i.filters,i.limit,n,s)}}function mp(i,t,n){return new hf(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,n,i.startAt,i.endAt)}function ff(i,t){return Zp(vr(i),vr(t))&&i.limitType===t.limitType}function Sb(i){return`${Xp(vr(i))}|lt:${i.limitType}`}function ol(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>Tb(o)).join(", ")}]`),uf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>vl(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>vl(o)).join(",")),`Target(${s})`}(vr(i))}; limitType=${i.limitType})`}function df(i,t){return t.isFoundDocument()&&function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):Ct.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(i,t)&&function(s,o){for(const c of ju(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(i,t)&&function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0}(i,t)&&function(s,o){return!(s.startAt&&!function(d,p,_){const v=U0(d,p,_);return d.inclusive?v<=0:v<0}(s.startAt,ju(s),o)||s.endAt&&!function(d,p,_){const v=U0(d,p,_);return d.inclusive?v>=0:v>0}(s.endAt,ju(s),o))}(i,t)}function RI(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Ab(i){return(t,n)=>{let s=!1;for(const o of ju(i)){const c=xI(o,t,n);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function xI(i,t,n){const s=i.field.isKeyField()?Ct.comparator(t.key,n.key):function(c,d,p){const _=d.data.field(c),v=p.data.field(c);return _!==null&&v!==null?_l(_,v):xt(42886)}(i.field,t,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return xt(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){ga(this.inner,(n,s)=>{for(const[o,c]of s)t(o,c)})}isEmpty(){return lb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II=new be(Ct.comparator);function fs(){return II}const Rb=new be(Ct.comparator);function Nu(...i){let t=Rb;for(const n of i)t=t.insert(n.key,n);return t}function xb(i){let t=Rb;return i.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function so(){return Lu()}function Ib(){return Lu()}function Lu(){return new So(i=>i.toString(),(i,t)=>i.isEqual(t))}const CI=new be(Ct.comparator),DI=new Ke(Ct.comparator);function Ft(...i){let t=DI;for(const n of i)t=t.add(n);return t}const NI=new Ke(zt);function OI(){return NI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wp(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jh(t)?"-0":t}}function Cb(i){return{integerValue:""+i}}function MI(i,t){return sI(t)?Cb(t):Wp(i,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(){this._=void 0}}function VI(i,t,n){return i instanceof zh?function(o,c){const d={fields:{[hb]:{stringValue:cb},[db]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Yp(c)&&(c=cf(c)),c&&(d.fields[fb]=c),{mapValue:d}}(n,t):i instanceof Wu?Nb(i,t):i instanceof tc?Ob(i,t):function(o,c){const d=Db(o,c),p=F0(d)+F0(o.Ae);return hp(d)&&hp(o.Ae)?Cb(p):Wp(o.serializer,p)}(i,t)}function PI(i,t,n){return i instanceof Wu?Nb(i,t):i instanceof tc?Ob(i,t):n}function Db(i,t){return i instanceof Fh?function(s){return hp(s)||function(c){return!!c&&"doubleValue"in c}(s)}(t)?t:{integerValue:0}:null}class zh extends mf{}class Wu extends mf{constructor(t){super(),this.elements=t}}function Nb(i,t){const n=Mb(t);for(const s of i.elements)n.some(o=>Ar(o,s))||n.push(s);return{arrayValue:{values:n}}}class tc extends mf{constructor(t){super(),this.elements=t}}function Ob(i,t){let n=Mb(t);for(const s of i.elements)n=n.filter(o=>!Ar(o,s));return{arrayValue:{values:n}}}class Fh extends mf{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function F0(i){return Pe(i.integerValue||i.doubleValue)}function Mb(i){return Qp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function kI(i,t){return i.field.isEqual(t.field)&&function(s,o){return s instanceof Wu&&o instanceof Wu||s instanceof tc&&o instanceof tc?yl(s.elements,o.elements,Ar):s instanceof Fh&&o instanceof Fh?Ar(s.Ae,o.Ae):s instanceof zh&&o instanceof zh}(i.transform,t.transform)}class jI{constructor(t,n){this.version=t,this.transformResults=n}}class Er{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Er}static exists(t){return new Er(void 0,t)}static updateTime(t){return new Er(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ih(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class pf{}function Vb(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new kb(i.key,Er.none()):new oc(i.key,i.data,Er.none());{const n=i.data,s=Fn.empty();let o=new Ke(Wi.comparator);for(let c of t.fields)if(!o.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?s.delete(c):s.set(c,d),o=o.add(c)}return new ya(i.key,s,new ci(o.toArray()),Er.none())}}function LI(i,t,n){i instanceof oc?function(o,c,d){const p=o.value.clone(),_=H0(o.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(i,t,n):i instanceof ya?function(o,c,d){if(!Ih(o.precondition,c))return void c.convertToUnknownDocument(d.version);const p=H0(o.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(Pb(o)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(i,t,n):function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,t,n)}function Uu(i,t,n,s){return i instanceof oc?function(c,d,p,_){if(!Ih(c.precondition,d))return p;const v=c.value.clone(),A=G0(c.fieldTransforms,_,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(i,t,n,s):i instanceof ya?function(c,d,p,_){if(!Ih(c.precondition,d))return p;const v=G0(c.fieldTransforms,_,d),A=d.data;return A.setAll(Pb(c)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(M=>M.field))}(i,t,n,s):function(c,d,p){return Ih(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p}(i,t,n)}function UI(i,t){let n=null;for(const s of i.fieldTransforms){const o=t.data.field(s.field),c=Db(s.transform,o||null);c!=null&&(n===null&&(n=Fn.empty()),n.set(s.field,c))}return n||null}function q0(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&yl(s,o,(c,d)=>kI(c,d))}(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class oc extends pf{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ya extends pf{constructor(t,n,s,o,c=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Pb(i){const t=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);t.set(n,s)}}),t}function H0(i,t,n){const s=new Map;ne(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const c=i[o],d=c.transform,p=t.data.field(c.field);s.set(c.field,PI(d,p,n[o]))}return s}function G0(i,t,n){const s=new Map;for(const o of i){const c=o.transform,d=n.data.field(o.field);s.set(o.field,VI(c,d,t))}return s}class kb extends pf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class BI extends pf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&LI(c,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Uu(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Uu(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=Ib();return this.mutations.forEach(o=>{const c=t.get(o.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=n.has(o.key)?null:p;const _=Vb(d,p);_!==null&&s.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(Ot.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Ft())}isEqual(t){return this.batchId===t.batchId&&yl(this.mutations,t.mutations,(n,s)=>q0(n,s))&&yl(this.baseMutations,t.baseMutations,(n,s)=>q0(n,s))}}class tg{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){ne(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=function(){return CI}();const c=t.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,s[d].version);return new tg(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le,Gt;function qI(i){switch(i){case st.OK:return xt(64938);case st.CANCELLED:case st.UNKNOWN:case st.DEADLINE_EXCEEDED:case st.RESOURCE_EXHAUSTED:case st.INTERNAL:case st.UNAVAILABLE:case st.UNAUTHENTICATED:return!1;case st.INVALID_ARGUMENT:case st.NOT_FOUND:case st.ALREADY_EXISTS:case st.PERMISSION_DENIED:case st.FAILED_PRECONDITION:case st.ABORTED:case st.OUT_OF_RANGE:case st.UNIMPLEMENTED:case st.DATA_LOSS:return!0;default:return xt(15467,{code:i})}}function jb(i){if(i===void 0)return hs("GRPC error has no .code"),st.UNKNOWN;switch(i){case Le.OK:return st.OK;case Le.CANCELLED:return st.CANCELLED;case Le.UNKNOWN:return st.UNKNOWN;case Le.DEADLINE_EXCEEDED:return st.DEADLINE_EXCEEDED;case Le.RESOURCE_EXHAUSTED:return st.RESOURCE_EXHAUSTED;case Le.INTERNAL:return st.INTERNAL;case Le.UNAVAILABLE:return st.UNAVAILABLE;case Le.UNAUTHENTICATED:return st.UNAUTHENTICATED;case Le.INVALID_ARGUMENT:return st.INVALID_ARGUMENT;case Le.NOT_FOUND:return st.NOT_FOUND;case Le.ALREADY_EXISTS:return st.ALREADY_EXISTS;case Le.PERMISSION_DENIED:return st.PERMISSION_DENIED;case Le.FAILED_PRECONDITION:return st.FAILED_PRECONDITION;case Le.ABORTED:return st.ABORTED;case Le.OUT_OF_RANGE:return st.OUT_OF_RANGE;case Le.UNIMPLEMENTED:return st.UNIMPLEMENTED;case Le.DATA_LOSS:return st.DATA_LOSS;default:return xt(39323,{code:i})}}(Gt=Le||(Le={}))[Gt.OK=0]="OK",Gt[Gt.CANCELLED=1]="CANCELLED",Gt[Gt.UNKNOWN=2]="UNKNOWN",Gt[Gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Gt[Gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Gt[Gt.NOT_FOUND=5]="NOT_FOUND",Gt[Gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Gt[Gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Gt[Gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Gt[Gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Gt[Gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Gt[Gt.ABORTED=10]="ABORTED",Gt[Gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Gt[Gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Gt[Gt.INTERNAL=13]="INTERNAL",Gt[Gt.UNAVAILABLE=14]="UNAVAILABLE",Gt[Gt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI=new ra([4294967295,4294967295],0);function K0(i){const t=HI().encode(i),n=new ZE;return n.update(t),new Uint8Array(n.digest())}function Y0(i){const t=new DataView(i.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new ra([n,s],0),new ra([o,c],0)]}class eg{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ou(`Invalid padding: ${n}`);if(s<0)throw new Ou(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Ou(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Ou(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=ra.fromNumber(this.ge)}ye(t,n,s){let o=t.add(n.multiply(ra.fromNumber(s)));return o.compare(GI)===1&&(o=new ra([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=K0(t),[s,o]=Y0(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,o,c);if(!this.we(d))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new eg(c,o,n);return s.forEach(p=>d.insert(p)),d}insert(t){if(this.ge===0)return;const n=K0(t),[s,o]=Y0(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,o,c);this.Se(d)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Ou extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(t,n,s,o,c){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,lc.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new gf(Ot.min(),o,new be(zt),fs(),Ft())}}class lc{constructor(t,n,s,o,c){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new lc(s,n,Ft(),Ft(),Ft())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(t,n,s,o){this.be=t,this.removedTargetIds=n,this.key=s,this.De=o}}class Lb{constructor(t,n){this.targetId=t,this.Ce=n}}class Ub{constructor(t,n,s=Kn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class Q0{constructor(){this.ve=0,this.Fe=X0(),this.Me=Kn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ft(),n=Ft(),s=Ft();return this.Fe.forEach((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:xt(38017,{changeType:c})}}),new lc(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=X0()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,ne(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class KI{constructor(t){this.Ge=t,this.ze=new Map,this.je=fs(),this.Je=gh(),this.He=gh(),this.Ye=new be(zt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:xt(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach((s,o)=>{this.rt(o)&&n(o)})}st(t){const n=t.targetId,s=t.Ce.count,o=this.ot(n);if(o){const c=o.target;if(dp(c))if(s===0){const d=new Ct(c.path);this.et(n,d,wn.newNoDocument(d,Ot.min()))}else ne(s===1,20013,{expectedCount:s});else{const d=this._t(n);if(d!==s){const p=this.ut(t),_=p?this.ct(p,t,d):1;if(_!==0){this.it(n);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,v)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=n;let d,p;try{d=ca(s).toUint8Array()}catch(_){if(_ instanceof ub)return gl("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new eg(d,o,c)}catch(_){return gl(_ instanceof Ou?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach(c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(n,c,null),o++)}),o}Tt(t){const n=new Map;this.ze.forEach((c,d)=>{const p=this.ot(d);if(p){if(c.current&&dp(p.target)){const _=new Ct(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,wn.newNoDocument(_,t))}c.Be&&(n.set(d,c.ke()),c.qe())}});let s=Ft();this.He.forEach((c,d)=>{let p=!0;d.forEachWhile(_=>{const v=this.ot(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(s=s.add(c))}),this.je.forEach((c,d)=>d.setReadTime(t));const o=new gf(t,n,this.Ye,this.je,s);return this.je=fs(),this.Je=gh(),this.He=gh(),this.Ye=new be(zt),o}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new Q0,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Ke(zt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Ke(zt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ct("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Q0),this.Ge.getRemoteKeysForTarget(t).forEach(n=>{this.et(t,n,null)})}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function gh(){return new be(Ct.comparator)}function X0(){return new be(Ct.comparator)}const YI={asc:"ASCENDING",desc:"DESCENDING"},QI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XI={and:"AND",or:"OR"};class ZI{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function pp(i,t){return i.useProto3Json||uf(t)?t:{value:t}}function qh(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Bb(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function JI(i,t){return qh(i,t.toTimestamp())}function br(i){return ne(!!i,49232),Ot.fromTimestamp(function(n){const s=ua(n);return new rn(s.seconds,s.nanos)}(i))}function ng(i,t){return gp(i,t).canonicalString()}function gp(i,t){const n=function(o){return new He(["projects",o.projectId,"databases",o.database])}(i).child("documents");return t===void 0?n:n.child(t)}function $b(i){const t=He.fromString(i);return ne(Gb(t),10190,{key:t.toString()}),t}function yp(i,t){return ng(i.databaseId,t.path)}function Vm(i,t){const n=$b(t);if(n.get(1)!==i.databaseId.projectId)throw new pt(st.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new pt(st.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Ct(Fb(n))}function zb(i,t){return ng(i.databaseId,t)}function WI(i){const t=$b(i);return t.length===4?He.emptyPath():Fb(t)}function _p(i){return new He(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Fb(i){return ne(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function Z0(i,t,n){return{name:yp(i,t),fields:n.value.mapValue.fields}}function tC(i,t){let n;if("targetChange"in t){t.targetChange;const s=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:xt(39313,{state:v})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=function(v,A){return v.useProto3Json?(ne(A===void 0||typeof A=="string",58123),Kn.fromBase64String(A||"")):(ne(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Kn.fromUint8Array(A||new Uint8Array))}(i,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&function(v){const A=v.code===void 0?st.UNKNOWN:jb(v.code);return new pt(A,v.message||"")}(d);n=new Ub(s,o,c,p||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Vm(i,s.document.name),c=br(s.document.updateTime),d=s.document.createTime?br(s.document.createTime):Ot.min(),p=new Fn({mapValue:{fields:s.document.fields}}),_=wn.newFoundDocument(o,c,d,p),v=s.targetIds||[],A=s.removedTargetIds||[];n=new Ch(v,A,_.key,_)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Vm(i,s.document),c=s.readTime?br(s.readTime):Ot.min(),d=wn.newNoDocument(o,c),p=s.removedTargetIds||[];n=new Ch([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Vm(i,s.document),c=s.removedTargetIds||[];n=new Ch([],c,o,null)}else{if(!("filter"in t))return xt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,d=new FI(o,c),p=s.targetId;n=new Lb(p,d)}}return n}function eC(i,t){let n;if(t instanceof oc)n={update:Z0(i,t.key,t.value)};else if(t instanceof kb)n={delete:yp(i,t.key)};else if(t instanceof ya)n={update:Z0(i,t.key,t.data),updateMask:cC(t.fieldMask)};else{if(!(t instanceof BI))return xt(16599,{Vt:t.type});n={verify:yp(i,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(c,d){const p=d.transform;if(p instanceof zh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Wu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof tc)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Fh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw xt(20930,{transform:d.transform})}(0,s))),t.precondition.isNone||(n.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:JI(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:xt(27497)}(i,t.precondition)),n}function nC(i,t){return i&&i.length>0?(ne(t!==void 0,14353),i.map(n=>function(o,c){let d=o.updateTime?br(o.updateTime):br(c);return d.isEqual(Ot.min())&&(d=br(c)),new jI(d,o.transformResults||[])}(n,t))):[]}function iC(i,t){return{documents:[zb(i,t.path)]}}function rC(i,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=zb(i,o);const c=function(v){if(v.length!==0)return Hb(Rr.create(v,"and"))}(t.filters);c&&(n.structuredQuery.where=c);const d=function(v){if(v.length!==0)return v.map(A=>function(O){return{field:ll(O.field),direction:oC(O.dir)}}(A))}(t.orderBy);d&&(n.structuredQuery.orderBy=d);const p=pp(i,t.limit);return p!==null&&(n.structuredQuery.limit=p),t.startAt&&(n.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(t.endAt)),{ft:n,parent:o}}function sC(i){let t=WI(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){ne(s===1,65062);const A=n.from[0];A.allDescendants?o=A.collectionId:t=t.child(A.collectionId)}let c=[];n.where&&(c=function(M){const O=qb(M);return O instanceof Rr&&Eb(O)?O.getFilters():[O]}(n.where));let d=[];n.orderBy&&(d=function(M){return M.map(O=>function(U){return new $h(ul(U.field),function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction))}(O))}(n.orderBy));let p=null;n.limit&&(p=function(M){let O;return O=typeof M=="object"?M.value:M,uf(O)?null:O}(n.limit));let _=null;n.startAt&&(_=function(M){const O=!!M.before,L=M.values||[];return new Bh(L,O)}(n.startAt));let v=null;return n.endAt&&(v=function(M){const O=!M.before,L=M.values||[];return new Bh(L,O)}(n.endAt)),wI(t,o,d,c,p,"F",_,v)}function aC(i,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xt(28987,{purpose:o})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function qb(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=ul(n.unaryFilter.field);return Ge.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ul(n.unaryFilter.field);return Ge.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ul(n.unaryFilter.field);return Ge.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ul(n.unaryFilter.field);return Ge.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xt(61313);default:return xt(60726)}}(i):i.fieldFilter!==void 0?function(n){return Ge.create(ul(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xt(58110);default:return xt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Rr.create(n.compositeFilter.filters.map(s=>qb(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return xt(1026)}}(n.compositeFilter.op))}(i):xt(30097,{filter:i})}function oC(i){return YI[i]}function lC(i){return QI[i]}function uC(i){return XI[i]}function ll(i){return{fieldPath:i.canonicalString()}}function ul(i){return Wi.fromServerFormat(i.fieldPath)}function Hb(i){return i instanceof Ge?function(n){if(n.op==="=="){if(L0(n.value))return{unaryFilter:{field:ll(n.field),op:"IS_NAN"}};if(j0(n.value))return{unaryFilter:{field:ll(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(L0(n.value))return{unaryFilter:{field:ll(n.field),op:"IS_NOT_NAN"}};if(j0(n.value))return{unaryFilter:{field:ll(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ll(n.field),op:lC(n.op),value:n.value}}}(i):i instanceof Rr?function(n){const s=n.getFilters().map(o=>Hb(o));return s.length===1?s[0]:{compositeFilter:{op:uC(n.op),filters:s}}}(i):xt(54877,{filter:i})}function cC(i){const t=[];return i.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function Gb(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(t,n,s,o,c=Ot.min(),d=Ot.min(),p=Kn.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(t){return new ea(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new ea(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ea(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ea(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(t){this.yt=t}}function fC(i){const t=sC({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?mp(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(){this.Cn=new mC}addToCollectionParentIndex(t,n){return this.Cn.add(n),et.resolve()}getCollectionParents(t,n){return et.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return et.resolve()}deleteFieldIndex(t,n){return et.resolve()}deleteAllFieldIndexes(t){return et.resolve()}createTargetIndexes(t,n){return et.resolve()}getDocumentsMatchingTarget(t,n){return et.resolve(null)}getIndexType(t,n){return et.resolve(0)}getFieldIndexes(t,n){return et.resolve([])}getNextCollectionGroupToUpdate(t){return et.resolve(null)}getMinOffset(t,n){return et.resolve(la.min())}getMinOffsetFromCollectionGroup(t,n){return et.resolve(la.min())}updateCollectionGroup(t,n,s){return et.resolve()}updateIndexEntries(t,n){return et.resolve()}}class mC{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new Ke(He.comparator),c=!o.has(s);return this.index[n]=o.add(s),c}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Ke(He.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Kb=41943040;class zn{static withCacheSize(t){return new zn(t,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zn.DEFAULT_COLLECTION_PERCENTILE=10,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zn.DEFAULT=new zn(Kb,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zn.DISABLED=new zn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new El(0)}static cr(){return new El(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0="LruGarbageCollector",pC=1048576;function t1([i,t],[n,s]){const o=zt(i,n);return o===0?zt(t,s):o}class gC{constructor(t){this.Ir=t,this.buffer=new Ke(t1),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();t1(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class yC{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ct(W0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){xl(n)?ct(W0,"Ignoring IndexedDB error during garbage collection: ",n):await Rl(n)}await this.Vr(3e5)})}}class _C{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return et.resolve(lf.ce);const s=new gC(n);return this.mr.forEachTarget(t,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(t,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),et.resolve(J0)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),J0):this.yr(t,n))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,o,c,d,p,_,v;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),o=this.params.maximumSequenceNumbersToCollect):o=M,d=Date.now(),this.nthSequenceNumber(t,o))).next(M=>(s=M,p=Date.now(),this.removeTargets(t,s,n))).next(M=>(c=M,_=Date.now(),this.removeOrphanedDocuments(t,s))).next(M=>(v=Date.now(),sl()<=Yt.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${M} documents in `+(v-_)+`ms
Total Duration: ${v-A}ms`),et.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:M})))}}function vC(i,t){return new _C(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(){this.changes=new So(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,wn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?et.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(s!==null&&Uu(s.mutation,o,ci.empty(),rn.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,Ft()).next(()=>s))}getLocalViewOfDocuments(t,n,s=Ft()){const o=so();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,s).next(c=>{let d=Nu();return c.forEach((p,_)=>{d=d.insert(p,_.overlayedDocument)}),d}))}getOverlayedDocuments(t,n){const s=so();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,Ft()))}populateOverlays(t,n,s){const o=[];return s.forEach(c=>{n.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(t,o).next(c=>{c.forEach((d,p)=>{n.set(d,p)})})}computeViews(t,n,s,o){let c=fs();const d=Lu(),p=function(){return Lu()}();return n.forEach((_,v)=>{const A=s.get(v.key);o.has(v.key)&&(A===void 0||A.mutation instanceof ya)?c=c.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),Uu(A.mutation,v,A.mutation.getFieldMask(),rn.now())):d.set(v.key,ci.empty())}),this.recalculateAndSaveOverlays(t,c).next(_=>(_.forEach((v,A)=>d.set(v,A)),n.forEach((v,A)=>p.set(v,new bC(A,d.get(v)??null))),p))}recalculateAndSaveOverlays(t,n){const s=Lu();let o=new be((d,p)=>d-p),c=Ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(d=>{for(const p of d)p.keys().forEach(_=>{const v=n.get(_);if(v===null)return;let A=s.get(_)||ci.empty();A=p.applyToLocalView(v,A),s.set(_,A);const M=(o.get(p.batchId)||Ft()).add(_);o=o.insert(p.batchId,M)})}).next(()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),v=_.key,A=_.value,M=Ib();A.forEach(O=>{if(!c.has(O)){const L=Vb(n.get(O),s.get(O));L!==null&&M.set(O,L),c=c.add(O)}}),d.push(this.documentOverlayCache.saveOverlays(t,v,M))}return et.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,o){return function(d){return Ct.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):SI(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next(c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-c.size):et.resolve(so());let p=Xu,_=c;return d.next(v=>et.forEach(v,(A,M)=>(p<M.largestBatchId&&(p=M.largestBatchId),c.get(A)?et.resolve():this.remoteDocumentCache.getEntry(t,A).next(O=>{_=_.insert(A,O)}))).next(()=>this.populateOverlays(t,v,c)).next(()=>this.computeViews(t,_,v,Ft())).next(A=>({batchId:p,changes:xb(A)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Ct(n)).next(s=>{let o=Nu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const c=n.collectionGroup;let d=Nu();return this.indexManager.getCollectionParents(t,c).next(p=>et.forEach(p,_=>{const v=function(M,O){return new hf(O,null,M.explicitOrderBy.slice(),M.filters.slice(),M.limit,M.limitType,M.startAt,M.endAt)}(n,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,v,s,o).next(A=>{A.forEach((M,O)=>{d=d.insert(M,O)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(t,n,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,c,o))).next(d=>{c.forEach((_,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,wn.newInvalidDocument(A)))});let p=Nu();return d.forEach((_,v)=>{const A=c.get(_);A!==void 0&&Uu(A.mutation,v,ci.empty(),rn.now()),df(n,v)&&(p=p.insert(_,v))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return et.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:br(o.createTime)}}(n)),et.resolve()}getNamedQuery(t,n){return et.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,function(o){return{name:o.name,query:fC(o.bundledQuery),readTime:br(o.readTime)}}(n)),et.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(){this.overlays=new be(Ct.comparator),this.qr=new Map}getOverlay(t,n){return et.resolve(this.overlays.get(n))}getOverlays(t,n){const s=so();return et.forEach(n,o=>this.getOverlay(t,o).next(c=>{c!==null&&s.set(o,c)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((o,c)=>{this.St(t,n,c)}),et.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.qr.delete(s)),et.resolve()}getOverlaysForCollection(t,n,s){const o=so(),c=n.length+1,d=new Ct(n.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,v=_.getKey();if(!n.isPrefixOf(v.path))break;v.path.length===c&&_.largestBatchId>s&&o.set(_.getKey(),_)}return et.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let c=new be((v,A)=>v-A);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===n&&v.largestBatchId>s){let A=c.get(v.largestBatchId);A===null&&(A=so(),c=c.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const p=so(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,A)=>p.set(v,A)),!(p.size()>=o)););return et.resolve(p)}St(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new zI(n,s));let c=this.qr.get(n);c===void 0&&(c=Ft(),this.qr.set(n,c)),this.qr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(){this.sessionToken=Kn.EMPTY_BYTE_STRING}getSessionToken(t){return et.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,et.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(){this.Qr=new Ke(nn.$r),this.Ur=new Ke(nn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new nn(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.Gr(new nn(t,n))}zr(t,n){t.forEach(s=>this.removeReference(s,n))}jr(t){const n=new Ct(new He([])),s=new nn(n,t),o=new nn(n,t+1),c=[];return this.Ur.forEachInRange([s,o],d=>{this.Gr(d),c.push(d.key)}),c}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new Ct(new He([])),s=new nn(n,t),o=new nn(n,t+1);let c=Ft();return this.Ur.forEachInRange([s,o],d=>{c=c.add(d.key)}),c}containsKey(t){const n=new nn(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class nn{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return Ct.comparator(t.key,n.key)||zt(t.Yr,n.Yr)}static Kr(t,n){return zt(t.Yr,n.Yr)||Ct.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ke(nn.$r)}checkEmpty(t){return et.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new $I(c,n,s,o);this.mutationQueue.push(d);for(const p of o)this.Zr=this.Zr.add(new nn(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return et.resolve(d)}lookupMutationBatch(t,n){return et.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.ei(s),c=o<0?0:o;return et.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(this.mutationQueue.length===0?Kp:this.tr-1)}getAllMutationBatches(t){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new nn(n,0),o=new nn(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,o],d=>{const p=this.Xr(d.Yr);c.push(p)}),et.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Ke(zt);return n.forEach(o=>{const c=new nn(o,0),d=new nn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],p=>{s=s.add(p.Yr)})}),et.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let c=s;Ct.isDocumentKey(c)||(c=c.child(""));const d=new nn(new Ct(c),0);let p=new Ke(zt);return this.Zr.forEachWhile(_=>{const v=_.key.path;return!!s.isPrefixOf(v)&&(v.length===o&&(p=p.add(_.Yr)),!0)},d),et.resolve(this.ti(p))}ti(t){const n=[];return t.forEach(s=>{const o=this.Xr(s);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){ne(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return et.forEach(n.mutations,o=>{const c=new nn(o.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Zr=s})}ir(t){}containsKey(t,n){const s=new nn(n,0),o=this.Zr.firstAfterOrEqual(s);return et.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,et.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(t){this.ri=t,this.docs=function(){return new be(Ct.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),c=o?o.size:0,d=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return et.resolve(s?s.document.mutableCopy():wn.newInvalidDocument(n))}getEntries(t,n){let s=fs();return n.forEach(o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():wn.newInvalidDocument(o))}),et.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let c=fs();const d=n.path,p=new Ct(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:v,value:{document:A}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||eI(tI(A),s)<=0||(o.has(A.key)||df(n,A))&&(c=c.insert(A.key,A.mutableCopy()))}return et.resolve(c)}getAllFromCollectionGroup(t,n,s,o){xt(9500)}ii(t,n){return et.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new IC(this)}getSize(t){return et.resolve(this.size)}}class IC extends EC{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)}),et.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(t){this.persistence=t,this.si=new So(n=>Xp(n),Zp),this.lastRemoteSnapshotVersion=Ot.min(),this.highestTargetId=0,this.oi=0,this._i=new ig,this.targetCount=0,this.ai=El.ur()}forEachTarget(t,n){return this.si.forEach((s,o)=>n(o)),et.resolve()}getLastRemoteSnapshotVersion(t){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return et.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),et.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new El(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,et.resolve()}updateTargetData(t,n){return this.Pr(n),et.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,et.resolve()}removeTargets(t,n,s){let o=0;const c=[];return this.si.forEach((d,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),o++)}),et.waitFor(c).next(()=>o)}getTargetCount(t){return et.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return et.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),et.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach(d=>{c.push(o.markPotentiallyOrphaned(t,d))}),et.waitFor(c)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),et.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return et.resolve(s)}containsKey(t,n){return et.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(t,n){this.ui={},this.overlays={},this.ci=new lf(0),this.li=!1,this.li=!0,this.hi=new AC,this.referenceDelegate=t(this),this.Pi=new CC(this),this.indexManager=new dC,this.remoteDocumentCache=function(o){return new xC(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new hC(n),this.Ii=new wC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new SC,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new RC(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){ct("MemoryPersistence","Starting transaction:",t);const o=new DC(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(c=>this.referenceDelegate.di(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}Ai(t,n){return et.or(Object.values(this.ui).map(s=>()=>s.containsKey(t,n)))}}class DC extends iI{constructor(t){super(),this.currentSequenceNumber=t}}class rg{constructor(t){this.persistence=t,this.Ri=new ig,this.Vi=null}static mi(t){return new rg(t)}get fi(){if(this.Vi)return this.Vi;throw xt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),et.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),et.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),et.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(c=>this.fi.add(c.toString()))}).next(()=>s.removeTargetData(t,n))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.fi,s=>{const o=Ct.fromPath(s);return this.gi(t,o).next(c=>{c||n.removeEntry(o,Ot.min())})}).next(()=>(this.Vi=null,n.apply(t)))}updateLimboDocument(t,n){return this.gi(t,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(t){return 0}gi(t,n){return et.or([()=>et.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Hh{constructor(t,n){this.persistence=t,this.pi=new So(s=>aI(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=vC(this,n)}static mi(t,n){return new Hh(t,n)}Ei(){}di(t){return et.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(o=>s+o))}wr(t){let n=0;return this.pr(t,s=>{n++}).next(()=>n)}pr(t,n){return et.forEach(this.pi,(s,o)=>this.br(t,s,o).next(c=>c?et.resolve():n(o)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(t,d=>this.br(t,d,n).next(p=>{p||(s++,c.removeEntry(d,Ot.min()))})).next(()=>c.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),et.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),et.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),et.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),et.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Rh(t.data.value)),n}br(t,n,s){return et.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return et.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=o}static As(t,n){let s=Ft(),o=Ft();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new sg(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return AR()?8:rI(TR())>0?6:4}()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,o){const c={result:null};return this.ys(t,n).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.ws(t,n,o,s).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new NC;return this.Ss(t,n,d).next(p=>{if(c.result=p,this.Vs)return this.bs(t,n,d,p.size)})}).next(()=>c.result)}bs(t,n,s,o){return s.documentReadCount<this.fs?(sl()<=Yt.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",ol(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),et.resolve()):(sl()<=Yt.DEBUG&&ct("QueryEngine","Query:",ol(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(sl()<=Yt.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",ol(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,vr(n))):et.resolve())}ys(t,n){if(z0(n))return et.resolve(null);let s=vr(n);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=mp(n,null,"F"),s=vr(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(c=>{const d=Ft(...c);return this.ps.getDocuments(t,d).next(p=>this.indexManager.getMinOffset(t,s).next(_=>{const v=this.Ds(n,p);return this.Cs(n,v,d,_.readTime)?this.ys(t,mp(n,null,"F")):this.vs(t,v,n,_)}))})))}ws(t,n,s,o){return z0(n)||o.isEqual(Ot.min())?et.resolve(null):this.ps.getDocuments(t,s).next(c=>{const d=this.Ds(n,c);return this.Cs(n,d,s,o)?et.resolve(null):(sl()<=Yt.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ol(n)),this.vs(t,d,n,Wx(o,Xu)).next(p=>p))})}Ds(t,n){let s=new Ke(Ab(t));return n.forEach((o,c)=>{df(t,c)&&(s=s.add(c))}),s}Cs(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const c=t.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(t,n,s){return sl()<=Yt.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",ol(n)),this.ps.getDocumentsMatchingQuery(t,n,la.min(),s)}vs(t,n,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next(c=>(n.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag="LocalStore",MC=3e8;class VC{constructor(t,n,s,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new be(zt),this.xs=new So(c=>Xp(c),Zp),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new TC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ms))}}function PC(i,t,n,s){return new VC(i,t,n,s)}async function Qb(i,t){const n=Mt(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(c=>(o=c,n.Bs(t),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const d=[],p=[];let _=Ft();for(const v of o){d.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}for(const v of c){p.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}return n.localDocuments.getDocuments(s,_).next(v=>({Ls:v,removedBatchIds:d,addedBatchIds:p}))})})}function kC(i,t){const n=Mt(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return function(p,_,v,A){const M=v.batch,O=M.keys();let L=et.resolve();return O.forEach(U=>{L=L.next(()=>A.getEntry(_,U)).next(G=>{const $=v.docVersions.get(U);ne($!==null,48541),G.version.compareTo($)<0&&(M.applyToRemoteDocument(G,v),G.isValidDocument()&&(G.setReadTime(v.commitVersion),A.addEntry(G)))})}),L.next(()=>p.mutationQueue.removeMutationBatch(_,M))}(n,s,t,c).next(()=>c.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(p){let _=Ft();for(let v=0;v<p.mutationResults.length;++v)p.mutationResults[v].transformResults.length>0&&(_=_.add(p.batch.mutations[v].key));return _}(t))).next(()=>n.localDocuments.getDocuments(s,o))})}function Xb(i){const t=Mt(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Pi.getLastRemoteSnapshotVersion(n))}function jC(i,t){const n=Mt(i),s=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const p=[];t.targetChanges.forEach((A,M)=>{const O=o.get(M);if(!O)return;p.push(n.Pi.removeMatchingKeys(c,A.removedDocuments,M).next(()=>n.Pi.addMatchingKeys(c,A.addedDocuments,M)));let L=O.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(M)!==null?L=L.withResumeToken(Kn.EMPTY_BYTE_STRING,Ot.min()).withLastLimboFreeSnapshotVersion(Ot.min()):A.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(A.resumeToken,s)),o=o.insert(M,L),function(G,$,Q){return G.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=MC?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0}(O,L,A)&&p.push(n.Pi.updateTargetData(c,L))});let _=fs(),v=Ft();if(t.documentUpdates.forEach(A=>{t.resolvedLimboDocuments.has(A)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(c,A))}),p.push(LC(c,d,t.documentUpdates).next(A=>{_=A.ks,v=A.qs})),!s.isEqual(Ot.min())){const A=n.Pi.getLastRemoteSnapshotVersion(c).next(M=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s));p.push(A)}return et.waitFor(p).next(()=>d.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,_,v)).next(()=>_)}).then(c=>(n.Ms=o,c))}function LC(i,t,n){let s=Ft(),o=Ft();return n.forEach(c=>s=s.add(c)),t.getEntries(i,s).next(c=>{let d=fs();return n.forEach((p,_)=>{const v=c.get(p);_.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(p)),_.isNoDocument()&&_.version.isEqual(Ot.min())?(t.removeEntry(p,_.readTime),d=d.insert(p,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(_),d=d.insert(p,_)):ct(ag,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",_.version)}),{ks:d,qs:o}})}function UC(i,t){const n=Mt(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=Kp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function BC(i,t){const n=Mt(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Pi.getTargetData(s,t).next(c=>c?(o=c,et.resolve(o)):n.Pi.allocateTargetId(s).next(d=>(o=new ea(t,d,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s})}async function vp(i,t,n){const s=Mt(i),o=s.Ms.get(t),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,d=>s.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!xl(d))throw d;ct(ag,`Failed to update sequence numbers for target ${t}: ${d}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function e1(i,t,n){const s=Mt(i);let o=Ot.min(),c=Ft();return s.persistence.runTransaction("Execute query","readwrite",d=>function(_,v,A){const M=Mt(_),O=M.xs.get(A);return O!==void 0?et.resolve(M.Ms.get(O)):M.Pi.getTargetData(v,A)}(s,d,vr(t)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,p.targetId).next(_=>{c=_})}).next(()=>s.Fs.getDocumentsMatchingQuery(d,t,n?o:Ot.min(),n?c:Ft())).next(p=>($C(s,RI(t),p),{documents:p,Qs:c})))}function $C(i,t,n){let s=i.Os.get(t)||Ot.min();n.forEach((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),i.Os.set(t,s)}class n1{constructor(){this.activeTargetIds=OI()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class zC{constructor(){this.Mo=new n1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new n1,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1="ConnectivityMonitor";class r1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ct(i1,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ct(i1,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yh=null;function Ep(){return yh===null?yh=function(){return 268435456+Math.round(2147483648*Math.random())}():yh++,"0x"+yh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm="RestConnection",qC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class HC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Lh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,n,s,o,c){const d=Ep(),p=this.zo(t,n.toUriEncodedString());ct(Pm,`Sending RPC '${t}' ${d}:`,p,s);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,o,c);const{host:v}=new URL(p),A=sc(v);return this.Jo(t,p,_,s,A).then(M=>(ct(Pm,`Received RPC '${t}' ${d}: `,M),M),M=>{throw gl(Pm,`RPC '${t}' ${d} failed with error: `,M,"url: ",p,"request:",s),M})}Ho(t,n,s,o,c,d){return this.Go(t,n,s,o,c)}jo(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Al}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,c)=>t[c]=o),s&&s.headers.forEach((o,c)=>t[c]=o)}zo(t,n){const s=qC[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bn="WebChannelConnection";class KC extends HC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,o,c){const d=Ep();return new Promise((p,_)=>{const v=new JE;v.setWithCredentials(!0),v.listenOnce(WE.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case Sh.NO_ERROR:const M=v.getResponseJson();ct(bn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(M)),p(M);break;case Sh.TIMEOUT:ct(bn,`RPC '${t}' ${d} timed out`),_(new pt(st.DEADLINE_EXCEEDED,"Request time out"));break;case Sh.HTTP_ERROR:const O=v.getStatus();if(ct(bn,`RPC '${t}' ${d} failed with status:`,O,"response text:",v.getResponseText()),O>0){let L=v.getResponseJson();Array.isArray(L)&&(L=L[0]);const U=L?.error;if(U&&U.status&&U.message){const G=function(Q){const at=Q.toLowerCase().replace(/_/g,"-");return Object.values(st).indexOf(at)>=0?at:st.UNKNOWN}(U.status);_(new pt(G,U.message))}else _(new pt(st.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new pt(st.UNAVAILABLE,"Connection failed."));break;default:xt(9055,{l_:t,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{ct(bn,`RPC '${t}' ${d} completed.`)}});const A=JSON.stringify(o);ct(bn,`RPC '${t}' ${d} sending request:`,o),v.send(n,"POST",A,s,15)})}T_(t,n,s){const o=Ep(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=nb(),p=eb(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,n,s),_.encodeInitMessageHeaders=!0;const A=c.join("");ct(bn,`Creating RPC '${t}' stream ${o}: ${A}`,_);const M=d.createWebChannel(A,_);this.I_(M);let O=!1,L=!1;const U=new GC({Yo:$=>{L?ct(bn,`Not sending because RPC '${t}' stream ${o} is closed:`,$):(O||(ct(bn,`Opening RPC '${t}' stream ${o} transport.`),M.open(),O=!0),ct(bn,`RPC '${t}' stream ${o} sending:`,$),M.send($))},Zo:()=>M.close()}),G=($,Q,at)=>{$.listen(Q,rt=>{try{at(rt)}catch(ut){setTimeout(()=>{throw ut},0)}})};return G(M,Cu.EventType.OPEN,()=>{L||(ct(bn,`RPC '${t}' stream ${o} transport opened.`),U.o_())}),G(M,Cu.EventType.CLOSE,()=>{L||(L=!0,ct(bn,`RPC '${t}' stream ${o} transport closed`),U.a_(),this.E_(M))}),G(M,Cu.EventType.ERROR,$=>{L||(L=!0,gl(bn,`RPC '${t}' stream ${o} transport errored. Name:`,$.name,"Message:",$.message),U.a_(new pt(st.UNAVAILABLE,"The operation could not be completed")))}),G(M,Cu.EventType.MESSAGE,$=>{if(!L){const Q=$.data[0];ne(!!Q,16349);const at=Q,rt=at?.error||at[0]?.error;if(rt){ct(bn,`RPC '${t}' stream ${o} received error:`,rt);const ut=rt.status;let ht=function(E){const w=Le[E];if(w!==void 0)return jb(w)}(ut),vt=rt.message;ht===void 0&&(ht=st.INTERNAL,vt="Unknown error status: "+ut+" with message "+rt.message),L=!0,U.a_(new pt(ht,vt)),M.close()}else ct(bn,`RPC '${t}' stream ${o} received:`,Q),U.u_(Q)}}),G(p,tb.STAT_EVENT,$=>{$.stat===ap.PROXY?ct(bn,`RPC '${t}' stream ${o} detected buffering proxy`):$.stat===ap.NOPROXY&&ct(bn,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{U.__()},0),U}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(n=>n===t)}}function km(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yf(i){return new ZI(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zb=class{constructor(t,n,s=1e3,o=1.5,c=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ct("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1="PersistentStream";class Jb{constructor(t,n,s,o,c,d,p,_){this.Mi=t,this.S_=s,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Zb(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===st.RESOURCE_EXHAUSTED?(hs(n.toString()),hs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===st.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===n&&this.G_(s,o)},s=>{t(()=>{const o=new pt(st.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return ct(s1,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget(()=>this.D_===t?n():(ct(s1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class YC extends Jb{constructor(t,n,s,o,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,d),this.serializer=c}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=tC(this.serializer,t),s=function(c){if(!("targetChange"in c))return Ot.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Ot.min():d.readTime?br(d.readTime):Ot.min()}(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=_p(this.serializer),n.addTarget=function(c,d){let p;const _=d.target;if(p=dp(_)?{documents:iC(c,_)}:{query:rC(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=Bb(c,d.resumeToken);const v=pp(c,d.expectedCount);v!==null&&(p.expectedCount=v)}else if(d.snapshotVersion.compareTo(Ot.min())>0){p.readTime=qh(c,d.snapshotVersion.toTimestamp());const v=pp(c,d.expectedCount);v!==null&&(p.expectedCount=v)}return p}(this.serializer,t);const s=aC(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=_p(this.serializer),n.removeTarget=t,this.q_(n)}}class QC extends Jb{constructor(t,n,s,o,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return ne(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ne(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){ne(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=nC(t.writeResults,t.commitTime),s=br(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=_p(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>eC(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{}class ZC extends XC{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new pt(st.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Go(t,gp(n,s),o,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new pt(st.UNKNOWN,c.toString())})}Ho(t,n,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,p])=>this.connection.Ho(t,gp(n,s),o,d,p,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new pt(st.UNKNOWN,d.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class JC{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(hs(n),this.aa=!1):ct("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po="RemoteStore";class WC{constructor(t,n,s,o,c){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo(d=>{s.enqueueAndForget(async()=>{Ao(this)&&(ct(po,"Restarting streams for network reachability change."),await async function(_){const v=Mt(_);v.Ea.add(4),await uc(v),v.Ra.set("Unknown"),v.Ea.delete(4),await _f(v)}(this))})}),this.Ra=new JC(s,o)}}async function _f(i){if(Ao(i))for(const t of i.da)await t(!0)}async function uc(i){for(const t of i.da)await t(!1)}function Wb(i,t){const n=Mt(i);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),cg(n)?ug(n):Il(n).O_()&&lg(n,t))}function og(i,t){const n=Mt(i),s=Il(n);n.Ia.delete(t),s.O_()&&tT(n,t),n.Ia.size===0&&(s.O_()?s.L_():Ao(n)&&n.Ra.set("Unknown"))}function lg(i,t){if(i.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ot.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Il(i).Y_(t)}function tT(i,t){i.Va.Ue(t),Il(i).Z_(t)}function ug(i){i.Va=new KI({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),At:t=>i.Ia.get(t)||null,ht:()=>i.datastore.serializer.databaseId}),Il(i).start(),i.Ra.ua()}function cg(i){return Ao(i)&&!Il(i).x_()&&i.Ia.size>0}function Ao(i){return Mt(i).Ea.size===0}function eT(i){i.Va=void 0}async function tD(i){i.Ra.set("Online")}async function eD(i){i.Ia.forEach((t,n)=>{lg(i,t)})}async function nD(i,t){eT(i),cg(i)?(i.Ra.ha(t),ug(i)):i.Ra.set("Unknown")}async function iD(i,t,n){if(i.Ra.set("Online"),t instanceof Ub&&t.state===2&&t.cause)try{await async function(o,c){const d=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.Va.removeTarget(p))}(i,t)}catch(s){ct(po,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Gh(i,s)}else if(t instanceof Ch?i.Va.Ze(t):t instanceof Lb?i.Va.st(t):i.Va.tt(t),!n.isEqual(Ot.min()))try{const s=await Xb(i.localStore);n.compareTo(s)>=0&&await function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const A=c.Ia.get(v);A&&c.Ia.set(v,A.withResumeToken(_.resumeToken,d))}}),p.targetMismatches.forEach((_,v)=>{const A=c.Ia.get(_);if(!A)return;c.Ia.set(_,A.withResumeToken(Kn.EMPTY_BYTE_STRING,A.snapshotVersion)),tT(c,_);const M=new ea(A.target,_,v,A.sequenceNumber);lg(c,M)}),c.remoteSyncer.applyRemoteEvent(p)}(i,n)}catch(s){ct(po,"Failed to raise snapshot:",s),await Gh(i,s)}}async function Gh(i,t,n){if(!xl(t))throw t;i.Ea.add(1),await uc(i),i.Ra.set("Offline"),n||(n=()=>Xb(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ct(po,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await _f(i)})}function nT(i,t){return t().catch(n=>Gh(i,n,t))}async function vf(i){const t=Mt(i),n=fa(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Kp;for(;rD(t);)try{const o=await UC(t.localStore,s);if(o===null){t.Ta.length===0&&n.L_();break}s=o.batchId,sD(t,o)}catch(o){await Gh(t,o)}iT(t)&&rT(t)}function rD(i){return Ao(i)&&i.Ta.length<10}function sD(i,t){i.Ta.push(t);const n=fa(i);n.O_()&&n.X_&&n.ea(t.mutations)}function iT(i){return Ao(i)&&!fa(i).x_()&&i.Ta.length>0}function rT(i){fa(i).start()}async function aD(i){fa(i).ra()}async function oD(i){const t=fa(i);for(const n of i.Ta)t.ea(n.mutations)}async function lD(i,t,n){const s=i.Ta.shift(),o=tg.from(s,t,n);await nT(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await vf(i)}async function uD(i,t){t&&fa(i).X_&&await async function(s,o){if(function(d){return qI(d)&&d!==st.ABORTED}(o.code)){const c=s.Ta.shift();fa(s).B_(),await nT(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o)),await vf(s)}}(i,t),iT(i)&&rT(i)}async function a1(i,t){const n=Mt(i);n.asyncQueue.verifyOperationInProgress(),ct(po,"RemoteStore received new credentials");const s=Ao(n);n.Ea.add(3),await uc(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await _f(n)}async function cD(i,t){const n=Mt(i);t?(n.Ea.delete(2),await _f(n)):t||(n.Ea.add(2),await uc(n),n.Ra.set("Unknown"))}function Il(i){return i.ma||(i.ma=function(n,s,o){const c=Mt(n);return c.sa(),new YC(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(i.datastore,i.asyncQueue,{Xo:tD.bind(null,i),t_:eD.bind(null,i),r_:nD.bind(null,i),H_:iD.bind(null,i)}),i.da.push(async t=>{t?(i.ma.B_(),cg(i)?ug(i):i.Ra.set("Unknown")):(await i.ma.stop(),eT(i))})),i.ma}function fa(i){return i.fa||(i.fa=function(n,s,o){const c=Mt(n);return c.sa(),new QC(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:aD.bind(null,i),r_:uD.bind(null,i),ta:oD.bind(null,i),na:lD.bind(null,i)}),i.da.push(async t=>{t?(i.fa.B_(),await vf(i)):(await i.fa.stop(),i.Ta.length>0&&(ct(po,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))})),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hD=class sT{constructor(t,n,s,o,c){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new sa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,c){const d=Date.now()+s,p=new sT(t,n,d,o,c);return p.start(s),p}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pt(st.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function hg(i,t){if(hs("AsyncQueue",`${t}: ${i}`),xl(i))return new pt(st.UNAVAILABLE,`${t}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{static emptySet(t){return new hl(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||Ct.comparator(n.key,s.key):(n,s)=>Ct.comparator(n.key,s.key),this.keyedMap=Nu(),this.sortedSet=new be(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof hl)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new hl;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(){this.ga=new be(Ct.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):xt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal((n,s)=>{t.push(s)}),t}}class bl{constructor(t,n,s,o,c,d,p,_,v){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(t,n,s,o,c){const d=[];return n.forEach(p=>{d.push({type:0,doc:p})}),new bl(t,n,hl.emptySet(n),d,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ff(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class dD{constructor(){this.queries=l1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Mt(n),c=o.queries;o.queries=l1(),c.forEach((d,p)=>{for(const _ of p.Sa)_.onError(s)})})(this,new pt(st.ABORTED,"Firestore shutting down"))}}function l1(){return new So(i=>Sb(i),ff)}async function mD(i,t){const n=Mt(i);let s=3;const o=t.query;let c=n.queries.get(o);c?!c.ba()&&t.Da()&&(s=2):(c=new fD,s=t.Da()?0:1);try{switch(s){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(d){const p=hg(d,`Initialization of query '${ol(t.query)}' failed`);return void t.onError(p)}n.queries.set(o,c),c.Sa.push(t),t.va(n.onlineState),c.wa&&t.Fa(c.wa)&&fg(n)}async function pD(i,t){const n=Mt(i),s=t.query;let o=3;const c=n.queries.get(s);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=t.Da()?0:1:!c.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function gD(i,t){const n=Mt(i);let s=!1;for(const o of t){const c=o.query,d=n.queries.get(c);if(d){for(const p of d.Sa)p.Fa(o)&&(s=!0);d.wa=o}}s&&fg(n)}function yD(i,t,n){const s=Mt(i),o=s.queries.get(t);if(o)for(const c of o.Sa)c.onError(n);s.queries.delete(t)}function fg(i){i.Ca.forEach(t=>{t.next()})}var bp,u1;(u1=bp||(bp={})).Ma="default",u1.Cache="cache";class _D{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new bl(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=bl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==bp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(t){this.key=t}}class oT{constructor(t){this.key=t}}class vD{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ft(),this.mutatedKeys=Ft(),this.eu=Ab(t),this.tu=new hl(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new o1,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,d=o,p=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((A,M)=>{const O=o.get(A),L=df(this.query,M)?M:null,U=!!O&&this.mutatedKeys.has(O.key),G=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let $=!1;O&&L?O.data.isEqual(L.data)?U!==G&&(s.track({type:3,doc:L}),$=!0):this.su(O,L)||(s.track({type:2,doc:L}),$=!0,(_&&this.eu(L,_)>0||v&&this.eu(L,v)<0)&&(p=!0)):!O&&L?(s.track({type:0,doc:L}),$=!0):O&&!L&&(s.track({type:1,doc:O}),$=!0,(_||v)&&(p=!0)),$&&(L?(d=d.add(L),c=G?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),s.track({type:1,doc:A})}return{tu:d,iu:s,Cs:p,mutatedKeys:c}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort((A,M)=>function(L,U){const G=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xt(20277,{Rt:$})}};return G(L)-G(U)}(A.type,M.type)||this.eu(A.doc,M.doc)),this.ou(s),o=o??!1;const p=n&&!o?this._u():[],_=this.Xa.size===0&&this.current&&!o?1:0,v=_!==this.Za;return this.Za=_,d.length!==0||v?{snapshot:new bl(this.query,t.tu,c,d,t.mutatedKeys,_===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new o1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ft(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return t.forEach(s=>{this.Xa.has(s)||n.push(new oT(s))}),this.Xa.forEach(s=>{t.has(s)||n.push(new aT(s))}),n}cu(t){this.Ya=t.Qs,this.Xa=Ft();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return bl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const dg="SyncEngine";class ED{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class bD{constructor(t){this.key=t,this.hu=!1}}class TD{constructor(t,n,s,o,c,d){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new So(p=>Sb(p),ff),this.Iu=new Map,this.Eu=new Set,this.du=new be(Ct.comparator),this.Au=new Map,this.Ru=new ig,this.Vu={},this.mu=new Map,this.fu=El.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function wD(i,t,n=!0){const s=dT(i);let o;const c=s.Tu.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await lT(s,t,n,!0),o}async function SD(i,t){const n=dT(i);await lT(n,t,!0,!1)}async function lT(i,t,n,s){const o=await BC(i.localStore,vr(t)),c=o.targetId,d=i.sharedClientState.addLocalQueryTarget(c,n);let p;return s&&(p=await AD(i,t,c,d==="current",o.resumeToken)),i.isPrimaryClient&&n&&Wb(i.remoteStore,o),p}async function AD(i,t,n,s,o){i.pu=(M,O,L)=>async function(G,$,Q,at){let rt=$.view.ru(Q);rt.Cs&&(rt=await e1(G.localStore,$.query,!1).then(({documents:C})=>$.view.ru(C,rt)));const ut=at&&at.targetChanges.get($.targetId),ht=at&&at.targetMismatches.get($.targetId)!=null,vt=$.view.applyChanges(rt,G.isPrimaryClient,ut,ht);return h1(G,$.targetId,vt.au),vt.snapshot}(i,M,O,L);const c=await e1(i.localStore,t,!0),d=new vD(t,c.Qs),p=d.ru(c.documents),_=lc.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),v=d.applyChanges(p,i.isPrimaryClient,_);h1(i,n,v.au);const A=new ED(t,n,d);return i.Tu.set(t,A),i.Iu.has(n)?i.Iu.get(n).push(t):i.Iu.set(n,[t]),v.snapshot}async function RD(i,t,n){const s=Mt(i),o=s.Tu.get(t),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter(d=>!ff(d,t))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await vp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&og(s.remoteStore,o.targetId),Tp(s,o.targetId)}).catch(Rl)):(Tp(s,o.targetId),await vp(s.localStore,o.targetId,!0))}async function xD(i,t){const n=Mt(i),s=n.Tu.get(t),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),og(n.remoteStore,s.targetId))}async function ID(i,t,n){const s=PD(i);try{const o=await function(d,p){const _=Mt(d),v=rn.now(),A=p.reduce((L,U)=>L.add(U.key),Ft());let M,O;return _.persistence.runTransaction("Locally write mutations","readwrite",L=>{let U=fs(),G=Ft();return _.Ns.getEntries(L,A).next($=>{U=$,U.forEach((Q,at)=>{at.isValidDocument()||(G=G.add(Q))})}).next(()=>_.localDocuments.getOverlayedDocuments(L,U)).next($=>{M=$;const Q=[];for(const at of p){const rt=UI(at,M.get(at.key).overlayedDocument);rt!=null&&Q.push(new ya(at.key,rt,yb(rt.value.mapValue),Er.exists(!0)))}return _.mutationQueue.addMutationBatch(L,v,Q,p)}).next($=>{O=$;const Q=$.applyToLocalDocumentSet(M,G);return _.documentOverlayCache.saveOverlays(L,$.batchId,Q)})}).then(()=>({batchId:O.batchId,changes:xb(M)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(d,p,_){let v=d.Vu[d.currentUser.toKey()];v||(v=new be(zt)),v=v.insert(p,_),d.Vu[d.currentUser.toKey()]=v}(s,o.batchId,n),await cc(s,o.changes),await vf(s.remoteStore)}catch(o){const c=hg(o,"Failed to persist write");n.reject(c)}}async function uT(i,t){const n=Mt(i);try{const s=await jC(n.localStore,t);t.targetChanges.forEach((o,c)=>{const d=n.Au.get(c);d&&(ne(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?ne(d.hu,14607):o.removedDocuments.size>0&&(ne(d.hu,42227),d.hu=!1))}),await cc(n,s,t)}catch(s){await Rl(s)}}function c1(i,t,n){const s=Mt(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach((c,d)=>{const p=d.view.va(t);p.snapshot&&o.push(p.snapshot)}),function(d,p){const _=Mt(d);_.onlineState=p;let v=!1;_.queries.forEach((A,M)=>{for(const O of M.Sa)O.va(p)&&(v=!0)}),v&&fg(_)}(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function CD(i,t,n){const s=Mt(i);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Au.get(t),c=o&&o.key;if(c){let d=new be(Ct.comparator);d=d.insert(c,wn.newNoDocument(c,Ot.min()));const p=Ft().add(c),_=new gf(Ot.min(),new Map,new be(zt),d,p);await uT(s,_),s.du=s.du.remove(c),s.Au.delete(t),mg(s)}else await vp(s.localStore,t,!1).then(()=>Tp(s,t,n)).catch(Rl)}async function DD(i,t){const n=Mt(i),s=t.batch.batchId;try{const o=await kC(n.localStore,t);hT(n,s,null),cT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await cc(n,o)}catch(o){await Rl(o)}}async function ND(i,t,n){const s=Mt(i);try{const o=await function(d,p){const _=Mt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let A;return _.mutationQueue.lookupMutationBatch(v,p).next(M=>(ne(M!==null,37113),A=M.keys(),_.mutationQueue.removeMutationBatch(v,M))).next(()=>_.mutationQueue.performConsistencyCheck(v)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(v,A,p)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A)).next(()=>_.localDocuments.getDocuments(v,A))})}(s.localStore,t);hT(s,t,n),cT(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await cc(s,o)}catch(o){await Rl(o)}}function cT(i,t){(i.mu.get(t)||[]).forEach(n=>{n.resolve()}),i.mu.delete(t)}function hT(i,t,n){const s=Mt(i);let o=s.Vu[s.currentUser.toKey()];if(o){const c=o.get(t);c&&(n?c.reject(n):c.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function Tp(i,t,n=null){i.sharedClientState.removeLocalQueryTarget(t);for(const s of i.Iu.get(t))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(t),i.isPrimaryClient&&i.Ru.jr(t).forEach(s=>{i.Ru.containsKey(s)||fT(i,s)})}function fT(i,t){i.Eu.delete(t.path.canonicalString());const n=i.du.get(t);n!==null&&(og(i.remoteStore,n),i.du=i.du.remove(t),i.Au.delete(n),mg(i))}function h1(i,t,n){for(const s of n)s instanceof aT?(i.Ru.addReference(s.key,t),OD(i,s)):s instanceof oT?(ct(dg,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,t),i.Ru.containsKey(s.key)||fT(i,s.key)):xt(19791,{wu:s})}function OD(i,t){const n=t.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(ct(dg,"New document in limbo: "+n),i.Eu.add(s),mg(i))}function mg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const t=i.Eu.values().next().value;i.Eu.delete(t);const n=new Ct(He.fromString(t)),s=i.fu.next();i.Au.set(s,new bD(n)),i.du=i.du.insert(n,s),Wb(i.remoteStore,new ea(vr(Jp(n.path)),s,"TargetPurposeLimboResolution",lf.ce))}}async function cc(i,t,n){const s=Mt(i),o=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach((p,_)=>{d.push(s.pu(_,t,n).then(v=>{if((v||n)&&s.isPrimaryClient){const A=v?!v.fromCache:n?.targetChanges.get(_.targetId)?.current;s.sharedClientState.updateQueryState(_.targetId,A?"current":"not-current")}if(v){o.push(v);const A=sg.As(_.targetId,v);c.push(A)}}))}),await Promise.all(d),s.Pu.H_(o),await async function(_,v){const A=Mt(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>et.forEach(v,O=>et.forEach(O.Es,L=>A.persistence.referenceDelegate.addReference(M,O.targetId,L)).next(()=>et.forEach(O.ds,L=>A.persistence.referenceDelegate.removeReference(M,O.targetId,L)))))}catch(M){if(!xl(M))throw M;ct(ag,"Failed to update sequence numbers: "+M)}for(const M of v){const O=M.targetId;if(!M.fromCache){const L=A.Ms.get(O),U=L.snapshotVersion,G=L.withLastLimboFreeSnapshotVersion(U);A.Ms=A.Ms.insert(O,G)}}}(s.localStore,c))}async function MD(i,t){const n=Mt(i);if(!n.currentUser.isEqual(t)){ct(dg,"User change. New user:",t.toKey());const s=await Qb(n.localStore,t);n.currentUser=t,function(c,d){c.mu.forEach(p=>{p.forEach(_=>{_.reject(new pt(st.CANCELLED,d))})}),c.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await cc(n,s.Ls)}}function VD(i,t){const n=Mt(i),s=n.Au.get(t);if(s&&s.hu)return Ft().add(s.key);{let o=Ft();const c=n.Iu.get(t);if(!c)return o;for(const d of c){const p=n.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function dT(i){const t=Mt(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=uT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=VD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=CD.bind(null,t),t.Pu.H_=gD.bind(null,t.eventManager),t.Pu.yu=yD.bind(null,t.eventManager),t}function PD(i){const t=Mt(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=DD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ND.bind(null,t),t}class Kh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=yf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return PC(this.persistence,new OC,t.initialUser,this.serializer)}Cu(t){return new Yb(rg.mi,this.serializer)}Du(t){return new zC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Kh.provider={build:()=>new Kh};class kD extends Kh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){ne(this.persistence.referenceDelegate instanceof Hh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new yC(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?zn.withCacheSize(this.cacheSizeBytes):zn.DEFAULT;return new Yb(s=>Hh.mi(s,n),this.serializer)}}class wp{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>c1(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=MD.bind(null,this.syncEngine),await cD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new dD}()}createDatastore(t){const n=yf(t.databaseInfo.databaseId),s=function(c){return new KC(c)}(t.databaseInfo);return function(c,d,p,_){return new ZC(c,d,p,_)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,o,c,d,p){return new WC(s,o,c,d,p)}(this.localStore,this.datastore,t.asyncQueue,n=>c1(this.syncEngine,n,0),function(){return r1.v()?new r1:new FC}())}createSyncEngine(t,n){return function(o,c,d,p,_,v,A){const M=new TD(o,c,d,p,_,v);return A&&(M.gu=!0),M}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const s=Mt(n);ct(po,"RemoteStore shutting down."),s.Ea.add(5),await uc(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}wp.provider={build:()=>new wp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):hs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da="FirestoreClient";class LD{constructor(t,n,s,o,c){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Tn.UNAUTHENTICATED,this.clientId=Hp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async d=>{ct(da,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(ct(da,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new sa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=hg(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function jm(i,t){i.asyncQueue.verifyOperationInProgress(),ct(da,"Initializing OfflineComponentProvider");const n=i.configuration;await t.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await Qb(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=t}async function f1(i,t){i.asyncQueue.verifyOperationInProgress();const n=await UD(i);ct(da,"Initializing OnlineComponentProvider"),await t.initialize(n,i.configuration),i.setCredentialChangeListener(s=>a1(t.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>a1(t.remoteStore,o)),i._onlineComponents=t}async function UD(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ct(da,"Using user provided OfflineComponentProvider");try{await jm(i,i._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(o){return o.name==="FirebaseError"?o.code===st.FAILED_PRECONDITION||o.code===st.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;gl("Error using user provided cache. Falling back to memory cache: "+n),await jm(i,new Kh)}}else ct(da,"Using default OfflineComponentProvider"),await jm(i,new kD(void 0));return i._offlineComponents}async function mT(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ct(da,"Using user provided OnlineComponentProvider"),await f1(i,i._uninitializedComponentsProvider._online)):(ct(da,"Using default OnlineComponentProvider"),await f1(i,new wp))),i._onlineComponents}function BD(i){return mT(i).then(t=>t.syncEngine)}async function $D(i){const t=await mT(i),n=t.eventManager;return n.onListen=wD.bind(null,t.syncEngine),n.onUnlisten=RD.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=SD.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=xD.bind(null,t.syncEngine),n}function zD(i,t,n={}){const s=new sa;return i.asyncQueue.enqueueAndForget(async()=>function(c,d,p,_,v){const A=new jD({next:O=>{A.Nu(),d.enqueueAndForget(()=>pD(c,M));const L=O.docs.has(p);!L&&O.fromCache?v.reject(new pt(st.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&O.fromCache&&_&&_.source==="server"?v.reject(new pt(st.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(O)},error:O=>v.reject(O)}),M=new _D(Jp(p.path),A,{includeMetadataChanges:!0,qa:!0});return mD(c,M)}(await $D(i),i.asyncQueue,t,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT="firestore.googleapis.com",m1=!0;let p1=class{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new pt(st.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=gT,this.ssl=m1}else this.host=t.host,this.ssl=t.ssl??m1;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Kb;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<pC)throw new pt(st.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Jx("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pT(t.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new pt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new pt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new pt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}},pg=class{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new p1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pt(st.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new pt(st.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new p1(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new $x;switch(s.type){case"firstParty":return new Hx(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new pt(st.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=d1.get(n);s&&(ct("ComponentProvider","Removing Datastore"),d1.delete(n),s.terminate())}(this),Promise.resolve()}};function FD(i,t,n,s={}){i=mo(i,pg);const o=sc(t),c=i._getSettings(),d={...c,emulatorOptions:i._getEmulatorOptions()},p=`${t}:${n}`;o&&(jE(`https://${p}`),UE("Firestore",!0)),c.host!==gT&&c.host!==p&&gl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:o,emulatorOptions:s};if(!Yu(_,d)&&(i._setSettings(_),s.mockUserToken)){let v,A;if(typeof s.mockUserToken=="string")v=s.mockUserToken,A=Tn.MOCK_USER;else{v=LE(s.mockUserToken,i._app?.options.projectId);const M=s.mockUserToken.sub||s.mockUserToken.user_id;if(!M)throw new pt(st.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Tn(M)}i._authCredentials=new zx(new rb(v,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qD=class yT{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new yT(this.firestore,t,this._query)}},qn=class Mu{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sp(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Mu(this.firestore,t,this._key)}toJSON(){return{type:Mu._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(ac(n,Mu._jsonSchema))return new Mu(t,s||null,new Ct(He.fromString(n.referencePath)))}};qn._jsonSchemaVersion="firestore/documentReference/1.0",qn._jsonSchema={type:Ue("string",qn._jsonSchemaVersion),referencePath:Ue("string")};let Sp=class _T extends qD{constructor(t,n,s){super(t,n,Jp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new qn(this.firestore,null,new Ct(t))}withConverter(t){return new _T(this.firestore,t,this._path)}};function ki(i,t,...n){if(i=mi(i),arguments.length===1&&(t=Hp.newId()),Zx("doc","path",t),i instanceof pg){const s=He.fromString(t,...n);return C0(s),new qn(i,null,new Ct(s))}{if(!(i instanceof qn||i instanceof Sp))throw new pt(st.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(He.fromString(t,...n));return C0(s),new qn(i.firestore,i instanceof Sp?i.converter:null,new Ct(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1="AsyncQueue";let y1=class{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Zb(this,"async_queue_retry"),this._c=()=>{const s=km();s&&ct(g1,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=km();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=km();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new sa;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!xl(t))throw t;ct(g1,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(s=>{throw this.nc=s,this.rc=!1,hs("INTERNAL UNHANDLED ERROR: ",_1(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=hD.createAndSchedule(this,t,n,s,c=>this.hc(c));return this.tc.push(o),o}uc(){this.nc&&xt(47125,{Pc:_1(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}};function _1(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}let Ef=class extends pg{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new y1,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new y1(t),this._firestoreClient=void 0,await t}}};function ji(i,t){const n=typeof i=="object"?i:Fp(),s=typeof i=="string"?i:Lh,o=Sl(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=PE("firestore");c&&FD(o,...c)}return o}function vT(i){if(i._terminated)throw new pt(st.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||HD(i),i._firestoreClient}function HD(i){const t=i._freezeSettings(),n=function(o,c,d,p){return new uI(o,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,pT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(i._databaseId,i._app?.options.appId||"",i._persistenceKey,t);i._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),i._firestoreClient=new LD(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fl=class cl{constructor(t){this._byteString=t}static fromBase64String(t){try{return new cl(Kn.fromBase64String(t))}catch(n){throw new pt(st.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new cl(Kn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:cl._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(ac(t,cl._jsonSchema))return cl.fromBase64String(t.bytes)}};fl._jsonSchemaVersion="firestore/bytes/1.0",fl._jsonSchema={type:Ue("string",fl._jsonSchemaVersion),bytes:Ue("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bf=class{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new pt(st.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wi(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dl=class Dh{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new pt(st.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new pt(st.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return zt(this._lat,t._lat)||zt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Dh._jsonSchemaVersion}}static fromJSON(t){if(ac(t,Dh._jsonSchema))return new Dh(t.latitude,t.longitude)}};dl._jsonSchemaVersion="firestore/geoPoint/1.0",dl._jsonSchema={type:Ue("string",dl._jsonSchemaVersion),latitude:Ue("number"),longitude:Ue("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ml=class Nh{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0}(this._values,t._values)}toJSON(){return{type:Nh._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(ac(t,Nh._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new Nh(t.vectorValues);throw new pt(st.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};ml._jsonSchemaVersion="firestore/vectorValue/1.0",ml._jsonSchema={type:Ue("string",ml._jsonSchemaVersion),vectorValues:Ue("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD=/^__.*__$/;class KD{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new ya(t,this.data,this.fieldMask,n,this.fieldTransforms):new oc(t,this.data,n,this.fieldTransforms)}}class ET{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new ya(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function bT(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xt(40011,{Ac:i})}}class yg{constructor(t,n,s,o,c,d){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new yg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Yh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(bT(this.Ac)&&GD.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class YD{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||yf(t)}Cc(t,n,s,o=!1){return new yg({Ac:t,methodName:n,Dc:s,path:Wi.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function TT(i){const t=i._freezeSettings(),n=yf(i._databaseId);return new YD(i._databaseId,!!t.ignoreUndefinedProperties,n)}function QD(i,t,n,s,o,c={}){const d=i.Cc(c.merge||c.mergeFields?2:0,t,n,o);_g("Data must be an object, but it was:",d,s);const p=wT(s,d);let _,v;if(c.merge)_=new ci(d.fieldMask),v=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const M of c.mergeFields){const O=Ap(t,M,n);if(!d.contains(O))throw new pt(st.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);AT(A,O)||A.push(O)}_=new ci(A),v=d.fieldTransforms.filter(M=>_.covers(M.field))}else _=null,v=d.fieldTransforms;return new KD(new Fn(p),_,v)}class Tf extends gg{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Tf}}function XD(i,t,n,s){const o=i.Cc(1,t,n);_g("Data must be an object, but it was:",o,s);const c=[],d=Fn.empty();ga(s,(_,v)=>{const A=vg(t,_,n);v=mi(v);const M=o.yc(A);if(v instanceof Tf)c.push(A);else{const O=wf(v,M);O!=null&&(c.push(A),d.set(A,O))}});const p=new ci(c);return new ET(d,p,o.fieldTransforms)}function ZD(i,t,n,s,o,c){const d=i.Cc(1,t,n),p=[Ap(t,s,n)],_=[o];if(c.length%2!=0)throw new pt(st.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<c.length;O+=2)p.push(Ap(t,c[O])),_.push(c[O+1]);const v=[],A=Fn.empty();for(let O=p.length-1;O>=0;--O)if(!AT(v,p[O])){const L=p[O];let U=_[O];U=mi(U);const G=d.yc(L);if(U instanceof Tf)v.push(L);else{const $=wf(U,G);$!=null&&(v.push(L),A.set(L,$))}}const M=new ci(v);return new ET(A,M,d.fieldTransforms)}function wf(i,t){if(ST(i=mi(i)))return _g("Unsupported field value:",t,i),wT(i,t);if(i instanceof gg)return function(s,o){if(!bT(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(s,o){const c=[];let d=0;for(const p of s){let _=wf(p,o.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}}(i,t)}return function(s,o){if((s=mi(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return MI(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=rn.fromDate(s);return{timestampValue:qh(o.serializer,c)}}if(s instanceof rn){const c=new rn(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:qh(o.serializer,c)}}if(s instanceof dl)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof fl)return{bytesValue:Bb(o.serializer,s._byteString)};if(s instanceof qn){const c=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:ng(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ml)return function(d,p){return{mapValue:{fields:{[pb]:{stringValue:gb},[Uh]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw p.Sc("VectorValues must only contain numeric values.");return Wp(p.serializer,v)})}}}}}}(s,o);throw o.Sc(`Unsupported field value: ${Gp(s)}`)}(i,t)}function wT(i,t){const n={};return lb(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ga(i,(s,o)=>{const c=wf(o,t.mc(s));c!=null&&(n[s]=c)}),{mapValue:{fields:n}}}function ST(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof rn||i instanceof dl||i instanceof fl||i instanceof qn||i instanceof gg||i instanceof ml)}function _g(i,t,n){if(!ST(n)||!ab(n)){const s=Gp(n);throw s==="an object"?t.Sc(i+" a custom object"):t.Sc(i+" "+s)}}function Ap(i,t,n){if((t=mi(t))instanceof bf)return t._internalPath;if(typeof t=="string")return vg(i,t);throw Yh("Field path arguments must be of type string or ",i,!1,void 0,n)}const JD=new RegExp("[~\\*/\\[\\]]");function vg(i,t,n){if(t.search(JD)>=0)throw Yh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new bf(...t.split("."))._internalPath}catch{throw Yh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Yh(i,t,n,s,o){const c=s&&!s.isEmpty(),d=o!==void 0;let p=`Function ${t}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${s}`),d&&(_+=` in document ${o}`),_+=")"),new pt(st.INVALID_ARGUMENT,p+i+_)}function AT(i,t){return i.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let RT=class{constructor(t,n,s,o,c){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new qn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new WD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(xT("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}},WD=class extends RT{data(){return super.data()}};function xT(i,t){return typeof t=="string"?vg(i,t):t instanceof bf?t._internalPath:t._delegate._internalPath}class t4{convertValue(t,n="none"){switch(ha(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Pe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ca(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw xt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return ga(t,(o,c)=>{s[o]=this.convertValue(c,n)}),s}convertVectorValue(t){const n=t.fields?.[Uh].arrayValue?.values?.map(s=>Pe(s.doubleValue));return new ml(n)}convertGeoPoint(t){return new dl(Pe(t.latitude),Pe(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=cf(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Zu(t));default:return null}}convertTimestamp(t){const n=ua(t);return new rn(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=He.fromString(t);ne(Gb(s),9688,{name:t});const o=new mb(s.get(1),s.get(3)),c=new Ct(s.popFirst(5));return o.isEqual(n)||hs(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e4(i,t,n){let s;return s=i?i.toFirestore(t):t,s}let Vu=class{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}},Bu=class IT extends RT{constructor(t,n,s,o,c,d){super(t,n,s,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Oh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(xT("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pt(st.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=IT._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};Bu._jsonSchemaVersion="firestore/documentSnapshot/1.0",Bu._jsonSchema={type:Ue("string",Bu._jsonSchemaVersion),bundleSource:Ue("string","DocumentSnapshot"),bundleName:Ue("string"),bundle:Ue("string")};let Oh=class extends Bu{data(t={}){return super.data(t)}},Lm=class CT{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Vu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new Oh(this._firestore,this._userDataWriter,s.key,s,new Vu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pt(st.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(p=>{const _=new Oh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Vu(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>c||p.type!==3).map(p=>{const _=new Oh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Vu(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,A=-1;return p.type!==0&&(v=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:n4(p.type),doc:_,oldIndex:v,newIndex:A}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pt(st.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=CT._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Hp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach(c=>{c._document!==null&&(n.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}};function n4(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xt(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i4(i){i=mo(i,qn);const t=mo(i.firestore,Ef);return zD(vT(t),i._key).then(n=>a4(t,i,n))}Lm._jsonSchemaVersion="firestore/querySnapshot/1.0",Lm._jsonSchema={type:Ue("string",Lm._jsonSchemaVersion),bundleSource:Ue("string","QuerySnapshot"),bundleName:Ue("string"),bundle:Ue("string")};class r4 extends t4{constructor(t){super(),this.firestore=t}convertBytes(t){return new fl(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new qn(this.firestore,null,n)}}function s4(i,t,n){i=mo(i,qn);const s=mo(i.firestore,Ef),o=e4(i.converter,t);return DT(s,[QD(TT(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,Er.none())])}function Ir(i,t,n,...s){i=mo(i,qn);const o=mo(i.firestore,Ef),c=TT(o);let d;return d=typeof(t=mi(t))=="string"||t instanceof bf?ZD(c,"updateDoc",i._key,t,n,s):XD(c,"updateDoc",i._key,t),DT(o,[d.toMutation(i._key,Er.exists(!0))])}function DT(i,t){return function(s,o){const c=new sa;return s.asyncQueue.enqueueAndForget(async()=>ID(await BD(s),o,c)),c.promise}(vT(i),t)}function a4(i,t,n){const s=n.docs.get(t._key),o=new r4(i);return new Bu(i,o,t._key,s,new Vu(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(o){Al=o})(KE),cs(new Sr("firestore",(s,{instanceIdentifier:o,options:c})=>{const d=s.getProvider("app").getImmediate(),p=new Ef(new Fx(s.getProvider("auth-internal")),new Gx(d,s.getProvider("app-check-internal")),function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new pt(st.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mb(v.options.projectId,A)}(d,o),d);return c={useFetchStreams:n,...c},p._setSettings(c),p},"PUBLIC").setMultipleInstances(!0)),Pi(A0,R0,t),Pi(A0,R0,"esm2020")})();const o4=()=>{};var v1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT=function(i){const t=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},l4=function(i){const t=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=i[n++];t[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=i[n++],d=i[n++],p=i[n++],_=((o&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[s++]=String.fromCharCode(55296+(_>>10)),t[s++]=String.fromCharCode(56320+(_&1023))}else{const c=i[n++],d=i[n++];t[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return t.join("")},OT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const c=i[o],d=o+1<i.length,p=d?i[o+1]:0,_=o+2<i.length,v=_?i[o+2]:0,A=c>>2,M=(c&3)<<4|p>>4;let O=(p&15)<<2|v>>6,L=v&63;_||(L=64,d||(O=64)),s.push(n[A],n[M],n[O],n[L])}return s.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(NT(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):l4(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const c=n[i.charAt(o++)],p=o<i.length?n[i.charAt(o)]:0;++o;const v=o<i.length?n[i.charAt(o)]:64;++o;const M=o<i.length?n[i.charAt(o)]:64;if(++o,c==null||p==null||v==null||M==null)throw new u4;const O=c<<2|p>>4;if(s.push(O),v!==64){const L=p<<4&240|v>>2;if(s.push(L),M!==64){const U=v<<6&192|M;s.push(U)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class u4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const c4=function(i){const t=NT(i);return OT.encodeByteArray(t,!0)},MT=function(i){return c4(i).replace(/\./g,"")},h4=function(i){try{return OT.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4=()=>f4().__FIREBASE_DEFAULTS__,m4=()=>{if(typeof process>"u"||typeof v1>"u")return;const i=v1.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},p4=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&h4(i[1]);return t&&JSON.parse(t)},g4=()=>{try{return o4()||d4()||m4()||p4()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},VT=()=>g4()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}function _4(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function PT(){try{return typeof indexedDB=="object"}catch{return!1}}function kT(){return new Promise((i,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}function v4(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4="FirebaseError";class _a extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=E4,Object.setPrototypeOf(this,_a.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sf.prototype.create)}}class Sf{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,c=this.errors[t],d=c?b4(c,s):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new _a(o,p,s)}}function b4(i,t){return i.replace(T4,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const T4=/\{\$([^}]+)}/g;function Qh(i,t){if(i===t)return!0;const n=Object.keys(i),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const c=i[o],d=t[o];if(E1(c)&&E1(d)){if(!Qh(c,d))return!1}else if(c!==d)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function E1(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w4=1e3,S4=2,A4=14400*1e3,R4=.5;function b1(i,t=w4,n=S4){const s=t*Math.pow(n,i),o=Math.round(R4*s*(Math.random()-.5)*2);return Math.min(A4,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(i){return i&&i._delegate?i._delegate:i}class ds{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new y4;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(C4(t))try{this.getOrInitializeService({instanceIdentifier:io})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(t=io){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=io){return this.instances.has(t)}getOptions(t=io){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);s===p&&d.resolve(o)}return o}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&t(c,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:I4(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=io){return this.component?this.component.multipleInstances?t:io:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function I4(i){return i===io?void 0:i}function C4(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new x4(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ce;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ce||(ce={}));const N4={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},O4=ce.INFO,M4={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},V4=(i,t,...n)=>{if(t<i.logLevel)return;const s=new Date().toISOString(),o=M4[t];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Eg{constructor(t){this.name=t,this._logLevel=O4,this._logHandler=V4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ce))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?N4[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...t),this._logHandler(this,ce.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...t),this._logHandler(this,ce.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...t),this._logHandler(this,ce.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...t),this._logHandler(this,ce.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...t),this._logHandler(this,ce.ERROR,...t)}}const P4=(i,t)=>t.some(n=>i instanceof n);let T1,w1;function k4(){return T1||(T1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function j4(){return w1||(w1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const LT=new WeakMap,Rp=new WeakMap,UT=new WeakMap,Um=new WeakMap,bg=new WeakMap;function L4(i){const t=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",c),i.removeEventListener("error",d)},c=()=>{n(aa(i.result)),o()},d=()=>{s(i.error),o()};i.addEventListener("success",c),i.addEventListener("error",d)});return t.then(n=>{n instanceof IDBCursor&&LT.set(n,i)}).catch(()=>{}),bg.set(t,i),t}function U4(i){if(Rp.has(i))return;const t=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",d),i.removeEventListener("abort",d)},c=()=>{n(),o()},d=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",c),i.addEventListener("error",d),i.addEventListener("abort",d)});Rp.set(i,t)}let xp={get(i,t,n){if(i instanceof IDBTransaction){if(t==="done")return Rp.get(i);if(t==="objectStoreNames")return i.objectStoreNames||UT.get(i);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return aa(i[t])},set(i,t,n){return i[t]=n,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function B4(i){xp=i(xp)}function $4(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=i.call(Bm(this),t,...n);return UT.set(s,t.sort?t.sort():[t]),aa(s)}:j4().includes(i)?function(...t){return i.apply(Bm(this),t),aa(LT.get(this))}:function(...t){return aa(i.apply(Bm(this),t))}}function z4(i){return typeof i=="function"?$4(i):(i instanceof IDBTransaction&&U4(i),P4(i,k4())?new Proxy(i,xp):i)}function aa(i){if(i instanceof IDBRequest)return L4(i);if(Um.has(i))return Um.get(i);const t=z4(i);return t!==i&&(Um.set(i,t),bg.set(t,i)),t}const Bm=i=>bg.get(i);function BT(i,t,{blocked:n,upgrade:s,blocking:o,terminated:c}={}){const d=indexedDB.open(i,t),p=aa(d);return s&&d.addEventListener("upgradeneeded",_=>{s(aa(d.result),_.oldVersion,_.newVersion,aa(d.transaction),_)}),n&&d.addEventListener("blocked",_=>n(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),o&&_.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const F4=["get","getKey","getAll","getAllKeys","count"],q4=["put","add","delete","clear"],$m=new Map;function S1(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if($m.get(t))return $m.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=q4.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||F4.includes(n)))return;const c=async function(d,...p){const _=this.transaction(d,o?"readwrite":"readonly");let v=_.store;return s&&(v=v.index(p.shift())),(await Promise.all([v[n](...p),o&&_.done]))[0]};return $m.set(t,c),c}B4(i=>({...i,get:(t,n,s)=>S1(t,n)||i.get(t,n,s),has:(t,n)=>!!S1(t,n)||i.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(G4(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function G4(i){return i.getComponent()?.type==="VERSION"}const Ip="@firebase/app",A1="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms=new Eg("@firebase/app"),K4="@firebase/app-compat",Y4="@firebase/analytics-compat",Q4="@firebase/analytics",X4="@firebase/app-check-compat",Z4="@firebase/app-check",J4="@firebase/auth",W4="@firebase/auth-compat",tN="@firebase/database",eN="@firebase/data-connect",nN="@firebase/database-compat",iN="@firebase/functions",rN="@firebase/functions-compat",sN="@firebase/installations",aN="@firebase/installations-compat",oN="@firebase/messaging",lN="@firebase/messaging-compat",uN="@firebase/performance",cN="@firebase/performance-compat",hN="@firebase/remote-config",fN="@firebase/remote-config-compat",dN="@firebase/storage",mN="@firebase/storage-compat",pN="@firebase/firestore",gN="@firebase/ai",yN="@firebase/firestore-compat",_N="firebase",vN="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cp="[DEFAULT]",EN={[Ip]:"fire-core",[K4]:"fire-core-compat",[Q4]:"fire-analytics",[Y4]:"fire-analytics-compat",[Z4]:"fire-app-check",[X4]:"fire-app-check-compat",[J4]:"fire-auth",[W4]:"fire-auth-compat",[tN]:"fire-rtdb",[eN]:"fire-data-connect",[nN]:"fire-rtdb-compat",[iN]:"fire-fn",[rN]:"fire-fn-compat",[sN]:"fire-iid",[aN]:"fire-iid-compat",[oN]:"fire-fcm",[lN]:"fire-fcm-compat",[uN]:"fire-perf",[cN]:"fire-perf-compat",[hN]:"fire-rc",[fN]:"fire-rc-compat",[dN]:"fire-gcs",[mN]:"fire-gcs-compat",[pN]:"fire-fst",[yN]:"fire-fst-compat",[gN]:"fire-vertex","fire-js":"fire-js",[_N]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xh=new Map,bN=new Map,Dp=new Map;function R1(i,t){try{i.container.addComponent(t)}catch(n){ms.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,n)}}function ma(i){const t=i.name;if(Dp.has(t))return ms.debug(`There were multiple attempts to register component ${t}.`),!1;Dp.set(t,i);for(const n of Xh.values())R1(n,i);for(const n of bN.values())R1(n,i);return!0}function Af(i,t){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(t)}function TN(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},oa=new Sf("app","Firebase",wN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ds("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw oa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=vN;function $T(i,t={}){let n=i;typeof t!="object"&&(t={name:t});const s={name:Cp,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw oa.create("bad-app-name",{appName:String(o)});if(n||(n=VT()),!n)throw oa.create("no-options");const c=Xh.get(o);if(c){if(Qh(n,c.options)&&Qh(s,c.config))return c;throw oa.create("duplicate-app",{appName:o})}const d=new D4(o);for(const _ of Dp.values())d.addComponent(_);const p=new SN(n,s,d);return Xh.set(o,p),p}function RN(i=Cp){const t=Xh.get(i);if(!t&&i===Cp&&VT())return $T();if(!t)throw oa.create("no-app",{appName:i});return t}function Tr(i,t,n){let s=EN[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),c=t.match(/\s|\//);if(o||c){const d=[`Unable to register library "${s}" with version "${t}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ms.warn(d.join(" "));return}ma(new ds(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN="firebase-heartbeat-database",IN=1,ec="firebase-heartbeat-store";let zm=null;function zT(){return zm||(zm=BT(xN,IN,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(ec)}catch(n){console.warn(n)}}}}).catch(i=>{throw oa.create("idb-open",{originalErrorMessage:i.message})})),zm}async function CN(i){try{const n=(await zT()).transaction(ec),s=await n.objectStore(ec).get(FT(i));return await n.done,s}catch(t){if(t instanceof _a)ms.warn(t.message);else{const n=oa.create("idb-get",{originalErrorMessage:t?.message});ms.warn(n.message)}}}async function x1(i,t){try{const s=(await zT()).transaction(ec,"readwrite");await s.objectStore(ec).put(t,FT(i)),await s.done}catch(n){if(n instanceof _a)ms.warn(n.message);else{const s=oa.create("idb-set",{originalErrorMessage:n?.message});ms.warn(s.message)}}}function FT(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN=1024,NN=30;class ON{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new VN(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=I1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>NN){const o=PN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ms.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=I1(),{heartbeatsToSend:n,unsentEntries:s}=MN(this._heartbeatsCache.heartbeats),o=MT(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ms.warn(t),""}}}function I1(){return new Date().toISOString().substring(0,10)}function MN(i,t=DN){const n=[];let s=i.slice();for(const o of i){const c=n.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),C1(n)>t){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),C1(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class VN{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PT()?kT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await CN(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return x1(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return x1(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function C1(i){return MT(JSON.stringify({version:2,heartbeats:i})).length}function PN(i){if(i.length===0)return-1;let t=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(i){ma(new ds("platform-logger",t=>new H4(t),"PRIVATE")),ma(new ds("heartbeat",t=>new ON(t),"PRIVATE")),Tr(Ip,A1,i),Tr(Ip,A1,"esm2020"),Tr("fire-js","")}kN("");var jN="firebase",LN="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tr(jN,LN,"app");const qT="@firebase/installations",Tg="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT=1e4,GT=`w:${Tg}`,KT="FIS_v2",UN="https://firebaseinstallations.googleapis.com/v1",BN=3600*1e3,$N="installations",zN="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},go=new Sf($N,zN,FN);function YT(i){return i instanceof _a&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT({projectId:i}){return`${UN}/projects/${i}/installations`}function XT(i){return{token:i.token,requestStatus:2,expiresIn:HN(i.expiresIn),creationTime:Date.now()}}async function ZT(i,t){const s=(await t.json()).error;return go.create("request-failed",{requestName:i,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function JT({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function qN(i,{refreshToken:t}){const n=JT(i);return n.append("Authorization",GN(t)),n}async function WT(i){const t=await i();return t.status>=500&&t.status<600?i():t}function HN(i){return Number(i.replace("s","000"))}function GN(i){return`${KT} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KN({appConfig:i,heartbeatServiceProvider:t},{fid:n}){const s=QT(i),o=JT(i),c=t.getImmediate({optional:!0});if(c){const v=await c.getHeartbeatsHeader();v&&o.append("x-firebase-client",v)}const d={fid:n,authVersion:KT,appId:i.appId,sdkVersion:GT},p={method:"POST",headers:o,body:JSON.stringify(d)},_=await WT(()=>fetch(s,p));if(_.ok){const v=await _.json();return{fid:v.fid||n,registrationStatus:2,refreshToken:v.refreshToken,authToken:XT(v.authToken)}}else throw await ZT("Create Installation",_)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(i){return new Promise(t=>{setTimeout(t,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN=/^[cdef][\w-]{21}$/,Np="";function XN(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const n=ZN(i);return QN.test(n)?n:Np}catch{return Np}}function ZN(i){return YN(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rf(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew=new Map;function nw(i,t){const n=Rf(i);iw(n,t),JN(n,t)}function iw(i,t){const n=ew.get(i);if(n)for(const s of n)s(t)}function JN(i,t){const n=WN();n&&n.postMessage({key:i,fid:t}),t6()}let ao=null;function WN(){return!ao&&"BroadcastChannel"in self&&(ao=new BroadcastChannel("[Firebase] FID Change"),ao.onmessage=i=>{iw(i.data.key,i.data.fid)}),ao}function t6(){ew.size===0&&ao&&(ao.close(),ao=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e6="firebase-installations-database",n6=1,yo="firebase-installations-store";let Fm=null;function wg(){return Fm||(Fm=BT(e6,n6,{upgrade:(i,t)=>{switch(t){case 0:i.createObjectStore(yo)}}})),Fm}async function Zh(i,t){const n=Rf(i),o=(await wg()).transaction(yo,"readwrite"),c=o.objectStore(yo),d=await c.get(n);return await c.put(t,n),await o.done,(!d||d.fid!==t.fid)&&nw(i,t.fid),t}async function rw(i){const t=Rf(i),s=(await wg()).transaction(yo,"readwrite");await s.objectStore(yo).delete(t),await s.done}async function xf(i,t){const n=Rf(i),o=(await wg()).transaction(yo,"readwrite"),c=o.objectStore(yo),d=await c.get(n),p=t(d);return p===void 0?await c.delete(n):await c.put(p,n),await o.done,p&&(!d||d.fid!==p.fid)&&nw(i,p.fid),p}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sg(i){let t;const n=await xf(i.appConfig,s=>{const o=i6(s),c=r6(i,o);return t=c.registrationPromise,c.installationEntry});return n.fid===Np?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function i6(i){const t=i||{fid:XN(),registrationStatus:0};return sw(t)}function r6(i,t){if(t.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(go.create("app-offline"));return{installationEntry:t,registrationPromise:o}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},s=s6(i,n);return{installationEntry:n,registrationPromise:s}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:a6(i)}:{installationEntry:t}}async function s6(i,t){try{const n=await KN(i,t);return Zh(i.appConfig,n)}catch(n){throw YT(n)&&n.customData.serverCode===409?await rw(i.appConfig):await Zh(i.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function a6(i){let t=await D1(i.appConfig);for(;t.registrationStatus===1;)await tw(100),t=await D1(i.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await Sg(i);return s||n}return t}function D1(i){return xf(i,t=>{if(!t)throw go.create("installation-not-found");return sw(t)})}function sw(i){return o6(i)?{fid:i.fid,registrationStatus:0}:i}function o6(i){return i.registrationStatus===1&&i.registrationTime+HT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l6({appConfig:i,heartbeatServiceProvider:t},n){const s=u6(i,n),o=qN(i,n),c=t.getImmediate({optional:!0});if(c){const v=await c.getHeartbeatsHeader();v&&o.append("x-firebase-client",v)}const d={installation:{sdkVersion:GT,appId:i.appId}},p={method:"POST",headers:o,body:JSON.stringify(d)},_=await WT(()=>fetch(s,p));if(_.ok){const v=await _.json();return XT(v)}else throw await ZT("Generate Auth Token",_)}function u6(i,{fid:t}){return`${QT(i)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ag(i,t=!1){let n;const s=await xf(i.appConfig,c=>{if(!aw(c))throw go.create("not-registered");const d=c.authToken;if(!t&&f6(d))return c;if(d.requestStatus===1)return n=c6(i,t),c;{if(!navigator.onLine)throw go.create("app-offline");const p=m6(c);return n=h6(i,p),p}});return n?await n:s.authToken}async function c6(i,t){let n=await N1(i.appConfig);for(;n.authToken.requestStatus===1;)await tw(100),n=await N1(i.appConfig);const s=n.authToken;return s.requestStatus===0?Ag(i,t):s}function N1(i){return xf(i,t=>{if(!aw(t))throw go.create("not-registered");const n=t.authToken;return p6(n)?{...t,authToken:{requestStatus:0}}:t})}async function h6(i,t){try{const n=await l6(i,t),s={...t,authToken:n};return await Zh(i.appConfig,s),n}catch(n){if(YT(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await rw(i.appConfig);else{const s={...t,authToken:{requestStatus:0}};await Zh(i.appConfig,s)}throw n}}function aw(i){return i!==void 0&&i.registrationStatus===2}function f6(i){return i.requestStatus===2&&!d6(i)}function d6(i){const t=Date.now();return t<i.creationTime||i.creationTime+i.expiresIn<t+BN}function m6(i){const t={requestStatus:1,requestTime:Date.now()};return{...i,authToken:t}}function p6(i){return i.requestStatus===1&&i.requestTime+HT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g6(i){const t=i,{installationEntry:n,registrationPromise:s}=await Sg(t);return s?s.catch(console.error):Ag(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y6(i,t=!1){const n=i;return await _6(n),(await Ag(n,t)).token}async function _6(i){const{registrationPromise:t}=await Sg(i);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v6(i){if(!i||!i.options)throw qm("App Configuration");if(!i.name)throw qm("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!i.options[n])throw qm(n);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function qm(i){return go.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow="installations",E6="installations-internal",b6=i=>{const t=i.getProvider("app").getImmediate(),n=v6(t),s=Af(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},T6=i=>{const t=i.getProvider("app").getImmediate(),n=Af(t,ow).getImmediate();return{getId:()=>g6(n),getToken:o=>y6(n,o)}};function w6(){ma(new ds(ow,b6,"PUBLIC")),ma(new ds(E6,T6,"PRIVATE"))}w6();Tr(qT,Tg);Tr(qT,Tg,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jh="analytics",S6="firebase_id",A6="origin",R6=60*1e3,x6="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Rg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hn=new Eg("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I6={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},fi=new Sf("analytics","Analytics",I6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C6(i){if(!i.startsWith(Rg)){const t=fi.create("invalid-gtag-resource",{gtagURL:i});return Hn.warn(t.message),""}return i}function lw(i){return Promise.all(i.map(t=>t.catch(n=>n)))}function D6(i,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(i,t)),n}function N6(i,t){const n=D6("firebase-js-sdk-policy",{createScriptURL:C6}),s=document.createElement("script"),o=`${Rg}?l=${i}&id=${t}`;s.src=n?n?.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function O6(i){let t=[];return Array.isArray(window[i])?t=window[i]:window[i]=t,t}async function M6(i,t,n,s,o,c){const d=s[o];try{if(d)await t[d];else{const _=(await lw(n)).find(v=>v.measurementId===o);_&&await t[_.appId]}}catch(p){Hn.error(p)}i("config",o,c)}async function V6(i,t,n,s,o){try{let c=[];if(o&&o.send_to){let d=o.send_to;Array.isArray(d)||(d=[d]);const p=await lw(n);for(const _ of d){const v=p.find(M=>M.measurementId===_),A=v&&t[v.appId];if(A)c.push(A);else{c=[];break}}}c.length===0&&(c=Object.values(t)),await Promise.all(c),i("event",s,o||{})}catch(c){Hn.error(c)}}function P6(i,t,n,s){async function o(c,...d){try{if(c==="event"){const[p,_]=d;await V6(i,t,n,p,_)}else if(c==="config"){const[p,_]=d;await M6(i,t,n,s,p,_)}else if(c==="consent"){const[p,_]=d;i("consent",p,_)}else if(c==="get"){const[p,_,v]=d;i("get",p,_,v)}else if(c==="set"){const[p]=d;i("set",p)}else i(c,...d)}catch(p){Hn.error(p)}}return o}function k6(i,t,n,s,o){let c=function(...d){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(c=window[o]),window[o]=P6(c,i,t,n),{gtagCore:c,wrappedGtag:window[o]}}function j6(i){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Rg)&&n.src.includes(i))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L6=30,U6=1e3;let B6=class{constructor(t={},n=U6){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}};const uw=new B6;function $6(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function z6(i){const{appId:t,apiKey:n}=i,s={method:"GET",headers:$6(n)},o=x6.replace("{app-id}",t),c=await fetch(o,s);if(c.status!==200&&c.status!==304){let d="";try{const p=await c.json();p.error?.message&&(d=p.error.message)}catch{}throw fi.create("config-fetch-failed",{httpStatus:c.status,responseMessage:d})}return c.json()}async function F6(i,t=uw,n){const{appId:s,apiKey:o,measurementId:c}=i.options;if(!s)throw fi.create("no-app-id");if(!o){if(c)return{measurementId:c,appId:s};throw fi.create("no-api-key")}const d=t.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},p=new G6;return setTimeout(async()=>{p.abort()},R6),cw({appId:s,apiKey:o,measurementId:c},d,p,t)}async function cw(i,{throttleEndTimeMillis:t,backoffCount:n},s,o=uw){const{appId:c,measurementId:d}=i;try{await q6(s,t)}catch(p){if(d)return Hn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:c,measurementId:d};throw p}try{const p=await z6(i);return o.deleteThrottleMetadata(c),p}catch(p){const _=p;if(!H6(_)){if(o.deleteThrottleMetadata(c),d)return Hn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${_?.message}]`),{appId:c,measurementId:d};throw p}const v=Number(_?.customData?.httpStatus)===503?b1(n,o.intervalMillis,L6):b1(n,o.intervalMillis),A={throttleEndTimeMillis:Date.now()+v,backoffCount:n+1};return o.setThrottleMetadata(c,A),Hn.debug(`Calling attemptFetch again in ${v} millis`),cw(i,A,s,o)}}function q6(i,t){return new Promise((n,s)=>{const o=Math.max(t-Date.now(),0),c=setTimeout(n,o);i.addEventListener(()=>{clearTimeout(c),s(fi.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function H6(i){if(!(i instanceof _a)||!i.customData)return!1;const t=Number(i.customData.httpStatus);return t===429||t===500||t===503||t===504}let G6=class{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}};async function K6(i,t,n,s,o){if(o&&o.global){i("event",n,s);return}else{const c=await t,d={...s,send_to:c};i("event",n,d)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y6(){if(PT())try{await kT()}catch(i){return Hn.warn(fi.create("indexeddb-unavailable",{errorInfo:i?.toString()}).message),!1}else return Hn.warn(fi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Q6(i,t,n,s,o,c,d){const p=F6(i);p.then(O=>{n[O.measurementId]=O.appId,i.options.measurementId&&O.measurementId!==i.options.measurementId&&Hn.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${O.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(O=>Hn.error(O)),t.push(p);const _=Y6().then(O=>{if(O)return s.getId()}),[v,A]=await Promise.all([p,_]);j6(c)||N6(c,v.measurementId),o("js",new Date);const M=d?.config??{};return M[A6]="firebase",M.update=!0,A!=null&&(M[S6]=A),o("config",v.measurementId,M),v.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let X6=class{constructor(t){this.app=t}_delete(){return delete $u[this.app.options.appId],Promise.resolve()}},$u={},O1=[];const M1={};let Hm="dataLayer",Z6="gtag",V1,hw,P1=!1;function J6(){const i=[];if(_4()&&i.push("This is a browser extension environment."),v4()||i.push("Cookies are not available."),i.length>0){const t=i.map((s,o)=>`(${o+1}) ${s}`).join(" "),n=fi.create("invalid-analytics-context",{errorInfo:t});Hn.warn(n.message)}}function W6(i,t,n){J6();const s=i.options.appId;if(!s)throw fi.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)Hn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw fi.create("no-api-key");if($u[s]!=null)throw fi.create("already-exists",{id:s});if(!P1){O6(Hm);const{wrappedGtag:c,gtagCore:d}=k6($u,O1,M1,Hm,Z6);hw=c,V1=d,P1=!0}return $u[s]=Q6(i,O1,M1,t,V1,Hm,n),new X6(i)}function t9(i=RN()){i=jT(i);const t=Af(i,Jh);return t.isInitialized()?t.getImmediate():e9(i)}function e9(i,t={}){const n=Af(i,Jh);if(n.isInitialized()){const o=n.getImmediate();if(Qh(t,n.getOptions()))return o;throw fi.create("already-initialized")}return n.initialize({options:t})}function n9(i,t,n,s){i=jT(i),K6(hw,$u[i.app.options.appId],t,n,s).catch(o=>Hn.error(o))}const k1="@firebase/analytics",j1="0.10.18";function i9(){ma(new ds(Jh,(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("installations-internal").getImmediate();return W6(s,o,n)},"PUBLIC")),ma(new ds("analytics-internal",i,"PRIVATE")),Tr(k1,j1),Tr(k1,j1,"esm2020");function i(t){try{const n=t.getProvider(Jh).getImmediate();return{logEvent:(s,o,c)=>n9(n,s,o,c)}}catch(n){throw fi.create("interop-component-reg-failed",{reason:n})}}}i9();var L1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xg;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(C,E){function w(){}w.prototype=E.prototype,C.D=E.prototype,C.prototype=new w,C.prototype.constructor=C,C.C=function(R,I,N){for(var S=Array(arguments.length-2),te=2;te<arguments.length;te++)S[te-2]=arguments[te];return E.prototype[I].apply(R,S)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,E,w){w||(w=0);var R=Array(16);if(typeof E=="string")for(var I=0;16>I;++I)R[I]=E.charCodeAt(w++)|E.charCodeAt(w++)<<8|E.charCodeAt(w++)<<16|E.charCodeAt(w++)<<24;else for(I=0;16>I;++I)R[I]=E[w++]|E[w++]<<8|E[w++]<<16|E[w++]<<24;E=C.g[0],w=C.g[1],I=C.g[2];var N=C.g[3],S=E+(N^w&(I^N))+R[0]+3614090360&4294967295;E=w+(S<<7&4294967295|S>>>25),S=N+(I^E&(w^I))+R[1]+3905402710&4294967295,N=E+(S<<12&4294967295|S>>>20),S=I+(w^N&(E^w))+R[2]+606105819&4294967295,I=N+(S<<17&4294967295|S>>>15),S=w+(E^I&(N^E))+R[3]+3250441966&4294967295,w=I+(S<<22&4294967295|S>>>10),S=E+(N^w&(I^N))+R[4]+4118548399&4294967295,E=w+(S<<7&4294967295|S>>>25),S=N+(I^E&(w^I))+R[5]+1200080426&4294967295,N=E+(S<<12&4294967295|S>>>20),S=I+(w^N&(E^w))+R[6]+2821735955&4294967295,I=N+(S<<17&4294967295|S>>>15),S=w+(E^I&(N^E))+R[7]+4249261313&4294967295,w=I+(S<<22&4294967295|S>>>10),S=E+(N^w&(I^N))+R[8]+1770035416&4294967295,E=w+(S<<7&4294967295|S>>>25),S=N+(I^E&(w^I))+R[9]+2336552879&4294967295,N=E+(S<<12&4294967295|S>>>20),S=I+(w^N&(E^w))+R[10]+4294925233&4294967295,I=N+(S<<17&4294967295|S>>>15),S=w+(E^I&(N^E))+R[11]+2304563134&4294967295,w=I+(S<<22&4294967295|S>>>10),S=E+(N^w&(I^N))+R[12]+1804603682&4294967295,E=w+(S<<7&4294967295|S>>>25),S=N+(I^E&(w^I))+R[13]+4254626195&4294967295,N=E+(S<<12&4294967295|S>>>20),S=I+(w^N&(E^w))+R[14]+2792965006&4294967295,I=N+(S<<17&4294967295|S>>>15),S=w+(E^I&(N^E))+R[15]+1236535329&4294967295,w=I+(S<<22&4294967295|S>>>10),S=E+(I^N&(w^I))+R[1]+4129170786&4294967295,E=w+(S<<5&4294967295|S>>>27),S=N+(w^I&(E^w))+R[6]+3225465664&4294967295,N=E+(S<<9&4294967295|S>>>23),S=I+(E^w&(N^E))+R[11]+643717713&4294967295,I=N+(S<<14&4294967295|S>>>18),S=w+(N^E&(I^N))+R[0]+3921069994&4294967295,w=I+(S<<20&4294967295|S>>>12),S=E+(I^N&(w^I))+R[5]+3593408605&4294967295,E=w+(S<<5&4294967295|S>>>27),S=N+(w^I&(E^w))+R[10]+38016083&4294967295,N=E+(S<<9&4294967295|S>>>23),S=I+(E^w&(N^E))+R[15]+3634488961&4294967295,I=N+(S<<14&4294967295|S>>>18),S=w+(N^E&(I^N))+R[4]+3889429448&4294967295,w=I+(S<<20&4294967295|S>>>12),S=E+(I^N&(w^I))+R[9]+568446438&4294967295,E=w+(S<<5&4294967295|S>>>27),S=N+(w^I&(E^w))+R[14]+3275163606&4294967295,N=E+(S<<9&4294967295|S>>>23),S=I+(E^w&(N^E))+R[3]+4107603335&4294967295,I=N+(S<<14&4294967295|S>>>18),S=w+(N^E&(I^N))+R[8]+1163531501&4294967295,w=I+(S<<20&4294967295|S>>>12),S=E+(I^N&(w^I))+R[13]+2850285829&4294967295,E=w+(S<<5&4294967295|S>>>27),S=N+(w^I&(E^w))+R[2]+4243563512&4294967295,N=E+(S<<9&4294967295|S>>>23),S=I+(E^w&(N^E))+R[7]+1735328473&4294967295,I=N+(S<<14&4294967295|S>>>18),S=w+(N^E&(I^N))+R[12]+2368359562&4294967295,w=I+(S<<20&4294967295|S>>>12),S=E+(w^I^N)+R[5]+4294588738&4294967295,E=w+(S<<4&4294967295|S>>>28),S=N+(E^w^I)+R[8]+2272392833&4294967295,N=E+(S<<11&4294967295|S>>>21),S=I+(N^E^w)+R[11]+1839030562&4294967295,I=N+(S<<16&4294967295|S>>>16),S=w+(I^N^E)+R[14]+4259657740&4294967295,w=I+(S<<23&4294967295|S>>>9),S=E+(w^I^N)+R[1]+2763975236&4294967295,E=w+(S<<4&4294967295|S>>>28),S=N+(E^w^I)+R[4]+1272893353&4294967295,N=E+(S<<11&4294967295|S>>>21),S=I+(N^E^w)+R[7]+4139469664&4294967295,I=N+(S<<16&4294967295|S>>>16),S=w+(I^N^E)+R[10]+3200236656&4294967295,w=I+(S<<23&4294967295|S>>>9),S=E+(w^I^N)+R[13]+681279174&4294967295,E=w+(S<<4&4294967295|S>>>28),S=N+(E^w^I)+R[0]+3936430074&4294967295,N=E+(S<<11&4294967295|S>>>21),S=I+(N^E^w)+R[3]+3572445317&4294967295,I=N+(S<<16&4294967295|S>>>16),S=w+(I^N^E)+R[6]+76029189&4294967295,w=I+(S<<23&4294967295|S>>>9),S=E+(w^I^N)+R[9]+3654602809&4294967295,E=w+(S<<4&4294967295|S>>>28),S=N+(E^w^I)+R[12]+3873151461&4294967295,N=E+(S<<11&4294967295|S>>>21),S=I+(N^E^w)+R[15]+530742520&4294967295,I=N+(S<<16&4294967295|S>>>16),S=w+(I^N^E)+R[2]+3299628645&4294967295,w=I+(S<<23&4294967295|S>>>9),S=E+(I^(w|~N))+R[0]+4096336452&4294967295,E=w+(S<<6&4294967295|S>>>26),S=N+(w^(E|~I))+R[7]+1126891415&4294967295,N=E+(S<<10&4294967295|S>>>22),S=I+(E^(N|~w))+R[14]+2878612391&4294967295,I=N+(S<<15&4294967295|S>>>17),S=w+(N^(I|~E))+R[5]+4237533241&4294967295,w=I+(S<<21&4294967295|S>>>11),S=E+(I^(w|~N))+R[12]+1700485571&4294967295,E=w+(S<<6&4294967295|S>>>26),S=N+(w^(E|~I))+R[3]+2399980690&4294967295,N=E+(S<<10&4294967295|S>>>22),S=I+(E^(N|~w))+R[10]+4293915773&4294967295,I=N+(S<<15&4294967295|S>>>17),S=w+(N^(I|~E))+R[1]+2240044497&4294967295,w=I+(S<<21&4294967295|S>>>11),S=E+(I^(w|~N))+R[8]+1873313359&4294967295,E=w+(S<<6&4294967295|S>>>26),S=N+(w^(E|~I))+R[15]+4264355552&4294967295,N=E+(S<<10&4294967295|S>>>22),S=I+(E^(N|~w))+R[6]+2734768916&4294967295,I=N+(S<<15&4294967295|S>>>17),S=w+(N^(I|~E))+R[13]+1309151649&4294967295,w=I+(S<<21&4294967295|S>>>11),S=E+(I^(w|~N))+R[4]+4149444226&4294967295,E=w+(S<<6&4294967295|S>>>26),S=N+(w^(E|~I))+R[11]+3174756917&4294967295,N=E+(S<<10&4294967295|S>>>22),S=I+(E^(N|~w))+R[2]+718787259&4294967295,I=N+(S<<15&4294967295|S>>>17),S=w+(N^(I|~E))+R[9]+3951481745&4294967295,C.g[0]=C.g[0]+E&4294967295,C.g[1]=C.g[1]+(I+(S<<21&4294967295|S>>>11))&4294967295,C.g[2]=C.g[2]+I&4294967295,C.g[3]=C.g[3]+N&4294967295}s.prototype.u=function(C,E){E===void 0&&(E=C.length);for(var w=E-this.blockSize,R=this.B,I=this.h,N=0;N<E;){if(I==0)for(;N<=w;)o(this,C,N),N+=this.blockSize;if(typeof C=="string"){for(;N<E;)if(R[I++]=C.charCodeAt(N++),I==this.blockSize){o(this,R),I=0;break}}else for(;N<E;)if(R[I++]=C[N++],I==this.blockSize){o(this,R),I=0;break}}this.h=I,this.o+=E},s.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var E=1;E<C.length-8;++E)C[E]=0;var w=8*this.o;for(E=C.length-8;E<C.length;++E)C[E]=w&255,w/=256;for(this.u(C),C=Array(16),E=w=0;4>E;++E)for(var R=0;32>R;R+=8)C[w++]=this.g[E]>>>R&255;return C};function c(C,E){var w=p;return Object.prototype.hasOwnProperty.call(w,C)?w[C]:w[C]=E(C)}function d(C,E){this.h=E;for(var w=[],R=!0,I=C.length-1;0<=I;I--){var N=C[I]|0;R&&N==E||(w[I]=N,R=!1)}this.g=w}var p={};function _(C){return-128<=C&&128>C?c(C,function(E){return new d([E|0],0>E?-1:0)}):new d([C|0],0>C?-1:0)}function v(C){if(isNaN(C)||!isFinite(C))return M;if(0>C)return $(v(-C));for(var E=[],w=1,R=0;C>=w;R++)E[R]=C/w|0,w*=4294967296;return new d(E,0)}function A(C,E){if(C.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(C.charAt(0)=="-")return $(A(C.substring(1),E));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=v(Math.pow(E,8)),R=M,I=0;I<C.length;I+=8){var N=Math.min(8,C.length-I),S=parseInt(C.substring(I,I+N),E);8>N?(N=v(Math.pow(E,N)),R=R.j(N).add(v(S))):(R=R.j(w),R=R.add(v(S)))}return R}var M=_(0),O=_(1),L=_(16777216);i=d.prototype,i.m=function(){if(G(this))return-$(this).m();for(var C=0,E=1,w=0;w<this.g.length;w++){var R=this.i(w);C+=(0<=R?R:4294967296+R)*E,E*=4294967296}return C},i.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(U(this))return"0";if(G(this))return"-"+$(this).toString(C);for(var E=v(Math.pow(C,6)),w=this,R="";;){var I=ut(w,E).g;w=Q(w,I.j(E));var N=((0<w.g.length?w.g[0]:w.h)>>>0).toString(C);if(w=I,U(w))return N+R;for(;6>N.length;)N="0"+N;R=N+R}},i.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function U(C){if(C.h!=0)return!1;for(var E=0;E<C.g.length;E++)if(C.g[E]!=0)return!1;return!0}function G(C){return C.h==-1}i.l=function(C){return C=Q(this,C),G(C)?-1:U(C)?0:1};function $(C){for(var E=C.g.length,w=[],R=0;R<E;R++)w[R]=~C.g[R];return new d(w,~C.h).add(O)}i.abs=function(){return G(this)?$(this):this},i.add=function(C){for(var E=Math.max(this.g.length,C.g.length),w=[],R=0,I=0;I<=E;I++){var N=R+(this.i(I)&65535)+(C.i(I)&65535),S=(N>>>16)+(this.i(I)>>>16)+(C.i(I)>>>16);R=S>>>16,N&=65535,S&=65535,w[I]=S<<16|N}return new d(w,w[w.length-1]&-2147483648?-1:0)};function Q(C,E){return C.add($(E))}i.j=function(C){if(U(this)||U(C))return M;if(G(this))return G(C)?$(this).j($(C)):$($(this).j(C));if(G(C))return $(this.j($(C)));if(0>this.l(L)&&0>C.l(L))return v(this.m()*C.m());for(var E=this.g.length+C.g.length,w=[],R=0;R<2*E;R++)w[R]=0;for(R=0;R<this.g.length;R++)for(var I=0;I<C.g.length;I++){var N=this.i(R)>>>16,S=this.i(R)&65535,te=C.i(I)>>>16,ee=C.i(I)&65535;w[2*R+2*I]+=S*ee,at(w,2*R+2*I),w[2*R+2*I+1]+=N*ee,at(w,2*R+2*I+1),w[2*R+2*I+1]+=S*te,at(w,2*R+2*I+1),w[2*R+2*I+2]+=N*te,at(w,2*R+2*I+2)}for(R=0;R<E;R++)w[R]=w[2*R+1]<<16|w[2*R];for(R=E;R<2*E;R++)w[R]=0;return new d(w,0)};function at(C,E){for(;(C[E]&65535)!=C[E];)C[E+1]+=C[E]>>>16,C[E]&=65535,E++}function rt(C,E){this.g=C,this.h=E}function ut(C,E){if(U(E))throw Error("division by zero");if(U(C))return new rt(M,M);if(G(C))return E=ut($(C),E),new rt($(E.g),$(E.h));if(G(E))return E=ut(C,$(E)),new rt($(E.g),E.h);if(30<C.g.length){if(G(C)||G(E))throw Error("slowDivide_ only works with positive integers.");for(var w=O,R=E;0>=R.l(C);)w=ht(w),R=ht(R);var I=vt(w,1),N=vt(R,1);for(R=vt(R,2),w=vt(w,2);!U(R);){var S=N.add(R);0>=S.l(C)&&(I=I.add(w),N=S),R=vt(R,1),w=vt(w,1)}return E=Q(C,I.j(E)),new rt(I,E)}for(I=M;0<=C.l(E);){for(w=Math.max(1,Math.floor(C.m()/E.m())),R=Math.ceil(Math.log(w)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),N=v(w),S=N.j(E);G(S)||0<S.l(C);)w-=R,N=v(w),S=N.j(E);U(N)&&(N=O),I=I.add(N),C=Q(C,S)}return new rt(I,C)}i.A=function(C){return ut(this,C).h},i.and=function(C){for(var E=Math.max(this.g.length,C.g.length),w=[],R=0;R<E;R++)w[R]=this.i(R)&C.i(R);return new d(w,this.h&C.h)},i.or=function(C){for(var E=Math.max(this.g.length,C.g.length),w=[],R=0;R<E;R++)w[R]=this.i(R)|C.i(R);return new d(w,this.h|C.h)},i.xor=function(C){for(var E=Math.max(this.g.length,C.g.length),w=[],R=0;R<E;R++)w[R]=this.i(R)^C.i(R);return new d(w,this.h^C.h)};function ht(C){for(var E=C.g.length+1,w=[],R=0;R<E;R++)w[R]=C.i(R)<<1|C.i(R-1)>>>31;return new d(w,C.h)}function vt(C,E){var w=E>>5;E%=32;for(var R=C.g.length-w,I=[],N=0;N<R;N++)I[N]=0<E?C.i(N+w)>>>E|C.i(N+w+1)<<32-E:C.i(N+w);return new d(I,C.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,xg=d}).apply(typeof L1<"u"?L1:typeof self<"u"?self:typeof window<"u"?window:{});var _h=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var i,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,l,f){return h==Array.prototype||h==Object.prototype||(h[l]=f.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof _h=="object"&&_h];for(var l=0;l<h.length;++l){var f=h[l];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var s=n(this);function o(h,l){if(l)t:{var f=s;h=h.split(".");for(var y=0;y<h.length-1;y++){var b=h[y];if(!(b in f))break t;f=f[b]}h=h[h.length-1],y=f[h],l=l(y),l!=y&&l!=null&&t(f,h,{configurable:!0,writable:!0,value:l})}}function c(h,l){h instanceof String&&(h+="");var f=0,y=!1,b={next:function(){if(!y&&f<h.length){var V=f++;return{value:l(V,h[V]),done:!1}}return y=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}o("Array.prototype.values",function(h){return h||function(){return c(this,function(l,f){return f})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},p=this||self;function _(h){var l=typeof h;return l=l!="object"?l:h?Array.isArray(h)?"array":l:"null",l=="array"||l=="object"&&typeof h.length=="number"}function v(h){var l=typeof h;return l=="object"&&h!=null||l=="function"}function A(h,l,f){return h.call.apply(h.bind,arguments)}function M(h,l,f){if(!h)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,y),h.apply(l,b)}}return function(){return h.apply(l,arguments)}}function O(h,l,f){return O=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:M,O.apply(null,arguments)}function L(h,l){var f=Array.prototype.slice.call(arguments,1);return function(){var y=f.slice();return y.push.apply(y,arguments),h.apply(this,y)}}function U(h,l){function f(){}f.prototype=l.prototype,h.aa=l.prototype,h.prototype=new f,h.prototype.constructor=h,h.Qb=function(y,b,V){for(var k=Array(arguments.length-2),W=2;W<arguments.length;W++)k[W-2]=arguments[W];return l.prototype[b].apply(y,k)}}function G(h){const l=h.length;if(0<l){const f=Array(l);for(let y=0;y<l;y++)f[y]=h[y];return f}return[]}function $(h,l){for(let f=1;f<arguments.length;f++){const y=arguments[f];if(_(y)){const b=h.length||0,V=y.length||0;h.length=b+V;for(let k=0;k<V;k++)h[b+k]=y[k]}else h.push(y)}}class Q{constructor(l,f){this.i=l,this.j=f,this.h=0,this.g=null}get(){let l;return 0<this.h?(this.h--,l=this.g,this.g=l.next,l.next=null):l=this.i(),l}}function at(h){return/^[\s\xa0]*$/.test(h)}function rt(){var h=p.navigator;return h&&(h=h.userAgent)?h:""}function ut(h){return ut[" "](h),h}ut[" "]=function(){};var ht=rt().indexOf("Gecko")!=-1&&!(rt().toLowerCase().indexOf("webkit")!=-1&&rt().indexOf("Edge")==-1)&&!(rt().indexOf("Trident")!=-1||rt().indexOf("MSIE")!=-1)&&rt().indexOf("Edge")==-1;function vt(h,l,f){for(const y in h)l.call(f,h[y],y,h)}function C(h,l){for(const f in h)l.call(void 0,h[f],f,h)}function E(h){const l={};for(const f in h)l[f]=h[f];return l}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(h,l){let f,y;for(let b=1;b<arguments.length;b++){y=arguments[b];for(f in y)h[f]=y[f];for(let V=0;V<w.length;V++)f=w[V],Object.prototype.hasOwnProperty.call(y,f)&&(h[f]=y[f])}}function I(h){var l=1;h=h.split(":");const f=[];for(;0<l&&h.length;)f.push(h.shift()),l--;return h.length&&f.push(h.join(":")),f}function N(h){p.setTimeout(()=>{throw h},0)}function S(){var h=Ut;let l=null;return h.g&&(l=h.g,h.g=h.g.next,h.g||(h.h=null),l.next=null),l}class te{constructor(){this.h=this.g=null}add(l,f){const y=ee.get();y.set(l,f),this.h?this.h.next=y:this.g=y,this.h=y}}var ee=new Q(()=>new X,h=>h.reset());class X{constructor(){this.next=this.g=this.h=null}set(l,f){this.h=l,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let lt,dt=!1,Ut=new te,j=()=>{const h=p.Promise.resolve(void 0);lt=()=>{h.then(nt)}};var nt=()=>{for(var h;h=S();){try{h.h.call(h.g)}catch(f){N(f)}var l=ee;l.j(h),100>l.h&&(l.h++,h.next=l.g,l.g=h)}dt=!1};function ot(){this.s=this.s,this.C=this.C}ot.prototype.s=!1,ot.prototype.ma=function(){this.s||(this.s=!0,this.N())},ot.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function it(h,l){this.type=h,this.g=this.target=l,this.defaultPrevented=!1}it.prototype.h=function(){this.defaultPrevented=!0};var gt=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var h=!1,l=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const f=()=>{};p.addEventListener("test",f,l),p.removeEventListener("test",f,l)}catch{}return h}();function Dt(h,l){if(it.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var f=this.type=h.type,y=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=l,l=h.relatedTarget){if(ht){t:{try{ut(l.nodeName);var b=!0;break t}catch{}b=!1}b||(l=null)}}else f=="mouseover"?l=h.fromElement:f=="mouseout"&&(l=h.toElement);this.relatedTarget=l,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:At[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Dt.aa.h.call(this)}}U(Dt,it);var At={2:"touch",3:"pen",4:"mouse"};Dt.prototype.h=function(){Dt.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ft="closure_listenable_"+(1e6*Math.random()|0),Xt=0;function Sn(h,l,f,y,b){this.listener=h,this.proxy=null,this.src=l,this.type=f,this.capture=!!y,this.ha=b,this.key=++Xt,this.da=this.fa=!1}function mn(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function pn(h){this.src=h,this.g={},this.h=0}pn.prototype.add=function(h,l,f,y,b){var V=h.toString();h=this.g[V],h||(h=this.g[V]=[],this.h++);var k=Ui(h,l,y,b);return-1<k?(l=h[k],f||(l.fa=!1)):(l=new Sn(l,this.src,V,!!y,b),l.fa=f,h.push(l)),l};function Li(h,l){var f=l.type;if(f in h.g){var y=h.g[f],b=Array.prototype.indexOf.call(y,l,void 0),V;(V=0<=b)&&Array.prototype.splice.call(y,b,1),V&&(mn(l),h.g[f].length==0&&(delete h.g[f],h.h--))}}function Ui(h,l,f,y){for(var b=0;b<h.length;++b){var V=h[b];if(!V.da&&V.listener==l&&V.capture==!!f&&V.ha==y)return b}return-1}var Bi="closure_lm_"+(1e6*Math.random()|0),Cr={};function va(h,l,f,y,b){if(Array.isArray(l)){for(var V=0;V<l.length;V++)va(h,l[V],f,y,b);return null}return f=Ea(f),h&&h[ft]?h.K(l,f,v(y)?!!y.capture:!1,b):Vn(h,l,f,!1,y,b)}function Vn(h,l,f,y,b,V){if(!l)throw Error("Invalid event type");var k=v(b)?!!b.capture:!!b,W=nr(h);if(W||(h[Bi]=W=new pn(h)),f=W.add(l,f,y,k,V),f.proxy)return f;if(y=Cl(),f.proxy=y,y.src=h,y.listener=f,h.addEventListener)gt||(b=k),b===void 0&&(b=!1),h.addEventListener(l.toString(),y,b);else if(h.attachEvent)h.attachEvent(er(l.toString()),y);else if(h.addListener&&h.removeListener)h.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return f}function Cl(){function h(f){return l.call(h.src,h.listener,f)}const l=Dl;return h}function gs(h,l,f,y,b){if(Array.isArray(l))for(var V=0;V<l.length;V++)gs(h,l[V],f,y,b);else y=v(y)?!!y.capture:!!y,f=Ea(f),h&&h[ft]?(h=h.i,l=String(l).toString(),l in h.g&&(V=h.g[l],f=Ui(V,f,y,b),-1<f&&(mn(V[f]),Array.prototype.splice.call(V,f,1),V.length==0&&(delete h.g[l],h.h--)))):h&&(h=nr(h))&&(l=h.g[l.toString()],h=-1,l&&(h=Ui(l,f,y,b)),(f=-1<h?l[h]:null)&&tr(f))}function tr(h){if(typeof h!="number"&&h&&!h.da){var l=h.src;if(l&&l[ft])Li(l.i,h);else{var f=h.type,y=h.proxy;l.removeEventListener?l.removeEventListener(f,y,h.capture):l.detachEvent?l.detachEvent(er(f),y):l.addListener&&l.removeListener&&l.removeListener(y),(f=nr(l))?(Li(f,h),f.h==0&&(f.src=null,l[Bi]=null)):mn(h)}}}function er(h){return h in Cr?Cr[h]:Cr[h]="on"+h}function Dl(h,l){if(h.da)h=!0;else{l=new Dt(l,this);var f=h.listener,y=h.ha||h.src;h.fa&&tr(h),h=f.call(y,l)}return h}function nr(h){return h=h[Bi],h instanceof pn?h:null}var Dr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ea(h){return typeof h=="function"?h:(h[Dr]||(h[Dr]=function(l){return h.handleEvent(l)}),h[Dr])}function kt(){ot.call(this),this.i=new pn(this),this.M=this,this.F=null}U(kt,ot),kt.prototype[ft]=!0,kt.prototype.removeEventListener=function(h,l,f,y){gs(this,h,l,f,y)};function Nt(h,l){var f,y=h.F;if(y)for(f=[];y;y=y.F)f.push(y);if(h=h.M,y=l.type||l,typeof l=="string")l=new it(l,h);else if(l instanceof it)l.target=l.target||h;else{var b=l;l=new it(y,h),R(l,b)}if(b=!0,f)for(var V=f.length-1;0<=V;V--){var k=l.g=f[V];b=Ye(k,y,!0,l)&&b}if(k=l.g=h,b=Ye(k,y,!0,l)&&b,b=Ye(k,y,!1,l)&&b,f)for(V=0;V<f.length;V++)k=l.g=f[V],b=Ye(k,y,!1,l)&&b}kt.prototype.N=function(){if(kt.aa.N.call(this),this.i){var h=this.i,l;for(l in h.g){for(var f=h.g[l],y=0;y<f.length;y++)mn(f[y]);delete h.g[l],h.h--}}this.F=null},kt.prototype.K=function(h,l,f,y){return this.i.add(String(h),l,!1,f,y)},kt.prototype.L=function(h,l,f,y){return this.i.add(String(h),l,!0,f,y)};function Ye(h,l,f,y){if(l=h.i.g[String(l)],!l)return!0;l=l.concat();for(var b=!0,V=0;V<l.length;++V){var k=l[V];if(k&&!k.da&&k.capture==f){var W=k.listener,bt=k.ha||k.src;k.fa&&Li(h.i,k),b=W.call(bt,y)!==!1&&b}}return b&&!y.defaultPrevented}function $e(h,l,f){if(typeof h=="function")f&&(h=O(h,f));else if(h&&typeof h.handleEvent=="function")h=O(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(l)?-1:p.setTimeout(h,l||0)}function ba(h){h.g=$e(()=>{h.g=null,h.i&&(h.i=!1,ba(h))},h.l);const l=h.h;h.h=null,h.m.apply(null,l)}class Nl extends ot{constructor(l,f){super(),this.m=l,this.l=f,this.h=null,this.i=!1,this.g=null}j(l){this.h=arguments,this.g?this.i=!0:ba(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yn(h){ot.call(this),this.h=h,this.g={}}U(Yn,ot);var ir=[];function rr(h){vt(h.g,function(l,f){this.g.hasOwnProperty(f)&&tr(l)},h),h.g={}}Yn.prototype.N=function(){Yn.aa.N.call(this),rr(this)},Yn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var An=p.JSON.stringify,ys=p.JSON.parse,Nr=class{stringify(h){return p.JSON.stringify(h,void 0)}parse(h){return p.JSON.parse(h,void 0)}};function Or(){}Or.prototype.h=null;function _s(h){return h.h||(h.h=h.i())}function Ta(){}var Rn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Qn(){it.call(this,"d")}U(Qn,it);function Mr(){it.call(this,"c")}U(Mr,it);var sn={},vs=null;function gi(){return vs=vs||new kt}sn.La="serverreachability";function Vr(h){it.call(this,sn.La,h)}U(Vr,it);function Pn(h){const l=gi();Nt(l,new Vr(l))}sn.STAT_EVENT="statevent";function wa(h,l){it.call(this,sn.STAT_EVENT,h),this.stat=l}U(wa,it);function Pt(h){const l=gi();Nt(l,new wa(l,h))}sn.Ma="timingevent";function Te(h,l){it.call(this,sn.Ma,h),this.size=l}U(Te,it);function he(h,l){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){h()},l)}function Qe(){this.g=!0}Qe.prototype.xa=function(){this.g=!1};function Sa(h,l,f,y,b,V){h.info(function(){if(h.g)if(V)for(var k="",W=V.split("&"),bt=0;bt<W.length;bt++){var Tt=W[bt].split("=");if(1<Tt.length){var wt=Tt[0];Tt=Tt[1];var qt=wt.split("_");k=2<=qt.length&&qt[1]=="type"?k+(wt+"="+Tt+"&"):k+(wt+"=redacted&")}}else k=null;else k=V;return"XMLHTTP REQ ("+y+") [attempt "+b+"]: "+l+`
`+f+`
`+k})}function Ol(h,l,f,y,b,V,k){h.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+b+"]: "+l+`
`+f+`
`+V+" "+k})}function xn(h,l,f,y){h.info(function(){return"XMLHTTP TEXT ("+l+"): "+Pr(h,f)+(y?" "+y:"")})}function Ro(h,l){h.info(function(){return"TIMEOUT: "+l})}Qe.prototype.info=function(){};function Pr(h,l){if(!h.g)return l;if(!l)return null;try{var f=JSON.parse(l);if(f){for(h=0;h<f.length;h++)if(Array.isArray(f[h])){var y=f[h];if(!(2>y.length)){var b=y[1];if(Array.isArray(b)&&!(1>b.length)){var V=b[0];if(V!="noop"&&V!="stop"&&V!="close")for(var k=1;k<b.length;k++)b[k]=""}}}}return An(f)}catch{return l}}var yi={NO_ERROR:0,TIMEOUT:8},$i={},kn;function In(){}U(In,Or),In.prototype.g=function(){return new XMLHttpRequest},In.prototype.i=function(){return{}},kn=new In;function pe(h,l,f,y){this.j=h,this.i=l,this.l=f,this.R=y||1,this.U=new Yn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ge}function ge(){this.i=null,this.g="",this.h=!1}var Es={},sr={};function Cn(h,l,f){h.L=1,h.v=Si(_e(l)),h.m=f,h.P=!0,_i(h,null)}function _i(h,l){h.F=Date.now(),vi(h),h.A=_e(h.v);var f=h.A,y=h.R;Array.isArray(y)||(y=[String(y)]),Rs(f.i,"t",y),h.C=0,f=h.j.J,h.h=new ge,h.g=ja(h.j,f?l:null,!h.m),0<h.O&&(h.M=new Nl(O(h.Y,h,h.g),h.O)),l=h.U,f=h.g,y=h.ca;var b="readystatechange";Array.isArray(b)||(b&&(ir[0]=b.toString()),b=ir);for(var V=0;V<b.length;V++){var k=va(f,b[V],y||l.handleEvent,!1,l.h||l);if(!k)break;l.g[k.key]=k}l=h.H?E(h.H):{},h.m?(h.u||(h.u="POST"),l["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,l)):(h.u="GET",h.g.ea(h.A,h.u,null,l)),Pn(),Sa(h.i,h.u,h.A,h.l,h.R,h.m)}pe.prototype.ca=function(h){h=h.target;const l=this.M;l&&Se(h)==3?l.j():this.Y(h)},pe.prototype.Y=function(h){try{if(h==this.g)t:{const qt=Se(this.g);var l=this.g.Ba();const fe=this.g.Z();if(!(3>qt)&&(qt!=3||this.g&&(this.h.h||this.g.oa()||Ca(this.g)))){this.J||qt!=4||l==7||(l==8||0>=fe?Pn(3):Pn(2)),Ei(this);var f=this.g.Z();this.X=f;e:if(Aa(this)){var y=Ca(this.g);h="";var b=y.length,V=Se(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){me(this),gn(this);var k="";break e}this.h.i=new p.TextDecoder}for(l=0;l<b;l++)this.h.h=!0,h+=this.h.i.decode(y[l],{stream:!(V&&l==b-1)});y.length=0,this.h.g+=h,this.C=0,k=this.h.g}else k=this.g.oa();if(this.o=f==200,Ol(this.i,this.u,this.A,this.l,this.R,qt,f),this.o){if(this.T&&!this.K){e:{if(this.g){var W,bt=this.g;if((W=bt.g?bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!at(W)){var Tt=W;break e}}Tt=null}if(f=Tt)xn(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zi(this,f);else{this.o=!1,this.s=3,Pt(12),me(this),gn(this);break t}}if(this.P){f=!0;let Oe;for(;!this.J&&this.C<k.length;)if(Oe=xo(this,k),Oe==sr){qt==4&&(this.s=4,Pt(14),f=!1),xn(this.i,this.l,null,"[Incomplete Response]");break}else if(Oe==Es){this.s=4,Pt(15),xn(this.i,this.l,k,"[Invalid Chunk]"),f=!1;break}else xn(this.i,this.l,Oe,null),zi(this,Oe);if(Aa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qt!=4||k.length!=0||this.h.h||(this.s=1,Pt(16),f=!1),this.o=this.o&&f,!f)xn(this.i,this.l,k,"[Invalid Chunked Response]"),me(this),gn(this);else if(0<k.length&&!this.W){this.W=!0;var wt=this.j;wt.g==this&&wt.ba&&!wt.M&&(wt.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),Hi(wt),wt.M=!0,Pt(11))}}else xn(this.i,this.l,k,null),zi(this,k);qt==4&&me(this),this.o&&!this.J&&(qt==4?Va(this.j,this):(this.o=!1,vi(this)))}else jl(this.g),f==400&&0<k.indexOf("Unknown SID")?(this.s=3,Pt(12)):(this.s=0,Pt(13)),me(this),gn(this)}}}catch{}finally{}};function Aa(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function xo(h,l){var f=h.C,y=l.indexOf(`
`,f);return y==-1?sr:(f=Number(l.substring(f,y)),isNaN(f)?Es:(y+=1,y+f>l.length?sr:(l=l.slice(y,y+f),h.C=y+f,l)))}pe.prototype.cancel=function(){this.J=!0,me(this)};function vi(h){h.S=Date.now()+h.I,Ra(h,h.I)}function Ra(h,l){if(h.B!=null)throw Error("WatchDog timer not null");h.B=he(O(h.ba,h),l)}function Ei(h){h.B&&(p.clearTimeout(h.B),h.B=null)}pe.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Ro(this.i,this.A),this.L!=2&&(Pn(),Pt(17)),me(this),this.s=2,gn(this)):Ra(this,this.S-h)};function gn(h){h.j.G==0||h.J||Va(h.j,h)}function me(h){Ei(h);var l=h.M;l&&typeof l.ma=="function"&&l.ma(),h.M=null,rr(h.U),h.g&&(l=h.g,h.g=null,l.abort(),l.ma())}function zi(h,l){try{var f=h.j;if(f.G!=0&&(f.g==h||Lr(f.h,h))){if(!h.K&&Lr(f.h,h)&&f.G==3){try{var y=f.Da.g.parse(l)}catch{y=null}if(Array.isArray(y)&&y.length==3){var b=y;if(b[0]==0){t:if(!f.u){if(f.g)if(f.g.F+3e3<h.F)Gi(f),Fi(f);else break t;Gr(f),Pt(18)}}else f.za=b[1],0<f.za-f.T&&37500>b[2]&&f.F&&f.v==0&&!f.C&&(f.C=he(O(f.Za,f),6e3));if(1>=jr(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else on(f,11)}else if((h.K||f.g==h)&&Gi(f),!at(l))for(b=f.Da.g.parse(l),l=0;l<b.length;l++){let Tt=b[l];if(f.T=Tt[0],Tt=Tt[1],f.G==2)if(Tt[0]=="c"){f.K=Tt[1],f.ia=Tt[2];const wt=Tt[3];wt!=null&&(f.la=wt,f.j.info("VER="+f.la));const qt=Tt[4];qt!=null&&(f.Aa=qt,f.j.info("SVER="+f.Aa));const fe=Tt[5];fe!=null&&typeof fe=="number"&&0<fe&&(y=1.5*fe,f.L=y,f.j.info("backChannelRequestTimeoutMs_="+y)),y=f;const Oe=h.g;if(Oe){const Ae=Oe.g?Oe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ae){var V=y.h;V.g||Ae.indexOf("spdy")==-1&&Ae.indexOf("quic")==-1&&Ae.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(ar(V,V.h),V.h=null))}if(y.D){const Ln=Oe.g?Oe.g.getResponseHeader("X-HTTP-Session-Id"):null;Ln&&(y.ya=Ln,_t(y.I,y.D,Ln))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-h.F,f.j.info("Handshake RTT: "+f.R+"ms")),y=f;var k=h;if(y.qa=ka(y,y.J?y.ia:null,y.W),k.K){Xe(y.h,k);var W=k,bt=y.L;bt&&(W.I=bt),W.B&&(Ei(W),vi(W)),y.g=k}else Oa(y);0<f.i.length&&qi(f)}else Tt[0]!="stop"&&Tt[0]!="close"||on(f,7);else f.G==3&&(Tt[0]=="stop"||Tt[0]=="close"?Tt[0]=="stop"?on(f,7):Hr(f):Tt[0]!="noop"&&f.l&&f.l.ta(Tt),f.v=0)}}Pn(4)}catch{}}var Io=class{constructor(h,l){this.g=h,this.map=l}};function bi(h){this.l=h||10,p.PerformanceNavigationTiming?(h=p.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function kr(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function jr(h){return h.h?1:h.g?h.g.size:0}function Lr(h,l){return h.h?h.h==l:h.g?h.g.has(l):!1}function ar(h,l){h.g?h.g.add(l):h.h=l}function Xe(h,l){h.h&&h.h==l?h.h=null:h.g&&h.g.has(l)&&h.g.delete(l)}bi.prototype.cancel=function(){if(this.i=bs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function bs(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let l=h.i;for(const f of h.g.values())l=l.concat(f.D);return l}return G(h.i)}function Ml(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(_(h)){for(var l=[],f=h.length,y=0;y<f;y++)l.push(h[y]);return l}l=[],f=0;for(y in h)l[f++]=h[y];return l}function Ts(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(_(h)||typeof h=="string"){var l=[];h=h.length;for(var f=0;f<h;f++)l.push(f);return l}l=[],f=0;for(const y in h)l[f++]=y;return l}}}function ws(h,l){if(h.forEach&&typeof h.forEach=="function")h.forEach(l,void 0);else if(_(h)||typeof h=="string")Array.prototype.forEach.call(h,l,void 0);else for(var f=Ts(h),y=Ml(h),b=y.length,V=0;V<b;V++)l.call(void 0,y[V],f&&f[V],h)}var or=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vl(h,l){if(h){h=h.split("&");for(var f=0;f<h.length;f++){var y=h[f].indexOf("="),b=null;if(0<=y){var V=h[f].substring(0,y);b=h[f].substring(y+1)}else V=h[f];l(V,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function se(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof se){this.h=h.h,Ti(this,h.j),this.o=h.o,this.g=h.g,Xn(this,h.s),this.l=h.l;var l=h.i,f=new Dn;f.i=l.i,l.g&&(f.g=new Map(l.g),f.h=l.h),wi(this,f),this.m=h.m}else h&&(l=String(h).match(or))?(this.h=!1,Ti(this,l[1]||"",!0),this.o=Ze(l[2]||""),this.g=Ze(l[3]||"",!0),Xn(this,l[4]),this.l=Ze(l[5]||"",!0),wi(this,l[6]||"",!0),this.m=Ze(l[7]||"")):(this.h=!1,this.i=new Dn(null,this.h))}se.prototype.toString=function(){var h=[],l=this.j;l&&h.push(Zn(l,Ss,!0),":");var f=this.g;return(f||l=="file")&&(h.push("//"),(l=this.o)&&h.push(Zn(l,Ss,!0),"@"),h.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&h.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&h.push("/"),h.push(Zn(f,f.charAt(0)=="/"?Pl:xa,!0))),(f=this.i.toString())&&h.push("?",f),(f=this.m)&&h.push("#",Zn(f,As)),h.join("")};function _e(h){return new se(h)}function Ti(h,l,f){h.j=f?Ze(l,!0):l,h.j&&(h.j=h.j.replace(/:$/,""))}function Xn(h,l){if(l){if(l=Number(l),isNaN(l)||0>l)throw Error("Bad port number "+l);h.s=l}else h.s=null}function wi(h,l,f){l instanceof Dn?(h.i=l,Do(h.i,h.h)):(f||(l=Zn(l,kl)),h.i=new Dn(l,h.h))}function _t(h,l,f){h.i.set(l,f)}function Si(h){return _t(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Ze(h,l){return h?l?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Zn(h,l,f){return typeof h=="string"?(h=encodeURI(h).replace(l,Co),f&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Co(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ss=/[#\/\?@]/g,xa=/[#\?:]/g,Pl=/[#\?]/g,kl=/[#\?@]/g,As=/#/g;function Dn(h,l){this.h=this.g=null,this.i=h||null,this.j=!!l}function De(h){h.g||(h.g=new Map,h.h=0,h.i&&Vl(h.i,function(l,f){h.add(decodeURIComponent(l.replace(/\+/g," ")),f)}))}i=Dn.prototype,i.add=function(h,l){De(this),this.i=null,h=an(this,h);var f=this.g.get(h);return f||this.g.set(h,f=[]),f.push(l),this.h+=1,this};function Ai(h,l){De(h),l=an(h,l),h.g.has(l)&&(h.i=null,h.h-=h.g.get(l).length,h.g.delete(l))}function Ri(h,l){return De(h),l=an(h,l),h.g.has(l)}i.forEach=function(h,l){De(this),this.g.forEach(function(f,y){f.forEach(function(b){h.call(l,b,y,this)},this)},this)},i.na=function(){De(this);const h=Array.from(this.g.values()),l=Array.from(this.g.keys()),f=[];for(let y=0;y<l.length;y++){const b=h[y];for(let V=0;V<b.length;V++)f.push(l[y])}return f},i.V=function(h){De(this);let l=[];if(typeof h=="string")Ri(this,h)&&(l=l.concat(this.g.get(an(this,h))));else{h=Array.from(this.g.values());for(let f=0;f<h.length;f++)l=l.concat(h[f])}return l},i.set=function(h,l){return De(this),this.i=null,h=an(this,h),Ri(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[l]),this.h+=1,this},i.get=function(h,l){return h?(h=this.V(h),0<h.length?String(h[0]):l):l};function Rs(h,l,f){Ai(h,l),0<f.length&&(h.i=null,h.g.set(an(h,l),G(f)),h.h+=f.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],l=Array.from(this.g.keys());for(var f=0;f<l.length;f++){var y=l[f];const V=encodeURIComponent(String(y)),k=this.V(y);for(y=0;y<k.length;y++){var b=V;k[y]!==""&&(b+="="+encodeURIComponent(String(k[y]))),h.push(b)}}return this.i=h.join("&")};function an(h,l){return l=String(l),h.j&&(l=l.toLowerCase()),l}function Do(h,l){l&&!h.j&&(De(h),h.i=null,h.g.forEach(function(f,y){var b=y.toLowerCase();y!=b&&(Ai(this,y),Rs(this,b,f))},h)),h.j=l}function Ur(h,l){const f=new Qe;if(p.Image){const y=new Image;y.onload=L(Ne,f,"TestLoadImage: loaded",!0,l,y),y.onerror=L(Ne,f,"TestLoadImage: error",!1,l,y),y.onabort=L(Ne,f,"TestLoadImage: abort",!1,l,y),y.ontimeout=L(Ne,f,"TestLoadImage: timeout",!1,l,y),p.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=h}else l(!1)}function Jn(h,l){const f=new Qe,y=new AbortController,b=setTimeout(()=>{y.abort(),Ne(f,"TestPingServer: timeout",!1,l)},1e4);fetch(h,{signal:y.signal}).then(V=>{clearTimeout(b),V.ok?Ne(f,"TestPingServer: ok",!0,l):Ne(f,"TestPingServer: server error",!1,l)}).catch(()=>{clearTimeout(b),Ne(f,"TestPingServer: error",!1,l)})}function Ne(h,l,f,y,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),y(f)}catch{}}function Br(){this.g=new Nr}function xi(h,l,f){const y=f||"";try{ws(h,function(b,V){let k=b;v(b)&&(k=An(b)),l.push(y+V+"="+encodeURIComponent(k))})}catch(b){throw l.push(y+"type="+encodeURIComponent("_badmap")),b}}function Wn(h){this.l=h.Ub||null,this.j=h.eb||!1}U(Wn,Or),Wn.prototype.g=function(){return new jn(this.l,this.j)},Wn.prototype.i=function(h){return function(){return h}}({});function jn(h,l){kt.call(this),this.D=h,this.o=l,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}U(jn,kt),i=jn.prototype,i.open=function(h,l){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=l,this.readyState=1,_n(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const l={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(l.body=h),(this.D||p).fetch(new Request(this.A,l)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,yn(this)),this.readyState=0},i.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,_n(this)),this.g&&(this.readyState=3,_n(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xs(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function xs(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}i.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var l=h.value?h.value:new Uint8Array(0);(l=this.v.decode(l,{stream:!h.done}))&&(this.response=this.responseText+=l)}h.done?yn(this):_n(this),this.readyState==3&&xs(this)}},i.Ra=function(h){this.g&&(this.response=this.responseText=h,yn(this))},i.Qa=function(h){this.g&&(this.response=h,yn(this))},i.ga=function(){this.g&&yn(this)};function yn(h){h.readyState=4,h.l=null,h.j=null,h.v=null,_n(h)}i.setRequestHeader=function(h,l){this.u.append(h,l)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],l=this.h.entries();for(var f=l.next();!f.done;)f=f.value,h.push(f[0]+": "+f[1]),f=l.next();return h.join(`\r
`)};function _n(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(jn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Is(h){let l="";return vt(h,function(f,y){l+=y,l+=":",l+=f,l+=`\r
`}),l}function we(h,l,f){t:{for(y in f){var y=!1;break t}y=!0}y||(f=Is(f),typeof h=="string"?f!=null&&encodeURIComponent(String(f)):_t(h,l,f))}function Et(h){kt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}U(Et,kt);var Cs=/^https?$/i,$r=["POST","PUT"];i=Et.prototype,i.Ha=function(h){this.J=h},i.ea=function(h,l,f,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);l=l?l.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():kn.g(),this.v=this.o?_s(this.o):_s(kn),this.g.onreadystatechange=O(this.Ea,this);try{this.B=!0,this.g.open(l,String(h),!0),this.B=!1}catch(V){Ia(this,V);return}if(h=f||"",f=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var b in y)f.set(b,y[b]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(const V of y.keys())f.set(V,y.get(V));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(f.keys()).find(V=>V.toLowerCase()=="content-type"),b=p.FormData&&h instanceof p.FormData,!(0<=Array.prototype.indexOf.call($r,l,void 0))||y||b||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,k]of f)this.g.setRequestHeader(V,k);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{lr(this),this.u=!0,this.g.send(h),this.u=!1}catch(V){Ia(this,V)}};function Ia(h,l){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=l,h.m=5,zr(h),Nn(h)}function zr(h){h.A||(h.A=!0,Nt(h,"complete"),Nt(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Nt(this,"complete"),Nt(this,"abort"),Nn(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Nn(this,!0)),Et.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Fr(this):this.bb())},i.bb=function(){Fr(this)};function Fr(h){if(h.h&&typeof d<"u"&&(!h.v[1]||Se(h)!=4||h.Z()!=2)){if(h.u&&Se(h)==4)$e(h.Ea,0,h);else if(Nt(h,"readystatechange"),Se(h)==4){h.h=!1;try{const k=h.Z();t:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var l=!0;break t;default:l=!1}var f;if(!(f=l)){var y;if(y=k===0){var b=String(h.D).match(or)[1]||null;!b&&p.self&&p.self.location&&(b=p.self.location.protocol.slice(0,-1)),y=!Cs.test(b?b.toLowerCase():"")}f=y}if(f)Nt(h,"complete"),Nt(h,"success");else{h.m=6;try{var V=2<Se(h)?h.g.statusText:""}catch{V=""}h.l=V+" ["+h.Z()+"]",zr(h)}}finally{Nn(h)}}}}function Nn(h,l){if(h.g){lr(h);const f=h.g,y=h.v[0]?()=>{}:null;h.g=null,h.v=null,l||Nt(h,"ready");try{f.onreadystatechange=y}catch{}}}function lr(h){h.I&&(p.clearTimeout(h.I),h.I=null)}i.isActive=function(){return!!this.g};function Se(h){return h.g?h.g.readyState:0}i.Z=function(){try{return 2<Se(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(h){if(this.g){var l=this.g.responseText;return h&&l.indexOf(h)==0&&(l=l.substring(h.length)),ys(l)}};function Ca(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function jl(h){const l={};h=(h.g&&2<=Se(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<h.length;y++){if(at(h[y]))continue;var f=I(h[y]);const b=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const V=l[b]||[];l[b]=V,V.push(f)}C(l,function(y){return y.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ti(h,l,f){return f&&f.internalChannelParams&&f.internalChannelParams[h]||l}function qr(h){this.Aa=0,this.i=[],this.j=new Qe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ti("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ti("baseRetryDelayMs",5e3,h),this.cb=ti("retryDelaySeedMs",1e4,h),this.Wa=ti("forwardChannelMaxRetries",2,h),this.wa=ti("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new bi(h&&h.concurrentRequestLimit),this.Da=new Br,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=qr.prototype,i.la=8,i.G=1,i.connect=function(h,l,f,y){Pt(0),this.W=h,this.H=l||{},f&&y!==void 0&&(this.H.OSID=f,this.H.OAID=y),this.F=this.X,this.I=ka(this,null,this.W),qi(this)};function Hr(h){if(Da(h),h.G==3){var l=h.U++,f=_e(h.I);if(_t(f,"SID",h.K),_t(f,"RID",l),_t(f,"TYPE","terminate"),ei(h,f),l=new pe(h,h.j,l),l.L=2,l.v=Si(_e(f)),f=!1,p.navigator&&p.navigator.sendBeacon)try{f=p.navigator.sendBeacon(l.v.toString(),"")}catch{}!f&&p.Image&&(new Image().src=l.v,f=!0),f||(l.g=ja(l.j,null),l.g.ea(l.v)),l.F=Date.now(),vi(l)}Pa(h)}function Fi(h){h.g&&(Hi(h),h.g.cancel(),h.g=null)}function Da(h){Fi(h),h.u&&(p.clearTimeout(h.u),h.u=null),Gi(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&p.clearTimeout(h.s),h.s=null)}function qi(h){if(!kr(h.h)&&!h.s){h.s=!0;var l=h.Ga;lt||j(),dt||(lt(),dt=!0),Ut.add(l,h),h.B=0}}function Ll(h,l){return jr(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=l.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=he(O(h.Ga,h,l),Ns(h,h.B)),h.B++,!0)}i.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const b=new pe(this,this.j,h);let V=this.o;if(this.S&&(V?(V=E(V),R(V,this.S)):V=this.S),this.m!==null||this.O||(b.H=V,V=null),this.P)t:{for(var l=0,f=0;f<this.i.length;f++){e:{var y=this.i[f];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break e}y=void 0}if(y===void 0)break;if(l+=y,4096<l){l=f;break t}if(l===4096||f===this.i.length-1){l=f+1;break t}}l=1e3}else l=1e3;l=Na(this,b,l),f=_e(this.I),_t(f,"RID",h),_t(f,"CVER",22),this.D&&_t(f,"X-HTTP-Session-Id",this.D),ei(this,f),V&&(this.O?l="headers="+encodeURIComponent(String(Is(V)))+"&"+l:this.m&&we(f,this.m,V)),ar(this.h,b),this.Ua&&_t(f,"TYPE","init"),this.P?(_t(f,"$req",l),_t(f,"SID","null"),b.T=!0,Cn(b,f,null)):Cn(b,f,l),this.G=2}}else this.G==3&&(h?Ds(this,h):this.i.length==0||kr(this.h)||Ds(this))};function Ds(h,l){var f;l?f=l.l:f=h.U++;const y=_e(h.I);_t(y,"SID",h.K),_t(y,"RID",f),_t(y,"AID",h.T),ei(h,y),h.m&&h.o&&we(y,h.m,h.o),f=new pe(h,h.j,f,h.B+1),h.m===null&&(f.H=h.o),l&&(h.i=l.D.concat(h.i)),l=Na(h,f,1e3),f.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),ar(h.h,f),Cn(f,y,l)}function ei(h,l){h.H&&vt(h.H,function(f,y){_t(l,y,f)}),h.l&&ws({},function(f,y){_t(l,y,f)})}function Na(h,l,f){f=Math.min(h.i.length,f);var y=h.l?O(h.l.Na,h.l,h):null;t:{var b=h.i;let V=-1;for(;;){const k=["count="+f];V==-1?0<f?(V=b[0].g,k.push("ofs="+V)):V=0:k.push("ofs="+V);let W=!0;for(let bt=0;bt<f;bt++){let Tt=b[bt].g;const wt=b[bt].map;if(Tt-=V,0>Tt)V=Math.max(0,b[bt].g-100),W=!1;else try{xi(wt,k,"req"+Tt+"_")}catch{y&&y(wt)}}if(W){y=k.join("&");break t}}}return h=h.i.splice(0,f),l.D=h,y}function Oa(h){if(!h.g&&!h.u){h.Y=1;var l=h.Fa;lt||j(),dt||(lt(),dt=!0),Ut.add(l,h),h.v=0}}function Gr(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=he(O(h.Fa,h),Ns(h,h.v)),h.v++,!0)}i.Fa=function(){if(this.u=null,Ma(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=he(O(this.ab,this),h)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Pt(10),Fi(this),Ma(this))};function Hi(h){h.A!=null&&(p.clearTimeout(h.A),h.A=null)}function Ma(h){h.g=new pe(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var l=_e(h.qa);_t(l,"RID","rpc"),_t(l,"SID",h.K),_t(l,"AID",h.T),_t(l,"CI",h.F?"0":"1"),!h.F&&h.ja&&_t(l,"TO",h.ja),_t(l,"TYPE","xmlhttp"),ei(h,l),h.m&&h.o&&we(l,h.m,h.o),h.L&&(h.g.I=h.L);var f=h.g;h=h.ia,f.L=1,f.v=Si(_e(l)),f.m=null,f.P=!0,_i(f,h)}i.Za=function(){this.C!=null&&(this.C=null,Fi(this),Gr(this),Pt(19))};function Gi(h){h.C!=null&&(p.clearTimeout(h.C),h.C=null)}function Va(h,l){var f=null;if(h.g==l){Gi(h),Hi(h),h.g=null;var y=2}else if(Lr(h.h,l))f=l.D,Xe(h.h,l),y=1;else return;if(h.G!=0){if(l.o)if(y==1){f=l.m?l.m.length:0,l=Date.now()-l.F;var b=h.B;y=gi(),Nt(y,new Te(y,f)),qi(h)}else Oa(h);else if(b=l.s,b==3||b==0&&0<l.X||!(y==1&&Ll(h,l)||y==2&&Gr(h)))switch(f&&0<f.length&&(l=h.h,l.i=l.i.concat(f)),b){case 1:on(h,5);break;case 4:on(h,10);break;case 3:on(h,6);break;default:on(h,2)}}}function Ns(h,l){let f=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(f*=2),f*l}function on(h,l){if(h.j.info("Error code "+l),l==2){var f=O(h.fb,h),y=h.Xa;const b=!y;y=new se(y||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Ti(y,"https"),Si(y),b?Ur(y.toString(),f):Jn(y.toString(),f)}else Pt(2);h.G=0,h.l&&h.l.sa(l),Pa(h),Da(h)}i.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Pt(2)):(this.j.info("Failed to ping google.com"),Pt(1))};function Pa(h){if(h.G=0,h.ka=[],h.l){const l=bs(h.h);(l.length!=0||h.i.length!=0)&&($(h.ka,l),$(h.ka,h.i),h.h.i.length=0,G(h.i),h.i.length=0),h.l.ra()}}function ka(h,l,f){var y=f instanceof se?_e(f):new se(f);if(y.g!="")l&&(y.g=l+"."+y.g),Xn(y,y.s);else{var b=p.location;y=b.protocol,l=l?l+"."+b.hostname:b.hostname,b=+b.port;var V=new se(null);y&&Ti(V,y),l&&(V.g=l),b&&Xn(V,b),f&&(V.l=f),y=V}return f=h.D,l=h.ya,f&&l&&_t(y,f,l),_t(y,"VER",h.la),ei(h,y),y}function ja(h,l,f){if(l&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return l=h.Ca&&!h.pa?new Et(new Wn({eb:f})):new Et(h.pa),l.Ha(h.J),l}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function La(){}i=La.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function ze(h,l){kt.call(this),this.g=new qr(l),this.l=h,this.h=l&&l.messageUrlParams||null,h=l&&l.messageHeaders||null,l&&l.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=l&&l.initMessageHeaders||null,l&&l.messageContentType&&(h?h["X-WebChannel-Content-Type"]=l.messageContentType:h={"X-WebChannel-Content-Type":l.messageContentType}),l&&l.va&&(h?h["X-WebChannel-Client-Profile"]=l.va:h={"X-WebChannel-Client-Profile":l.va}),this.g.S=h,(h=l&&l.Sb)&&!at(h)&&(this.g.m=h),this.v=l&&l.supportsCrossDomainXhr||!1,this.u=l&&l.sendRawJson||!1,(l=l&&l.httpSessionIdParam)&&!at(l)&&(this.g.D=l,h=this.h,h!==null&&l in h&&(h=this.h,l in h&&delete h[l])),this.j=new Ki(this)}U(ze,kt),ze.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ze.prototype.close=function(){Hr(this.g)},ze.prototype.o=function(h){var l=this.g;if(typeof h=="string"){var f={};f.__data__=h,h=f}else this.u&&(f={},f.__data__=An(h),h=f);l.i.push(new Io(l.Ya++,h)),l.G==3&&qi(l)},ze.prototype.N=function(){this.g.l=null,delete this.j,Hr(this.g),delete this.g,ze.aa.N.call(this)};function Je(h){Qn.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var l=h.__sm__;if(l){t:{for(const f in l){h=f;break t}h=void 0}(this.i=h)&&(h=this.i,l=l!==null&&h in l?l[h]:void 0),this.data=l}else this.data=h}U(Je,Qn);function Ua(){Mr.call(this),this.status=1}U(Ua,Mr);function Ki(h){this.g=h}U(Ki,La),Ki.prototype.ua=function(){Nt(this.g,"a")},Ki.prototype.ta=function(h){Nt(this.g,new Je(h))},Ki.prototype.sa=function(h){Nt(this.g,new Ua)},Ki.prototype.ra=function(){Nt(this.g,"b")},ze.prototype.send=ze.prototype.o,ze.prototype.open=ze.prototype.m,ze.prototype.close=ze.prototype.close,yi.NO_ERROR=0,yi.TIMEOUT=8,yi.HTTP_ERROR=6,$i.COMPLETE="complete",Ta.EventType=Rn,Rn.OPEN="a",Rn.CLOSE="b",Rn.ERROR="c",Rn.MESSAGE="d",kt.prototype.listen=kt.prototype.K,Et.prototype.listenOnce=Et.prototype.L,Et.prototype.getLastError=Et.prototype.Ka,Et.prototype.getLastErrorCode=Et.prototype.Ba,Et.prototype.getStatus=Et.prototype.Z,Et.prototype.getResponseJson=Et.prototype.Oa,Et.prototype.getResponseText=Et.prototype.oa,Et.prototype.send=Et.prototype.ea,Et.prototype.setWithCredentials=Et.prototype.Ha}).apply(typeof _h<"u"?_h:typeof self<"u"?self:typeof window<"u"?window:{});const U1="@firebase/firestore",B1="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ui.UNAUTHENTICATED=new ui(null),ui.GOOGLE_CREDENTIALS=new ui("google-credentials-uid"),ui.FIRST_PARTY=new ui("first-party-uid"),ui.MOCK_USER=new ui("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let If="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wh=new Eg("@firebase/firestore");function Ji(i,...t){if(Wh.logLevel<=ce.DEBUG){const n=t.map(dw);Wh.debug(`Firestore (${If}): ${i}`,...n)}}function fw(i,...t){if(Wh.logLevel<=ce.ERROR){const n=t.map(dw);Wh.error(`Firestore (${If}): ${i}`,...n)}}function dw(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tf(i,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,mw(i,s,n)}function mw(i,t,n){let s=`FIRESTORE (${If}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw fw(s),new Error(s)}function zu(i,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||mw(t,o,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jt={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class Wt extends _a{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r9{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class s9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(ui.UNAUTHENTICATED))}shutdown(){}}class a9{constructor(t){this.t=t,this.currentUser=ui.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){zu(this.o===void 0,42304);let s=this.i;const o=_=>this.i!==s?(s=this.i,n(_)):Promise.resolve();let c=new Fu;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Fu,t.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const _=c;t.enqueueRetryable(async()=>{await _.promise,await o(this.currentUser)})},p=_=>{Ji("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(_=>p(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(Ji("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Fu)}},0),d()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(Ji("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(zu(typeof s.accessToken=="string",31837,{l:s}),new r9(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return zu(t===null||typeof t=="string",2055,{h:t}),new ui(t)}}class o9{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=ui.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class l9{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new o9(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(ui.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $1{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class u9{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,TN(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){zu(this.o===void 0,3512);const s=c=>{c.error!=null&&Ji("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,Ji("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>s(c))};const o=c=>{Ji("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):Ji("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new $1(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(zu(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new $1(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c9(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h9{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=c9(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<n&&(s+=t.charAt(o[c]%62))}return s}}function pa(i,t){return i<t?-1:i>t?1:0}function f9(i,t){const n=Math.min(i.length,t.length);for(let s=0;s<n;s++){const o=i.charAt(s),c=t.charAt(s);if(o!==c)return Gm(o)===Gm(c)?pa(o,c):Gm(o)?1:-1}return pa(i.length,t.length)}const d9=55296,m9=57343;function Gm(i){const t=i.charCodeAt(0);return t>=d9&&t<=m9}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1="__name__";class mr{constructor(t,n,s){n===void 0?n=0:n>t.length&&tf(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&tf(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return mr.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof mr?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const c=mr.compareSegments(t.get(o),n.get(o));if(c!==0)return c}return pa(t.length,n.length)}static compareSegments(t,n){const s=mr.isNumericId(t),o=mr.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?mr.extractNumericId(t).compare(mr.extractNumericId(n)):f9(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return xg.fromString(t.substring(4,t.length-2))}}class Zi extends mr{construct(t,n,s){return new Zi(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new Wt(Jt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new Zi(n)}static emptyPath(){return new Zi([])}}const p9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ro extends mr{construct(t,n,s){return new ro(t,n,s)}static isValidIdentifier(t){return p9.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ro.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===z1}static keyField(){return new ro([z1])}static fromServerFormat(t){const n=[];let s="",o=0;const c=()=>{if(s.length===0)throw new Wt(Jt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let d=!1;for(;o<t.length;){const p=t[o];if(p==="\\"){if(o+1===t.length)throw new Wt(Jt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new Wt(Jt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=_,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(s+=p,o++):(c(),o++)}if(c(),d)throw new Wt(Jt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ro(n)}static emptyPath(){return new ro([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(t){this.path=t}static fromPath(t){return new oo(Zi.fromString(t))}static fromName(t){return new oo(Zi.fromString(t).popFirst(5))}static empty(){return new oo(Zi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Zi.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Zi.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new oo(new Zi(t.slice()))}}function g9(i,t,n,s){if(t===!0&&s===!0)throw new Wt(Jt.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function y9(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(i,t){const n={typeString:i};return t&&(n.value=t),n}function hc(i,t){if(!y9(i))throw new Wt(Jt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,c="value"in t[s]?{value:t[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const d=i[s];if(o&&typeof d!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){n=`Expected '${s}' field to equal '${c.value}'`;break}}if(n)throw new Wt(Jt.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1=-62135596800,q1=1e6;class pr{static now(){return pr.fromMillis(Date.now())}static fromDate(t){return pr.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*q1);return new pr(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Wt(Jt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Wt(Jt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<F1)throw new Wt(Jt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Wt(Jt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/q1}_compareTo(t){return this.seconds===t.seconds?pa(this.nanoseconds,t.nanoseconds):pa(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:pr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(hc(t,pr._jsonSchema))return new pr(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-F1;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}pr._jsonSchemaVersion="firestore/timestamp/1.0",pr._jsonSchema={type:Be("string",pr._jsonSchemaVersion),seconds:Be("number"),nanoseconds:Be("number")};function _9(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v9 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new v9("Invalid base64 string: "+c):c}}(t);return new _o(n)}static fromUint8Array(t){const n=function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c}(t);return new _o(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return pa(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}_o.EMPTY_BYTE_STRING=new _o("");const H1="(default)";class ef{constructor(t,n){this.projectId=t,this.database=n||H1}static empty(){return new ef("","")}get isDefaultDatabase(){return this.database===H1}isEqual(t){return t instanceof ef&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E9{constructor(t,n=null,s=[],o=[],c=null,d="F",p=null,_=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function b9(i){return new E9(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var G1,Kt;(Kt=G1||(G1={}))[Kt.OK=0]="OK",Kt[Kt.CANCELLED=1]="CANCELLED",Kt[Kt.UNKNOWN=2]="UNKNOWN",Kt[Kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kt[Kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kt[Kt.NOT_FOUND=5]="NOT_FOUND",Kt[Kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kt[Kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kt[Kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kt[Kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kt[Kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kt[Kt.ABORTED=10]="ABORTED",Kt[Kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kt[Kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kt[Kt.INTERNAL=13]="INTERNAL",Kt[Kt.UNAVAILABLE=14]="UNAVAILABLE",Kt[Kt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new xg([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T9=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w9=1048576;function Km(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S9{constructor(t,n,s=1e3,o=1.5,c=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&Ji("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(t,n,s,o,c){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new Fu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,c){const d=Date.now()+s,p=new Ig(t,n,d,o,c);return p.start(s),p}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Wt(Jt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var K1,Y1;(Y1=K1||(K1={})).Ma="default",Y1.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A9(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R9="firestore.googleapis.com",X1=!0;class Z1{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Wt(Jt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=R9,this.ssl=X1}else this.host=t.host,this.ssl=t.ssl??X1;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=T9;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<w9)throw new Wt(Jt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}g9("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=A9(t.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Wt(Jt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Wt(Jt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Wt(Jt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class x9{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Z1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Wt(Jt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Wt(Jt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Z1(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new s9;switch(s.type){case"firstParty":return new l9(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Wt(Jt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Q1.get(n);s&&(Ji("ComponentProvider","Removing Datastore"),Q1.delete(n),s.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Cg(this.firestore,t,this._query)}}class yr{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Dg(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new yr(this.firestore,t,this._key)}toJSON(){return{type:yr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(hc(n,yr._jsonSchema))return new yr(t,s||null,new oo(Zi.fromString(n.referencePath)))}}yr._jsonSchemaVersion="firestore/documentReference/1.0",yr._jsonSchema={type:Be("string",yr._jsonSchemaVersion),referencePath:Be("string")};class Dg extends Cg{constructor(t,n,s){super(t,n,b9(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new yr(this.firestore,null,new oo(t))}withConverter(t){return new Dg(this.firestore,t,this._path)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1="AsyncQueue";class W1{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new S9(this,"async_queue_retry"),this._c=()=>{const s=Km();s&&Ji(J1,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=Km();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Km();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Fu;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!_9(t))throw t;Ji(J1,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(s=>{throw this.nc=s,this.rc=!1,fw("INTERNAL UNHANDLED ERROR: ",tE(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=Ig.createAndSchedule(this,t,n,s,c=>this.hc(c));return this.tc.push(o),o}uc(){this.nc&&tf(47125,{Pc:tE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function tE(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}class I9 extends x9{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new W1,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new W1(t),this._firestoreClient=void 0,await t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(t){this._byteString=t}static fromBase64String(t){try{return new as(_o.fromBase64String(t))}catch(n){throw new Wt(Jt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new as(_o.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:as._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(hc(t,as._jsonSchema))return as.fromBase64String(t.bytes)}}as._jsonSchemaVersion="firestore/bytes/1.0",as._jsonSchema={type:Be("string",as._jsonSchemaVersion),bytes:Be("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Wt(Jt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ro(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Wt(Jt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Wt(Jt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return pa(this._lat,t._lat)||pa(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:uo._jsonSchemaVersion}}static fromJSON(t){if(hc(t,uo._jsonSchema))return new uo(t.latitude,t.longitude)}}uo._jsonSchemaVersion="firestore/geoPoint/1.0",uo._jsonSchema={type:Be("string",uo._jsonSchemaVersion),latitude:Be("number"),longitude:Be("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0}(this._values,t._values)}toJSON(){return{type:co._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(hc(t,co._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new co(t.vectorValues);throw new Wt(Jt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}co._jsonSchemaVersion="firestore/vectorValue/1.0",co._jsonSchema={type:Be("string",co._jsonSchemaVersion),vectorValues:Be("object")};const C9=new RegExp("[~\\*/\\[\\]]");function D9(i,t,n){if(t.search(C9)>=0)throw eE(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i);try{return new pw(...t.split("."))._internalPath}catch{throw eE(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i)}}function eE(i,t,n,s,o){let c=`Function ${t}() called with invalid data`;c+=". ";let d="";return new Wt(Jt.INVALID_ARGUMENT,c+i+d)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(t,n,s,o,c){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new yr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new N9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(yw("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class N9 extends gw{data(){return super.data()}}function yw(i,t){return typeof t=="string"?D9(i,t):t instanceof pw?t._internalPath:t._delegate._internalPath}class vh{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class pl extends gw{constructor(t,n,s,o,c,d){super(t,n,s,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Mh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(yw("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Wt(Jt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=pl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}pl._jsonSchemaVersion="firestore/documentSnapshot/1.0",pl._jsonSchema={type:Be("string",pl._jsonSchemaVersion),bundleSource:Be("string","DocumentSnapshot"),bundleName:Be("string"),bundle:Be("string")};class Mh extends pl{data(t={}){return super.data(t)}}class qu{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new vh(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new Mh(this._firestore,this._userDataWriter,s.key,s,new vh(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Wt(Jt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(p=>{const _=new Mh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new vh(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>c||p.type!==3).map(p=>{const _=new Mh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new vh(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,A=-1;return p.type!==0&&(v=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:O9(p.type),doc:_,oldIndex:v,newIndex:A}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Wt(Jt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=qu._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=h9.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach(c=>{c._document!==null&&(n.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function O9(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tf(61501,{type:i})}}qu._jsonSchemaVersion="firestore/querySnapshot/1.0",qu._jsonSchema={type:Be("string",qu._jsonSchemaVersion),bundleSource:Be("string","QuerySnapshot"),bundleName:Be("string"),bundle:Be("string")};(function(t,n=!0){(function(o){If=o})(AN),ma(new ds("firestore",(s,{instanceIdentifier:o,options:c})=>{const d=s.getProvider("app").getImmediate(),p=new I9(new a9(s.getProvider("auth-internal")),new u9(d,s.getProvider("app-check-internal")),function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new Wt(Jt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ef(v.options.projectId,A)}(d,o),d);return c={useFetchStreams:n,...c},p._setSettings(c),p},"PUBLIC").setMultipleInstances(!0)),Tr(U1,B1,t),Tr(U1,B1,"esm2020")})();const M9={apiKey:"AIzaSyA6hOQ28rtwMSQqkw3AWljgpYXMvQjk5V4",authDomain:"auditor-web.firebaseapp.com",projectId:"auditor-web",storageBucket:"auditor-web.appspot.com",messagingSenderId:"766253849006",appId:"1:766253849006:web:1f1d26adb26d1df9f5d03f",measurementId:"G-JY4F8R135Y"},_w=$T(M9);t9(_w);const V9=ji(_w);function P9(){const i=dn(),[t,n]=gr.useState(""),[s,o]=gr.useState(""),[c,d]=gr.useState(""),[p,_]=gr.useState(""),v=t.trim()&&s.trim()&&c.trim()&&p.trim(),A=async()=>{if(!v){alert("");return}const M=`${t}_${s}_${c}`;try{await s4(ki(V9,"airData",M),{model:t,serial:s,auditor:p,state:c,createdAt:new Date().toISOString()}),localStorage.setItem("model",t),localStorage.setItem("serial",s),localStorage.setItem("state",c),alert(`!
Model: `+t+`
Serial: `+s+`
Auditor: `+p+`
State: `+c),i("/next")}catch(O){alert(": "+O.message)}};return x.jsx("div",{className:"fixed inset-0 flex items-center justify-center min-h-screen min-w-full bg-gradient-to-br from-blue-100 via-white to-blue-300",children:x.jsx("div",{className:"relative z-10 bg-white/90 backdrop-blur-md text-gray-800 shadow-2xl rounded-3xl p-10 w-full max-w-md text-center border border-blue-100 transform rotate-2 hover:rotate-0 transition-transform duration-500",children:x.jsxs("div",{className:"bg-white shadow-2xl rounded-3xl p-10 w-full max-w-md text-gray-800 space-y-6",children:[x.jsx("h1",{className:"text-2xl font-bold text-green-600 text-center",children:""}),x.jsxs("div",{children:[x.jsx("label",{className:"block mb-1 font-medium",children:" (Model Name)"}),x.jsx("input",{type:"text",value:t,onChange:M=>n(M.target.value),placeholder:" FTKC18XV2S",className:"w-full border border-gray-300 rounded-xl px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-400"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block mb-1 font-medium",children:"Serial Number"}),x.jsx("input",{type:"text",value:s,onChange:M=>o(M.target.value),placeholder:" E0000001",className:"w-full border border-gray-300 rounded-xl px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-400"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block mb-1 font-medium",children:""}),x.jsx("input",{type:"text",value:p,onChange:M=>_(M.target.value),className:"w-full border border-gray-300 rounded-xl px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-400"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block mb-1 font-medium",children:" (State)"}),x.jsxs("select",{value:c,onChange:M=>d(M.target.value),className:"w-full border border-gray-300 rounded-xl px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400",children:[x.jsx("option",{value:"",children:"--  --"}),x.jsx("option",{value:"Pilot",children:"Pilot"}),x.jsx("option",{value:"First Mass",children:"First Mass"}),x.jsx("option",{value:"Mass",children:"Mass"}),x.jsx("option",{value:"Advanced",children:"Advanced"})]})]}),x.jsx("button",{onClick:A,disabled:!v,className:`w-full bg-green-600 hover:bg-green-700 text-gray font-medium py-3 rounded-xl transition ${v?"":"opacity-50 cursor-not-allowed"}`,children:" "}),x.jsx("button",{onClick:()=>i("/next"),className:"w-full bg-gray-200 hover:bg-gray-300 text-gray-700 font-medium py-2 rounded-xl transition",children:" "})]})})})}var k9="firebase",j9="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pi(k9,j9,"app");const vw="@firebase/installations",Ng="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew=1e4,bw=`w:${Ng}`,Tw="FIS_v2",L9="https://firebaseinstallations.googleapis.com/v1",U9=3600*1e3,B9="installations",$9="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z9={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},vo=new of(B9,$9,z9);function ww(i){return i instanceof wo&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw({projectId:i}){return`${L9}/projects/${i}/installations`}function Aw(i){return{token:i.token,requestStatus:2,expiresIn:q9(i.expiresIn),creationTime:Date.now()}}async function Rw(i,t){const s=(await t.json()).error;return vo.create("request-failed",{requestName:i,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function xw({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function F9(i,{refreshToken:t}){const n=xw(i);return n.append("Authorization",H9(t)),n}async function Iw(i){const t=await i();return t.status>=500&&t.status<600?i():t}function q9(i){return Number(i.replace("s","000"))}function H9(i){return`${Tw} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G9({appConfig:i,heartbeatServiceProvider:t},{fid:n}){const s=Sw(i),o=xw(i),c=t.getImmediate({optional:!0});if(c){const v=await c.getHeartbeatsHeader();v&&o.append("x-firebase-client",v)}const d={fid:n,authVersion:Tw,appId:i.appId,sdkVersion:bw},p={method:"POST",headers:o,body:JSON.stringify(d)},_=await Iw(()=>fetch(s,p));if(_.ok){const v=await _.json();return{fid:v.fid||n,registrationStatus:2,refreshToken:v.refreshToken,authToken:Aw(v.authToken)}}else throw await Rw("Create Installation",_)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cw(i){return new Promise(t=>{setTimeout(t,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K9(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y9=/^[cdef][\w-]{21}$/,Op="";function Q9(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const n=X9(i);return Y9.test(n)?n:Op}catch{return Op}}function X9(i){return K9(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cf(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw=new Map;function Nw(i,t){const n=Cf(i);Ow(n,t),Z9(n,t)}function Ow(i,t){const n=Dw.get(i);if(n)for(const s of n)s(t)}function Z9(i,t){const n=J9();n&&n.postMessage({key:i,fid:t}),W9()}let lo=null;function J9(){return!lo&&"BroadcastChannel"in self&&(lo=new BroadcastChannel("[Firebase] FID Change"),lo.onmessage=i=>{Ow(i.data.key,i.data.fid)}),lo}function W9(){Dw.size===0&&lo&&(lo.close(),lo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO="firebase-installations-database",eO=1,Eo="firebase-installations-store";let Ym=null;function Og(){return Ym||(Ym=HE(tO,eO,{upgrade:(i,t)=>{switch(t){case 0:i.createObjectStore(Eo)}}})),Ym}async function nf(i,t){const n=Cf(i),o=(await Og()).transaction(Eo,"readwrite"),c=o.objectStore(Eo),d=await c.get(n);return await c.put(t,n),await o.done,(!d||d.fid!==t.fid)&&Nw(i,t.fid),t}async function Mw(i){const t=Cf(i),s=(await Og()).transaction(Eo,"readwrite");await s.objectStore(Eo).delete(t),await s.done}async function Df(i,t){const n=Cf(i),o=(await Og()).transaction(Eo,"readwrite"),c=o.objectStore(Eo),d=await c.get(n),p=t(d);return p===void 0?await c.delete(n):await c.put(p,n),await o.done,p&&(!d||d.fid!==p.fid)&&Nw(i,p.fid),p}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mg(i){let t;const n=await Df(i.appConfig,s=>{const o=nO(s),c=iO(i,o);return t=c.registrationPromise,c.installationEntry});return n.fid===Op?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function nO(i){const t=i||{fid:Q9(),registrationStatus:0};return Vw(t)}function iO(i,t){if(t.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(vo.create("app-offline"));return{installationEntry:t,registrationPromise:o}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},s=rO(i,n);return{installationEntry:n,registrationPromise:s}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:sO(i)}:{installationEntry:t}}async function rO(i,t){try{const n=await G9(i,t);return nf(i.appConfig,n)}catch(n){throw ww(n)&&n.customData.serverCode===409?await Mw(i.appConfig):await nf(i.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function sO(i){let t=await nE(i.appConfig);for(;t.registrationStatus===1;)await Cw(100),t=await nE(i.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await Mg(i);return s||n}return t}function nE(i){return Df(i,t=>{if(!t)throw vo.create("installation-not-found");return Vw(t)})}function Vw(i){return aO(i)?{fid:i.fid,registrationStatus:0}:i}function aO(i){return i.registrationStatus===1&&i.registrationTime+Ew<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oO({appConfig:i,heartbeatServiceProvider:t},n){const s=lO(i,n),o=F9(i,n),c=t.getImmediate({optional:!0});if(c){const v=await c.getHeartbeatsHeader();v&&o.append("x-firebase-client",v)}const d={installation:{sdkVersion:bw,appId:i.appId}},p={method:"POST",headers:o,body:JSON.stringify(d)},_=await Iw(()=>fetch(s,p));if(_.ok){const v=await _.json();return Aw(v)}else throw await Rw("Generate Auth Token",_)}function lO(i,{fid:t}){return`${Sw(i)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vg(i,t=!1){let n;const s=await Df(i.appConfig,c=>{if(!Pw(c))throw vo.create("not-registered");const d=c.authToken;if(!t&&hO(d))return c;if(d.requestStatus===1)return n=uO(i,t),c;{if(!navigator.onLine)throw vo.create("app-offline");const p=dO(c);return n=cO(i,p),p}});return n?await n:s.authToken}async function uO(i,t){let n=await iE(i.appConfig);for(;n.authToken.requestStatus===1;)await Cw(100),n=await iE(i.appConfig);const s=n.authToken;return s.requestStatus===0?Vg(i,t):s}function iE(i){return Df(i,t=>{if(!Pw(t))throw vo.create("not-registered");const n=t.authToken;return mO(n)?{...t,authToken:{requestStatus:0}}:t})}async function cO(i,t){try{const n=await oO(i,t),s={...t,authToken:n};return await nf(i.appConfig,s),n}catch(n){if(ww(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Mw(i.appConfig);else{const s={...t,authToken:{requestStatus:0}};await nf(i.appConfig,s)}throw n}}function Pw(i){return i!==void 0&&i.registrationStatus===2}function hO(i){return i.requestStatus===2&&!fO(i)}function fO(i){const t=Date.now();return t<i.creationTime||i.creationTime+i.expiresIn<t+U9}function dO(i){const t={requestStatus:1,requestTime:Date.now()};return{...i,authToken:t}}function mO(i){return i.requestStatus===1&&i.requestTime+Ew<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pO(i){const t=i,{installationEntry:n,registrationPromise:s}=await Mg(t);return s?s.catch(console.error):Vg(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gO(i,t=!1){const n=i;return await yO(n),(await Vg(n,t)).token}async function yO(i){const{registrationPromise:t}=await Mg(i);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(i){if(!i||!i.options)throw Qm("App Configuration");if(!i.name)throw Qm("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!i.options[n])throw Qm(n);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function Qm(i){return vo.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw="installations",vO="installations-internal",EO=i=>{const t=i.getProvider("app").getImmediate(),n=_O(t),s=Sl(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},bO=i=>{const t=i.getProvider("app").getImmediate(),n=Sl(t,kw).getImmediate();return{getId:()=>pO(n),getToken:o=>gO(n,o)}};function TO(){cs(new Sr(kw,EO,"PUBLIC")),cs(new Sr(vO,bO,"PRIVATE"))}TO();Pi(vw,Ng);Pi(vw,Ng,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rf="analytics",wO="firebase_id",SO="origin",AO=60*1e3,RO="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Pg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gn=new $p("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},di=new of("analytics","Analytics",xO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IO(i){if(!i.startsWith(Pg)){const t=di.create("invalid-gtag-resource",{gtagURL:i});return Gn.warn(t.message),""}return i}function jw(i){return Promise.all(i.map(t=>t.catch(n=>n)))}function CO(i,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(i,t)),n}function DO(i,t){const n=CO("firebase-js-sdk-policy",{createScriptURL:IO}),s=document.createElement("script"),o=`${Pg}?l=${i}&id=${t}`;s.src=n?n?.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function NO(i){let t=[];return Array.isArray(window[i])?t=window[i]:window[i]=t,t}async function OO(i,t,n,s,o,c){const d=s[o];try{if(d)await t[d];else{const _=(await jw(n)).find(v=>v.measurementId===o);_&&await t[_.appId]}}catch(p){Gn.error(p)}i("config",o,c)}async function MO(i,t,n,s,o){try{let c=[];if(o&&o.send_to){let d=o.send_to;Array.isArray(d)||(d=[d]);const p=await jw(n);for(const _ of d){const v=p.find(M=>M.measurementId===_),A=v&&t[v.appId];if(A)c.push(A);else{c=[];break}}}c.length===0&&(c=Object.values(t)),await Promise.all(c),i("event",s,o||{})}catch(c){Gn.error(c)}}function VO(i,t,n,s){async function o(c,...d){try{if(c==="event"){const[p,_]=d;await MO(i,t,n,p,_)}else if(c==="config"){const[p,_]=d;await OO(i,t,n,s,p,_)}else if(c==="consent"){const[p,_]=d;i("consent",p,_)}else if(c==="get"){const[p,_,v]=d;i("get",p,_,v)}else if(c==="set"){const[p]=d;i("set",p)}else i(c,...d)}catch(p){Gn.error(p)}}return o}function PO(i,t,n,s,o){let c=function(...d){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(c=window[o]),window[o]=VO(c,i,t,n),{gtagCore:c,wrappedGtag:window[o]}}function kO(i){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Pg)&&n.src.includes(i))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO=30,LO=1e3;class UO{constructor(t={},n=LO){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const Lw=new UO;function BO(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function $O(i){const{appId:t,apiKey:n}=i,s={method:"GET",headers:BO(n)},o=RO.replace("{app-id}",t),c=await fetch(o,s);if(c.status!==200&&c.status!==304){let d="";try{const p=await c.json();p.error?.message&&(d=p.error.message)}catch{}throw di.create("config-fetch-failed",{httpStatus:c.status,responseMessage:d})}return c.json()}async function zO(i,t=Lw,n){const{appId:s,apiKey:o,measurementId:c}=i.options;if(!s)throw di.create("no-app-id");if(!o){if(c)return{measurementId:c,appId:s};throw di.create("no-api-key")}const d=t.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},p=new HO;return setTimeout(async()=>{p.abort()},AO),Uw({appId:s,apiKey:o,measurementId:c},d,p,t)}async function Uw(i,{throttleEndTimeMillis:t,backoffCount:n},s,o=Lw){const{appId:c,measurementId:d}=i;try{await FO(s,t)}catch(p){if(d)return Gn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:c,measurementId:d};throw p}try{const p=await $O(i);return o.deleteThrottleMetadata(c),p}catch(p){const _=p;if(!qO(_)){if(o.deleteThrottleMetadata(c),d)return Gn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${_?.message}]`),{appId:c,measurementId:d};throw p}const v=Number(_?.customData?.httpStatus)===503?p0(n,o.intervalMillis,jO):p0(n,o.intervalMillis),A={throttleEndTimeMillis:Date.now()+v,backoffCount:n+1};return o.setThrottleMetadata(c,A),Gn.debug(`Calling attemptFetch again in ${v} millis`),Uw(i,A,s,o)}}function FO(i,t){return new Promise((n,s)=>{const o=Math.max(t-Date.now(),0),c=setTimeout(n,o);i.addEventListener(()=>{clearTimeout(c),s(di.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function qO(i){if(!(i instanceof wo)||!i.customData)return!1;const t=Number(i.customData.httpStatus);return t===429||t===500||t===503||t===504}class HO{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function GO(i,t,n,s,o){if(o&&o.global){i("event",n,s);return}else{const c=await t,d={...s,send_to:c};i("event",n,d)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KO(){if(BE())try{await $E()}catch(i){return Gn.warn(di.create("indexeddb-unavailable",{errorInfo:i?.toString()}).message),!1}else return Gn.warn(di.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function YO(i,t,n,s,o,c,d){const p=zO(i);p.then(O=>{n[O.measurementId]=O.appId,i.options.measurementId&&O.measurementId!==i.options.measurementId&&Gn.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${O.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(O=>Gn.error(O)),t.push(p);const _=KO().then(O=>{if(O)return s.getId()}),[v,A]=await Promise.all([p,_]);kO(c)||DO(c,v.measurementId),o("js",new Date);const M=d?.config??{};return M[SO]="firebase",M.update=!0,A!=null&&(M[wO]=A),o("config",v.measurementId,M),v.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(t){this.app=t}_delete(){return delete Hu[this.app.options.appId],Promise.resolve()}}let Hu={},rE=[];const sE={};let Xm="dataLayer",XO="gtag",aE,Bw,oE=!1;function ZO(){const i=[];if(SR()&&i.push("This is a browser extension environment."),RR()||i.push("Cookies are not available."),i.length>0){const t=i.map((s,o)=>`(${o+1}) ${s}`).join(" "),n=di.create("invalid-analytics-context",{errorInfo:t});Gn.warn(n.message)}}function JO(i,t,n){ZO();const s=i.options.appId;if(!s)throw di.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)Gn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw di.create("no-api-key");if(Hu[s]!=null)throw di.create("already-exists",{id:s});if(!oE){NO(Xm);const{wrappedGtag:c,gtagCore:d}=PO(Hu,rE,sE,Xm,XO);Bw=c,aE=d,oE=!0}return Hu[s]=YO(i,rE,sE,t,aE,Xm,n),new QO(i)}function WO(i=Fp()){i=mi(i);const t=Sl(i,rf);return t.isInitialized()?t.getImmediate():tM(i)}function tM(i,t={}){const n=Sl(i,rf);if(n.isInitialized()){const o=n.getImmediate();if(Yu(t,n.getOptions()))return o;throw di.create("already-initialized")}return n.initialize({options:t})}function eM(i,t,n,s){i=mi(i),GO(Bw,Hu[i.app.options.appId],t,n,s).catch(o=>Gn.error(o))}const lE="@firebase/analytics",uE="0.10.18";function nM(){cs(new Sr(rf,(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("installations-internal").getImmediate();return JO(s,o,n)},"PUBLIC")),cs(new Sr("analytics-internal",i,"PRIVATE")),Pi(lE,uE),Pi(lE,uE,"esm2020");function i(t){try{const n=t.getProvider(rf).getImmediate();return{logEvent:(s,o,c)=>eM(n,s,o,c)}}catch(n){throw di.create("interop-component-reg-failed",{reason:n})}}}nM();const iM={apiKey:"AIzaSyA6hOQ28rtwMSQqkw3AWljgpYXMvQjk5V4",authDomain:"auditor-web.firebaseapp.com",projectId:"auditor-web",storageBucket:"auditor-web.appspot.com",messagingSenderId:"766253849006",appId:"1:766253849006:web:1f1d26adb26d1df9f5d03f",measurementId:"G-JY4F8R135Y"},pi=YE(iM);WO(pi);const rM=ji(pi);function sM(){const[i,t]=H.useState(""),n=dn(),[s,o]=H.useState("");H.useEffect(()=>{const p=localStorage.getItem("model"),_=localStorage.getItem("serial"),v=localStorage.getItem("state");p&&_&&v&&o(`${p}_${_}_${v}`)},[]);const c=async()=>{if(!i||!s){alert("");return}try{await Ir(ki(rM,"airData",s),{inspectionResult:i}),i==="ok"?n("/rectime"):i==="ng"&&n("/statusprob")}catch(p){alert(": "+p.message)}},d=()=>{window.history.back()};return x.jsx("div",{className:"fixed inset-0 flex items-center justify-center min-h-screen min-w-full bg-gradient-to-br from-blue-100 via-white to-blue-300",children:x.jsx("div",{className:"relative z-10 bg-white/90 backdrop-blur-md text-gray-800 shadow-2xl rounded-3xl p-10 w-full max-w-md text-center border border-blue-100 transform rotate-2 hover:rotate-0 transition-transform duration-500",children:x.jsxs("div",{className:"bg-white shadow-2xl rounded-3xl p-10 w-full max-w-md text-gray-800 space-y-6",children:[x.jsx("h2",{className:"text-2xl font-bold text-green-600 text-center mb-6",children:" (Inspection Result)"}),x.jsxs("div",{className:"flex flex-col gap-4 items-start",children:[x.jsxs("label",{className:"flex items-center gap-2 text-lg",children:[x.jsx("input",{type:"radio",name:"inspection",value:"ok",checked:i==="ok",onChange:()=>t("ok"),className:"accent-green-600 w-5 h-5"}),x.jsx("span",{className:"font-medium",children:"OK"})]}),x.jsxs("label",{className:"flex items-center gap-2 text-lg",children:[x.jsx("input",{type:"radio",name:"inspection",value:"ng",checked:i==="ng",onChange:()=>t("ng"),className:"accent-red-600 w-5 h-5"}),x.jsx("span",{className:"font-medium",children:"NG"})]})]}),x.jsxs("div",{className:"flex justify-between mt-8 gap-4",children:[x.jsx("button",{onClick:d,className:"w-1/2 bg-gray-200 hover:bg-gray-300 text-gray-700 font-medium py-2 rounded-xl transition",children:" "}),x.jsx("button",{onClick:c,className:`w-1/2 bg-green-600 hover:bg-green-700 text-gray font-medium py-2 rounded-xl transition ${i?"":"opacity-50 cursor-not-allowed"}`,disabled:!i,children:" "})]})]})})})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w="firebasestorage.googleapis.com",zw="storageBucket",aM=120*1e3,oM=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce extends wo{constructor(t,n,s=0){super(Zm(t),`Firebase Storage: ${n} (${Zm(t)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ce.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Zm(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ie;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ie||(Ie={}));function Zm(i){return"storage/"+i}function kg(){const i="An unknown error occurred, please check the error payload for server response.";return new Ce(Ie.UNKNOWN,i)}function lM(i){return new Ce(Ie.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function uM(i){return new Ce(Ie.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function cM(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ce(Ie.UNAUTHENTICATED,i)}function hM(){return new Ce(Ie.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function fM(i){return new Ce(Ie.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function dM(){return new Ce(Ie.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function mM(){return new Ce(Ie.CANCELED,"User canceled the upload/download.")}function pM(i){return new Ce(Ie.INVALID_URL,"Invalid URL '"+i+"'.")}function gM(i){return new Ce(Ie.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function yM(){return new Ce(Ie.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+zw+"' property when initializing the app?")}function _M(){return new Ce(Ie.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function vM(){return new Ce(Ie.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function EM(i){return new Ce(Ie.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Mp(i){return new Ce(Ie.INVALID_ARGUMENT,i)}function Fw(){return new Ce(Ie.APP_DELETED,"The Firebase app was deleted.")}function bM(i){return new Ce(Ie.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Gu(i,t){return new Ce(Ie.INVALID_FORMAT,"String does not match format '"+i+"': "+t)}function Iu(i){throw new Ce(Ie.INTERNAL_ERROR,"Internal error: "+i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let s;try{s=hi.makeFromUrl(t,n)}catch{return new hi(t,"")}if(s.path==="")return s;throw gM(t)}static makeFromUrl(t,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function c(ut){ut.path.charAt(ut.path.length-1)==="/"&&(ut.path_=ut.path_.slice(0,-1))}const d="(/(.*))?$",p=new RegExp("^gs://"+o+d,"i"),_={bucket:1,path:3};function v(ut){ut.path_=decodeURIComponent(ut.path)}const A="v[A-Za-z0-9_]+",M=n.replace(/[.]/g,"\\."),O="(/([^?#]*).*)?$",L=new RegExp(`^https?://${M}/${A}/b/${o}/o${O}`,"i"),U={bucket:1,path:3},G=n===$w?"(?:storage.googleapis.com|storage.cloud.google.com)":n,$="([^?#]*)",Q=new RegExp(`^https?://${G}/${o}/${$}`,"i"),rt=[{regex:p,indices:_,postModify:c},{regex:L,indices:U,postModify:v},{regex:Q,indices:{bucket:1,path:2},postModify:v}];for(let ut=0;ut<rt.length;ut++){const ht=rt[ut],vt=ht.regex.exec(t);if(vt){const C=vt[ht.indices.bucket];let E=vt[ht.indices.path];E||(E=""),s=new hi(C,E),ht.postModify(s);break}}if(s==null)throw pM(t);return s}}class TM{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wM(i,t,n){let s=1,o=null,c=null,d=!1,p=0;function _(){return p===2}let v=!1;function A(...$){v||(v=!0,t.apply(null,$))}function M($){o=setTimeout(()=>{o=null,i(L,_())},$)}function O(){c&&clearTimeout(c)}function L($,...Q){if(v){O();return}if($){O(),A.call(null,$,...Q);return}if(_()||d){O(),A.call(null,$,...Q);return}s<64&&(s*=2);let rt;p===1?(p=2,rt=0):rt=(s+Math.random())*1e3,M(rt)}let U=!1;function G($){U||(U=!0,O(),!v&&(o!==null?($||(p=2),clearTimeout(o),M(0)):$||(p=1)))}return M(0),c=setTimeout(()=>{d=!0,G(!0)},n),G}function SM(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AM(i){return i!==void 0}function RM(i){return typeof i=="object"&&!Array.isArray(i)}function jg(i){return typeof i=="string"||i instanceof String}function cE(i){return Lg()&&i instanceof Blob}function Lg(){return typeof Blob<"u"}function hE(i,t,n,s){if(s<t)throw Mp(`Invalid value for '${i}'. Expected ${t} or greater.`);if(s>n)throw Mp(`Invalid value for '${i}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(i,t,n){let s=t;return n==null&&(s=`https://${t}`),`${n}://${s}/v0${i}`}function qw(i){const t=encodeURIComponent;let n="?";for(const s in i)if(i.hasOwnProperty(s)){const o=t(s)+"="+t(i[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var ho;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(ho||(ho={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xM(i,t){const n=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,c=t.indexOf(i)!==-1;return n||o||c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(t,n,s,o,c,d,p,_,v,A,M,O=!0,L=!1){this.url_=t,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=d,this.callback_=p,this.errorCallback_=_,this.timeout_=v,this.progressCallback_=A,this.connectionFactory_=M,this.retry=O,this.isUsingEmulator=L,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((U,G)=>{this.resolve_=U,this.reject_=G,this.start_()})}start_(){const t=(s,o)=>{if(o){s(!1,new Eh(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const d=p=>{const _=p.loaded,v=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(_,v)};this.progressCallback_!==null&&c.addUploadProgressListener(d),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(d),this.pendingConnection_=null;const p=c.getErrorCode()===ho.NO_ERROR,_=c.getStatus();if(!p||xM(_,this.additionalRetryCodes_)&&this.retry){const A=c.getErrorCode()===ho.ABORT;s(!1,new Eh(!1,null,A));return}const v=this.successCodes_.indexOf(_)!==-1;s(!0,new Eh(v,c))})},n=(s,o)=>{const c=this.resolve_,d=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const _=this.callback_(p,p.getResponse());AM(_)?c(_):c()}catch(_){d(_)}else if(p!==null){const _=kg();_.serverResponse=p.getErrorText(),this.errorCallback_?d(this.errorCallback_(p,_)):d(_)}else if(o.canceled){const _=this.appDelete_?Fw():mM();d(_)}else{const _=dM();d(_)}};this.canceled_?n(!1,new Eh(!1,null,!0)):this.backoffId_=wM(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&SM(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Eh{constructor(t,n,s){this.wasSuccessCode=t,this.connection=n,this.canceled=!!s}}function CM(i,t){t!==null&&t.length>0&&(i.Authorization="Firebase "+t)}function DM(i,t){i["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function NM(i,t){t&&(i["X-Firebase-GMPID"]=t)}function OM(i,t){t!==null&&(i["X-Firebase-AppCheck"]=t)}function MM(i,t,n,s,o,c,d=!0,p=!1){const _=qw(i.urlParams),v=i.url+_,A=Object.assign({},i.headers);return NM(A,t),CM(A,n),DM(A,c),OM(A,s),new IM(v,i.method,A,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,d,p)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VM(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function PM(...i){const t=VM();if(t!==void 0){const n=new t;for(let s=0;s<i.length;s++)n.append(i[s]);return n.getBlob()}else{if(Lg())return new Blob(i);throw new Ce(Ie.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function kM(i,t,n){return i.webkitSlice?i.webkitSlice(t,n):i.mozSlice?i.mozSlice(t,n):i.slice?i.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(i){if(typeof atob>"u")throw EM("base-64");return atob(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Jm{constructor(t,n){this.data=t,this.contentType=n||null}}function LM(i,t){switch(i){case _r.RAW:return new Jm(Hw(t));case _r.BASE64:case _r.BASE64URL:return new Jm(Gw(i,t));case _r.DATA_URL:return new Jm(BM(t),$M(t))}throw kg()}function Hw(i){const t=[];for(let n=0;n<i.length;n++){let s=i.charCodeAt(n);if(s<=127)t.push(s);else if(s<=2047)t.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<i.length-1&&(i.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const c=s,d=i.charCodeAt(++n);s=65536|(c&1023)<<10|d&1023,t.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?t.push(239,191,189):t.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(t)}function UM(i){let t;try{t=decodeURIComponent(i)}catch{throw Gu(_r.DATA_URL,"Malformed data URL.")}return Hw(t)}function Gw(i,t){switch(i){case _r.BASE64:{const o=t.indexOf("-")!==-1,c=t.indexOf("_")!==-1;if(o||c)throw Gu(i,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case _r.BASE64URL:{const o=t.indexOf("+")!==-1,c=t.indexOf("/")!==-1;if(o||c)throw Gu(i,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=jM(t)}catch(o){throw o.message.includes("polyfill")?o:Gu(i,"Invalid character found")}const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}class Kw{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw Gu(_r.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=zM(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=t.substring(t.indexOf(",")+1)}}function BM(i){const t=new Kw(i);return t.base64?Gw(_r.BASE64,t.rest):UM(t.rest)}function $M(i){return new Kw(i).contentType}function zM(i,t){return i.length>=t.length?i.substring(i.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(t,n){let s=0,o="";cE(t)?(this.data_=t,s=t.size,o=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),s=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),s=t.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(t,n){if(cE(this.data_)){const s=this.data_,o=kM(s,t,n);return o===null?null:new ta(o)}else{const s=new Uint8Array(this.data_.buffer,t,n-t);return new ta(s,!0)}}static getBlob(...t){if(Lg()){const n=t.map(s=>s instanceof ta?s.data_:s);return new ta(PM.apply(null,n))}else{const n=t.map(d=>jg(d)?LM(_r.RAW,d).data:d.data_);let s=0;n.forEach(d=>{s+=d.byteLength});const o=new Uint8Array(s);let c=0;return n.forEach(d=>{for(let p=0;p<d.length;p++)o[c++]=d[p]}),new ta(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(i){let t;try{t=JSON.parse(i)}catch{return null}return RM(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FM(i){if(i.length===0)return null;const t=i.lastIndexOf("/");return t===-1?"":i.slice(0,t)}function qM(i,t){const n=t.split("/").filter(s=>s.length>0).join("/");return i.length===0?n:i+"/"+n}function Qw(i){const t=i.lastIndexOf("/",i.length-2);return t===-1?i:i.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HM(i,t){return t}class Mn{constructor(t,n,s,o){this.server=t,this.local=n||t,this.writable=!!s,this.xform=o||HM}}let bh=null;function GM(i){return!jg(i)||i.length<2?i:Qw(i)}function Xw(){if(bh)return bh;const i=[];i.push(new Mn("bucket")),i.push(new Mn("generation")),i.push(new Mn("metageneration")),i.push(new Mn("name","fullPath",!0));function t(c,d){return GM(d)}const n=new Mn("name");n.xform=t,i.push(n);function s(c,d){return d!==void 0?Number(d):d}const o=new Mn("size");return o.xform=s,i.push(o),i.push(new Mn("timeCreated")),i.push(new Mn("updated")),i.push(new Mn("md5Hash",null,!0)),i.push(new Mn("cacheControl",null,!0)),i.push(new Mn("contentDisposition",null,!0)),i.push(new Mn("contentEncoding",null,!0)),i.push(new Mn("contentLanguage",null,!0)),i.push(new Mn("contentType",null,!0)),i.push(new Mn("metadata","customMetadata",!0)),bh=i,bh}function KM(i,t){function n(){const s=i.bucket,o=i.fullPath,c=new hi(s,o);return t._makeStorageReference(c)}Object.defineProperty(i,"ref",{get:n})}function YM(i,t,n){const s={};s.type="file";const o=n.length;for(let c=0;c<o;c++){const d=n[c];s[d.local]=d.xform(s,t[d.server])}return KM(s,i),s}function Zw(i,t,n){const s=Yw(t);return s===null?null:YM(i,s,n)}function QM(i,t,n,s){const o=Yw(t);if(o===null||!jg(o.downloadTokens))return null;const c=o.downloadTokens;if(c.length===0)return null;const d=encodeURIComponent;return c.split(",").map(v=>{const A=i.bucket,M=i.fullPath,O="/b/"+d(A)+"/o/"+d(M),L=Ug(O,n,s),U=qw({alt:"media",token:v});return L+U})[0]}function XM(i,t){const n={},s=t.length;for(let o=0;o<s;o++){const c=t[o];c.writable&&(n[c.server]=i[c.local])}return JSON.stringify(n)}class Jw{constructor(t,n,s,o){this.url=t,this.method=n,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(i){if(!i)throw kg()}function ZM(i,t){function n(s,o){const c=Zw(i,o,t);return Ww(c!==null),c}return n}function JM(i,t){function n(s,o){const c=Zw(i,o,t);return Ww(c!==null),QM(c,o,i.host,i._protocol)}return n}function tS(i){function t(n,s){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=hM():o=cM():n.getStatus()===402?o=uM(i.bucket):n.getStatus()===403?o=fM(i.path):o=s,o.status=n.getStatus(),o.serverResponse=s.serverResponse,o}return t}function WM(i){const t=tS(i);function n(s,o){let c=t(s,o);return s.getStatus()===404&&(c=lM(i.path)),c.serverResponse=o.serverResponse,c}return n}function tV(i,t,n){const s=t.fullServerUrl(),o=Ug(s,i.host,i._protocol),c="GET",d=i.maxOperationRetryTime,p=new Jw(o,c,JM(i,n),d);return p.errorHandler=WM(t),p}function eV(i,t){return i&&i.contentType||t&&t.type()||"application/octet-stream"}function nV(i,t,n){const s=Object.assign({},n);return s.fullPath=i.path,s.size=t.size(),s.contentType||(s.contentType=eV(null,t)),s}function iV(i,t,n,s,o){const c=t.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"};function p(){let rt="";for(let ut=0;ut<2;ut++)rt=rt+Math.random().toString().slice(2);return rt}const _=p();d["Content-Type"]="multipart/related; boundary="+_;const v=nV(t,s,o),A=XM(v,n),M="--"+_+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+A+`\r
--`+_+`\r
Content-Type: `+v.contentType+`\r
\r
`,O=`\r
--`+_+"--",L=ta.getBlob(M,s,O);if(L===null)throw _M();const U={name:v.fullPath},G=Ug(c,i.host,i._protocol),$="POST",Q=i.maxUploadRetryTime,at=new Jw(G,$,ZM(i,n),Q);return at.urlParams=U,at.headers=d,at.body=L.uploadData(),at.errorHandler=tS(t),at}class rV{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ho.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ho.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ho.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,s,o,c){if(this.sent_)throw Iu("cannot .send() more than once");if(sc(t)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,t,!0),c!==void 0)for(const d in c)c.hasOwnProperty(d)&&this.xhr_.setRequestHeader(d,c[d].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Iu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Iu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Iu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Iu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class sV extends rV{initXhr(){this.xhr_.responseType="text"}}function eS(){return new sV}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(t,n){this._service=t,n instanceof hi?this._location=n:this._location=hi.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new bo(t,n)}get root(){const t=new hi(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Qw(this._location.path)}get storage(){return this._service}get parent(){const t=FM(this._location.path);if(t===null)return null;const n=new hi(this._location.bucket,t);return new bo(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw bM(t)}}function aV(i,t,n){i._throwIfRoot("uploadBytes");const s=iV(i.storage,i._location,Xw(),new ta(t,!0),n);return i.storage.makeRequestWithTokens(s,eS).then(o=>({metadata:o,ref:i}))}function oV(i){i._throwIfRoot("getDownloadURL");const t=tV(i.storage,i._location,Xw());return i.storage.makeRequestWithTokens(t,eS).then(n=>{if(n===null)throw vM();return n})}function lV(i,t){const n=qM(i._location.path,t),s=new hi(i._location.bucket,n);return new bo(i.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uV(i){return/^[A-Za-z]+:\/\//.test(i)}function cV(i,t){return new bo(i,t)}function nS(i,t){if(i instanceof Bg){const n=i;if(n._bucket==null)throw yM();const s=new bo(n,n._bucket);return t!=null?nS(s,t):s}else return t!==void 0?lV(i,t):i}function hV(i,t){if(t&&uV(t)){if(i instanceof Bg)return cV(i,t);throw Mp("To use ref(service, url), the first argument must be a Storage instance.")}else return nS(i,t)}function fE(i,t){const n=t?.[zw];return n==null?null:hi.makeFromBucketSpec(n,i)}function fV(i,t,n,s={}){i.host=`${t}:${n}`;const o=sc(t);o&&(jE(`https://${i.host}/b`),UE("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:c}=s;c&&(i._overrideAuthToken=typeof c=="string"?c:LE(c,i.app.options.projectId))}class Bg{constructor(t,n,s,o,c,d=!1){this.app=t,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=c,this._isUsingEmulator=d,this._bucket=null,this._host=$w,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=aM,this._maxUploadRetryTime=oM,this._requests=new Set,o!=null?this._bucket=hi.makeFromBucketSpec(o,this._host):this._bucket=fE(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=hi.makeFromBucketSpec(this._url,t):this._bucket=fE(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){hE("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){hE("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(GE(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new bo(this,t)}_makeRequest(t,n,s,o,c=!0){if(this._deleted)return new TM(Fw());{const d=MM(t,this._appId,s,o,n,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(t,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,s,o).getPromise()}}const dE="@firebase/storage",mE="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS="storage";function dV(i,t,n){return i=mi(i),aV(i,t,n)}function mV(i){return i=mi(i),oV(i)}function pV(i,t){return i=mi(i),hV(i,t)}function gV(i=Fp(),t){i=mi(i);const s=Sl(i,iS).getImmediate({identifier:t}),o=PE("storage");return o&&yV(s,...o),s}function yV(i,t,n,s={}){fV(i,t,n,s)}function _V(i,{instanceIdentifier:t}){const n=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new Bg(n,s,o,t,KE)}function vV(){cs(new Sr(iS,_V,"PUBLIC").setMultipleInstances(!0)),Pi(dE,mE,""),Pi(dE,mE,"esm2020")}vV();function EV(){const[i,t]=H.useState(""),[n,s]=H.useState([]),o=dn(),c=ji(pi),d=gV(pi),p=`${localStorage.getItem("model")}_${localStorage.getItem("serial")}_${localStorage.getItem("state")}`,_=O=>{const L=Array.from(O.target.files);s(U=>[...U,...L])},v=O=>{s(L=>L.filter((U,G)=>G!==O))},A=async()=>{if(!i.trim()){window.alert("");return}if(n.length<4){window.alert(" 4 ");return}try{const O=new Date().getTime(),L=n.map(($,Q)=>{const at=pV(d,`reassembly/${p}/${O}_${Q}`);return dV(at,$).then(()=>mV(at))}),U=await Promise.all(L),G=ki(c,"airData",p);await Ir(G,{reassemblyStatus:i,reassemblyImages:U}),window.alert("!"),o("/recheck")}catch(O){window.alert(" "),console.error("Upload error:",O)}},M=()=>{window.history.back()};return x.jsx("div",{className:"fixed inset-0 flex items-center justify-center min-h-screen min-w-full bg-gradient-to-br from-blue-100 via-white to-blue-300",children:x.jsx("div",{className:"relative z-10 bg-white/90 backdrop-blur-md text-gray-800 shadow-2xl rounded-3xl p-10 w-full max-w-md text-center border border-blue-100 transform rotate-2 hover:rotate-0 transition-transform duration-500",children:x.jsxs("div",{className:"bg-white shadow-2xl rounded-3xl p-10 w-full max-w-md text-gray-800 space-y-6",children:[x.jsx("h1",{className:"text-2xl font-bold text-green-600 text-center mb-6",children:"Status : "}),x.jsxs("div",{children:[x.jsx("label",{className:"block mb-1 font-medium",children:""}),x.jsx("div",{className:"flex flex-col gap-2 text-left",children:x.jsxs("label",{children:[x.jsx("input",{type:"checkbox",checked:i==="",onChange:O=>{const L=O.target.checked;t(L?"":"")},className:"mr-2 accent-green-600"}),""]})})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block mb-1 font-medium",children:" ( 4 )"}),x.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:_,className:"w-full border border-gray-300 rounded-xl px-4 py-2"}),x.jsx("div",{className:"flex flex-wrap gap-2 mt-2 justify-center",children:n.map((O,L)=>x.jsxs("div",{className:"relative",children:[x.jsx("img",{src:URL.createObjectURL(O),alt:`img-${L}`,className:"w-20 h-20 object-cover rounded-xl border"}),x.jsx("button",{type:"button",onClick:()=>v(L),className:"absolute top-0 right-0 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center",title:"",children:""})]},L))}),x.jsx("div",{className:"text-sm text-gray-500 mt-1",children:""})]}),x.jsxs("div",{className:"flex justify-between mt-8 gap-4",children:[x.jsx("button",{onClick:M,className:"w-1/2 bg-gray-200 hover:bg-gray-300 text-gray-700 font-medium py-2 rounded-xl transition",children:" "}),x.jsx("button",{onClick:A,className:`w-1/2 bg-green-600 hover:bg-green-700 text-gray font-medium py-2 rounded-xl transition ${n.length<4||!i.trim()?"opacity-50 cursor-not-allowed":""}`,disabled:n.length<4||!i.trim(),children:" "})]})]})})})}const bV=ji(pi);function TV(){const[i,t]=H.useState(""),[n,s]=H.useState(""),[o,c]=H.useState(""),[d,p]=H.useState(""),[_,v]=H.useState(""),[A,M]=H.useState(""),[O,L]=H.useState(""),[U,G]=H.useState(""),[$,Q]=H.useState(""),[at,rt]=H.useState(""),[ut,ht]=H.useState(""),[vt,C]=H.useState(""),[E,w]=H.useState(""),[R,I]=H.useState(""),[N,S]=H.useState(""),[te,ee]=H.useState(""),[X,lt]=H.useState(""),[dt,Ut]=H.useState(""),[j,nt]=H.useState(""),[ot,it]=H.useState(""),gt=dn(),Dt=()=>{window.history.back()},At=async()=>{const ft=localStorage.getItem("model"),Xt=localStorage.getItem("serial"),Sn=localStorage.getItem("state"),mn=ft&&Xt&&Sn?`${ft}_${Xt}_${Sn}`:null;if(!mn){alert("");return}try{await Ir(ki(bV,"airData",mn),{warehouseStartDate:i,warehouseStartTime:n,warehouseFinishedDate:o,warehouseFinishedTime:d,docStartDate:_,docStartTime:A,docFinishedDate:O,docFinishedTime:U,day1StartDate:$,day1StartTime:at,day1EndDate:ut,day1EndTime:vt,day2StartDate:E,day2StartTime:R,day2EndDate:N,day2EndTime:te,reportStartDate:X,reportStartTime:dt,reportFinishedDate:j,reportFinishedTime:ot,recordTimeSavedAt:new Date().toISOString()}),alert("!"),gt("/reass")}catch(pn){alert(": "+pn.message)}};return x.jsx("div",{className:"fixed inset-0 flex items-center justify-center min-h-screen min-w-full bg-gradient-to-br from-blue-100 via-white to-blue-300",children:x.jsx("div",{className:"relative z-10 bg-white/90 backdrop-blur-md text-gray-800 shadow-2xl rounded-3xl p-10 w-full max-w-xl text-center border border-blue-100 transform rotate-2 hover:rotate-0 transition-transform duration-500",children:x.jsxs("div",{className:"bg-white shadow-2xl rounded-3xl p-10 w-full text-gray-800 space-y-8",children:[x.jsx("h1",{className:"text-2xl font-bold text-green-600 text-center mb-6",children:""}),x.jsxs("div",{children:[x.jsx("h2",{className:"font-semibold text-lg mb-2",children:"1.  warehouse"}),x.jsxs("div",{className:"flex gap-4 mb-2",children:[x.jsxs("div",{className:"flex flex-col flex-1",children:[x.jsx("label",{className:"font-medium",children:"Start: "}),x.jsx("input",{type:"date",value:i,onChange:ft=>t(ft.target.value),className:"border rounded-xl px-2 py-1"})]}),x.jsxs("div",{className:"flex flex-col flex-1",children:[x.jsx("label",{className:"font-medium",children:""}),x.jsx("input",{type:"time",value:n,onChange:ft=>s(ft.target.value),className:"border rounded-xl px-2 py-1"})]})]}),x.jsxs("div",{className:"flex gap-4",children:[x.jsxs("div",{className:"flex flex-col flex-1",children:[x.jsx("label",{className:"font-medium",children:"Finished: "}),x.jsx("input",{type:"date",value:o,onChange:ft=>c(ft.target.value),className:"border rounded-xl px-2 py-1"})]}),x.jsxs("div",{className:"flex flex-col flex-1",children:[x.jsx("label",{className:"font-medium",children:""}),x.jsx("input",{type:"time",value:d,onChange:ft=>p(ft.target.value),className:"border rounded-xl px-2 py-1"})]})]})]}),x.jsxs("div",{children:[x.jsx("h2",{className:"font-semibold text-lg mb-2",children:"2. "}),x.jsxs("div",{className:"flex gap-4 mb-2",children:[x.jsxs("div",{className:"flex flex-col flex-1",children:[x.jsx("label",{className:"font-medium",children:"Start: "}),x.jsx("input",{type:"date",value:_,onChange:ft=>v(ft.target.value),className:"border rounded-xl px-2 py-1"})]}),x.jsxs("div",{className:"flex flex-col flex-1",children:[x.jsx("label",{className:"font-medium",children:""}),x.jsx("input",{type:"time",value:A,onChange:ft=>M(ft.target.value),className:"border rounded-xl px-2 py-1"})]})]}),x.jsxs("div",{className:"flex gap-4",children:[x.jsxs("div",{className:"flex flex-col flex-1",children:[x.jsx("label",{className:"font-medium",children:"Finished: "}),x.jsx("input",{type:"date",value:O,onChange:ft=>L(ft.target.value),className:"border rounded-xl px-2 py-1"})]}),x.jsxs("div",{className:"flex flex-col flex-1",children:[x.jsx("label",{className:"font-medium",children:""}),x.jsx("input",{type:"time",value:U,onChange:ft=>G(ft.target.value),className:"border rounded-xl px-2 py-1"})]})]})]}),x.jsxs("div",{children:[x.jsx("h2",{className:"font-semibold text-lg mb-2",children:"3. "}),x.jsx("div",{className:"mb-2 font-medium",children:"Day 1"}),x.jsxs("div",{className:"flex gap-4 mb-2",children:[x.jsxs("div",{className:"flex flex-col flex-1",children:[x.jsx("label",{className:"font-medium",children:"Start: "}),x.jsx("input",{type:"date",value:$,onChange:ft=>Q(ft.target.value),className:"border rounded-xl px-2 py-1"})]}),x.jsxs("div",{className:"flex flex-col flex-1",children:[x.jsx("label",{className:"font-medium",children:""}),x.jsx("input",{type:"time",value:at,onChange:ft=>rt(ft.target.value),className:"border rounded-xl px-2 py-1"})]})]}),x.jsxs("div",{className:"flex gap-4 mb-2",children:[x.jsxs("div",{className:"flex flex-col flex-1",children:[x.jsx("label",{className:"font-medium",children:"End: "}),x.jsx("input",{type:"date",value:ut,onChange:ft=>ht(ft.target.value),className:"border rounded-xl px-2 py-1"})]}),x.jsxs("div",{className:"flex flex-col flex-1",children:[x.jsx("label",{className:"font-medium",children:""}),x.jsx("input",{type:"time",value:vt,onChange:ft=>C(ft.target.value),className:"border rounded-xl px-2 py-1"})]})]}),x.jsx("div",{className:"mb-2 font-medium",children:"Day 2"}),x.jsxs("div",{className:"flex gap-4 mb-2",children:[x.jsxs("div",{className:"flex flex-col flex-1",children:[x.jsx("label",{className:"font-medium",children:"Start: "}),x.jsx("input",{type:"date",value:E,onChange:ft=>w(ft.target.value),className:"border rounded-xl px-2 py-1"})]}),x.jsxs("div",{className:"flex flex-col flex-1",children:[x.jsx("label",{className:"font-medium",children:""}),x.jsx("input",{type:"time",value:R,onChange:ft=>I(ft.target.value),className:"border rounded-xl px-2 py-1"})]})]}),x.jsxs("div",{className:"flex gap-4",children:[x.jsxs("div",{className:"flex flex-col flex-1",children:[x.jsx("label",{className:"font-medium",children:"End: "}),x.jsx("input",{type:"date",value:N,onChange:ft=>S(ft.target.value),className:"border rounded-xl px-2 py-1"})]}),x.jsxs("div",{className:"flex flex-col flex-1",children:[x.jsx("label",{className:"font-medium",children:""}),x.jsx("input",{type:"time",value:te,onChange:ft=>ee(ft.target.value),className:"border rounded-xl px-2 py-1"})]})]})]}),x.jsxs("div",{children:[x.jsx("h2",{className:"font-semibold text-lg mb-2",children:"4. "}),x.jsxs("div",{className:"flex gap-4 mb-2",children:[x.jsxs("div",{className:"flex flex-col flex-1",children:[x.jsx("label",{className:"font-medium",children:"Start: "}),x.jsx("input",{type:"date",value:X,onChange:ft=>lt(ft.target.value),className:"border rounded-xl px-2 py-1"})]}),x.jsxs("div",{className:"flex flex-col flex-1",children:[x.jsx("label",{className:"font-medium",children:""}),x.jsx("input",{type:"time",value:dt,onChange:ft=>Ut(ft.target.value),className:"border rounded-xl px-2 py-1"})]})]}),x.jsxs("div",{className:"flex gap-4",children:[x.jsxs("div",{className:"flex flex-col flex-1",children:[x.jsx("label",{className:"font-medium",children:"Finished: "}),x.jsx("input",{type:"date",value:j,onChange:ft=>nt(ft.target.value),className:"border rounded-xl px-2 py-1"})]}),x.jsxs("div",{className:"flex flex-col flex-1",children:[x.jsx("label",{className:"font-medium",children:""}),x.jsx("input",{type:"time",value:ot,onChange:ft=>it(ft.target.value),className:"border rounded-xl px-2 py-1"})]})]})]}),x.jsxs("div",{className:"flex justify-between mt-8 gap-4",children:[x.jsx("button",{onClick:Dt,className:"w-1/2 bg-gray-200 hover:bg-gray-300 text-gray-700 font-medium py-2 rounded-xl transition",children:" "}),x.jsx("button",{onClick:At,className:"w-1/2 bg-green-600 hover:bg-green-700 text-gray font-medium py-2 rounded-xl transition",children:" "})]})]})})})}function wV(){const[i,t]=H.useState(""),[n,s]=H.useState(""),[o,c]=H.useState(null),[d,p]=H.useState(null),_=dn(),v=L=>{L.target.files[0]&&c(L.target.files[0])},A=L=>{L.target.files[0]&&p(L.target.files[0])},M=()=>{window.history.back()},O=()=>{if(!i||!n||!o||!d){alert("");return}alert(""),_("/")};return x.jsx("div",{className:"fixed inset-0 flex items-center justify-center min-h-screen min-w-full bg-gradient-to-br from-blue-100 via-white to-blue-300",children:x.jsx("div",{className:"relative z-10 bg-white/90 backdrop-blur-md text-gray-800 shadow-2xl rounded-3xl p-10 w-full max-w-md text-center border border-blue-100 transform rotate-2 hover:rotate-0 transition-transform duration-500",children:x.jsxs("div",{className:"bg-white shadow-2xl rounded-3xl p-10 w-full text-gray-800 space-y-6",children:[x.jsx("h1",{className:"text-2xl font-bold text-green-600 text-center mb-6",children:" (Ready for return)"}),x.jsxs("div",{children:[x.jsx("label",{className:"block mb-1 font-medium",children:""}),x.jsx("input",{type:"date",value:i,onChange:L=>t(L.target.value),className:"w-full border border-gray-300 rounded-xl px-4 py-2 mb-2"}),x.jsx("label",{className:"block mb-1 font-medium",children:""}),x.jsx("input",{type:"time",value:n,onChange:L=>s(L.target.value),className:"w-full border border-gray-300 rounded-xl px-4 py-2"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block mb-1 font-medium",children:""}),x.jsx("input",{type:"file",accept:"image/*",onChange:v,className:"w-full border border-gray-300 rounded-xl px-4 py-2"}),o&&x.jsx("img",{src:URL.createObjectURL(o),alt:"air",className:"w-24 h-24 object-cover rounded-xl border mt-2 mx-auto"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block mb-1 font-medium",children:""}),x.jsx("input",{type:"file",accept:"image/*",onChange:A,className:"w-full border border-gray-300 rounded-xl px-4 py-2"}),d&&x.jsx("img",{src:URL.createObjectURL(d),alt:"return",className:"w-24 h-24 object-cover rounded-xl border mt-2 mx-auto"})]}),x.jsxs("div",{className:"flex justify-between mt-8 gap-4",children:[x.jsx("button",{onClick:M,className:"w-1/2 bg-gray-200 hover:bg-gray-300 text-gray-700 font-medium py-2 rounded-xl transition",children:" "}),x.jsx("button",{onClick:O,className:`w-1/2 bg-green-600 hover:bg-green-700 text-gray font-medium py-2 rounded-xl transition ${!i||!n||!o||!d?"opacity-50 cursor-not-allowed":""}`,disabled:!i||!n||!o||!d,children:" "})]})]})})})}function SV(){const[i,t]=H.useState(!1),[n,s]=H.useState(""),[o,c]=H.useState(""),d=dn(),p=ji(pi),_=async()=>{const v=localStorage.getItem("model"),A=localStorage.getItem("serial"),M=localStorage.getItem("state");if(!v||!A||!M){alert(" ");return}const O=`${v}_${A}_${M}`;try{await Ir(ki(p,"airData",O),{meeting:i,meetingDate:i?n:"",meetingTime:i?o:"",meetingStatus:i?"":""}),d("/corrective")}catch(L){alert(": "+L.message)}};return x.jsx("div",{className:"fixed inset-0 flex items-center justify-center min-h-screen min-w-full bg-gradient-to-br from-blue-100 via-white to-blue-300",children:x.jsx("div",{className:"relative z-10 bg-white/90 backdrop-blur-md text-gray-800 shadow-2xl rounded-3xl p-10 w-full max-w-md border border-blue-100 transform rotate-2 hover:rotate-0 transition-transform duration-500",children:x.jsxs("div",{className:"bg-white shadow-2xl rounded-3xl p-10 w-full max-w-md text-gray-800 space-y-6",children:[x.jsx("h1",{className:"text-2xl font-bold text-blue-600 text-center mb-2",children:"Status : "}),x.jsx("div",{className:"text-lg text-gray-700 mb-4",children:""}),x.jsxs("div",{className:"mb-5",children:[x.jsxs("label",{children:[x.jsx("input",{type:"checkbox",checked:i,onChange:v=>t(v.target.checked)})," ",""]}),i&&x.jsxs("div",{className:"mt-2",children:[x.jsx("input",{type:"date",value:n,onChange:v=>s(v.target.value),className:"mr-2"}),x.jsx("input",{type:"time",value:o,onChange:v=>c(v.target.value)})]})]}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 font-medium py-2 rounded-xl transition",onClick:()=>d(-1),children:""}),x.jsx("button",{className:"flex-1 bg-blue-600 hover:bg-blue-700 text-gray-700 font-medium py-2 rounded-xl transition",onClick:_,children:""})]})]})})})}function AV(){const[i,t]=H.useState(!1),[n,s]=H.useState(!1),[o,c]=H.useState(!1),d=dn(),p=ji(pi),_=async()=>{const M=localStorage.getItem("model"),O=localStorage.getItem("serial"),L=localStorage.getItem("state");if(!M||!O||!L){alert(" ");return}const U=`${M}_${O}_${L}`;let G="";n?G="":o&&(G="");try{await Ir(ki(p,"airData",U),{meetingDoneStatus:i?"":"",meetingResult:G}),n?d("/list"):o&&d("/reass")}catch($){alert(": "+$.message)}},v=M=>{s(M),M&&c(!1)},A=M=>{c(M),M&&s(!1)};return x.jsx("div",{className:"fixed inset-0 flex items-center justify-center min-h-screen min-w-full bg-gradient-to-br from-blue-100 via-white to-blue-300",children:x.jsx("div",{className:"relative z-10 bg-white/90 backdrop-blur-md text-gray-800 shadow-2xl rounded-3xl p-10 w-full max-w-md border border-blue-100 transform rotate-2 hover:rotate-0 transition-transform duration-500",children:x.jsxs("div",{className:"bg-white shadow-2xl rounded-3xl p-10 w-full max-w-md text-gray-800 space-y-6",children:[x.jsx("h2",{className:"text-2xl font-bold text-center mb-2 text-blue-700",children:"Status : "}),x.jsx("div",{className:"text-lg text-gray-700 mb-4",children:""}),x.jsx("div",{className:"mb-5",children:x.jsxs("label",{children:[x.jsx("input",{type:"checkbox",checked:i,onChange:M=>t(M.target.checked)})," ",""]})}),x.jsx("div",{className:"font-medium text-lg mb-2",children:""}),x.jsx("div",{className:"mb-5",children:x.jsxs("label",{children:[x.jsx("input",{type:"checkbox",checked:n,onChange:M=>v(M.target.checked)})," ",""]})}),x.jsx("div",{className:"mb-8",children:x.jsxs("label",{children:[x.jsx("input",{type:"checkbox",checked:o,onChange:M=>A(M.target.checked)})," ",""]})}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 font-medium py-2 rounded-xl transition",onClick:()=>d(-1),children:""}),x.jsx("button",{className:`flex-1 bg-blue-600 hover:bg-blue-700 text-gray-700 font-medium py-2 rounded-xl transition ${n||o?"":"opacity-50 cursor-not-allowed"}`,onClick:_,disabled:!(n||o),children:""})]})]})})})}function RV(){const[i,t]=H.useState(["","","","",""]),n=dn(),s=ji(pi);H.useEffect(()=>{(async()=>{const _=localStorage.getItem("model"),v=localStorage.getItem("serial"),A=localStorage.getItem("state");if(!_||!v||!A)return;const M=`${_}_${v}_${A}`;try{await Ir(ki(s,"airData",M),{repairList:i})}catch{}})()},[i,s]);const o=(p,_)=>{const v=[...i];v[p]=_,t(v)},c=()=>{t([...i,""])},d=()=>{localStorage.setItem("repairList",JSON.stringify(i)),n("/edit")};return x.jsx("div",{className:"fixed inset-0 flex items-center justify-center min-h-screen min-w-full bg-gradient-to-br from-blue-100 via-white to-blue-300",children:x.jsxs("div",{className:"relative z-10 bg-white/90 backdrop-blur-md text-gray-800 shadow-2xl rounded-3xl p-10 w-full max-w-md border border-blue-100",children:[x.jsx("h1",{className:"text-2xl font-bold text-blue-600 text-center mb-2",children:"Status : "}),x.jsx("div",{className:"text-2xl font-bold text-blue-700 mb-",children:" : "}),x.jsx("h2",{className:"text-2xl font-bold text-center mb-6 text-blue-700",children:""}),x.jsxs("div",{className:"space-y-4 mb-6",children:[i.map((p,_)=>x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs("span",{className:"font-medium",children:[_+1,"."]}),x.jsx("input",{type:"text",value:p,onChange:v=>o(_,v.target.value),className:"flex-1 border rounded px-2 py-1",placeholder:` ${_+1}`})]},_)),x.jsx("button",{type:"button",className:"w-full bg-gray-100 hover:bg-gray-200 text-blue-700 font-medium py-2 rounded-xl transition",onClick:c,children:"+ "})]}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 font-medium py-2 rounded-xl transition",onClick:()=>n(-1),children:""}),x.jsx("button",{className:"flex-1 bg-blue-600 hover:bg-blue-700 text-gray-700 font-medium py-2 rounded-xl transition",onClick:d,children:""})]})]})})}function xV(){const i=dn(),[t,n]=H.useState([]),[s,o]=H.useState([]);H.useEffect(()=>{const p=JSON.parse(localStorage.getItem("repairList"))||[];n(p),o(p.map(()=>""))},[]);const c=(p,_)=>{const v=[...s];v[p]=_,o(v)},d=async()=>{const p=localStorage.getItem("model"),_=localStorage.getItem("serial"),v=localStorage.getItem("state");if(!p||!_||!v){alert(" ");return}const A=ji(pi),M=`${p}_${_}_${v}`;try{await Ir(ki(A,"airData",M),{repairCheckResults:s}),i("/recheck")}catch(O){alert(": "+O.message)}};return x.jsx("div",{className:"fixed inset-0 flex items-center justify-center min-h-screen min-w-full bg-gradient-to-br from-blue-100 via-white to-blue-300",children:x.jsxs("div",{className:"relative z-10 bg-white/90 backdrop-blur-md text-gray-800 shadow-2xl rounded-3xl p-10 w-full max-w-md border border-blue-100",children:[x.jsx("h2",{className:"text-2xl font-bold text-center mb-2 text-blue-700",children:"Status : "}),x.jsx("div",{className:"text-lg text-gray-700 mb-4",children:""}),x.jsxs("div",{className:"flex flex-row gap-8 mb-6",children:[x.jsx("div",{className:"flex-1",children:x.jsx("div",{className:"font-bold mb-2 text-left",children:""})}),x.jsxs("div",{className:"flex-1",children:[x.jsx("div",{className:"font-bold mb-2 text-right",children:""}),x.jsx("div",{className:"space-y-4",children:t.map((p,_)=>x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("span",{className:"flex-1",children:p}),x.jsxs("label",{className:"flex items-center gap-2",children:[x.jsx("input",{type:"radio",name:`result-${_}`,value:"pass",checked:s[_]==="pass",onChange:()=>c(_,"pass"),className:"accent-green-600"}),x.jsx("span",{className:"text-sm",children:"Pass"})]}),x.jsxs("label",{className:"flex items-center gap-2",children:[x.jsx("input",{type:"radio",name:`result-${_}`,value:"ng",checked:s[_]==="ng",onChange:()=>c(_,"ng"),className:"accent-red-600"}),x.jsx("span",{className:"text-sm",children:"NG"})]})]},_))})]})]}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 font-medium py-2 rounded-xl transition",onClick:()=>i(-1),children:""}),x.jsx("button",{className:"flex-1 bg-blue-600 hover:bg-blue-700 text-gray-700 font-medium py-2 rounded-xl transition",onClick:d,children:""})]})]})})}function IV(){const[i,t]=H.useState(""),[n,s]=H.useState(""),[o,c]=H.useState(""),d=dn(),p=_=>{_.preventDefault(),i===""||n===""?c(""):i!=="PEVB"||n!=="1150"?c("Username  Password "):(c(""),alert(""),d("/"))};return x.jsx("div",{className:"fixed inset-0 flex items-center justify-center min-h-screen min-w-full bg-gradient-to-br from-blue-100 via-white to-blue-300",children:x.jsxs("div",{className:"relative z-10 bg-white/90 backdrop-blur-md text-gray-800 shadow-2xl rounded-3xl p-10 w-full max-w-md text-center border border-blue-100 transform rotate-2 hover:rotate-0 transition-transform duration-500",children:[x.jsx("h2",{className:"text-2xl font-bold mb-6 text-blue-700",children:""}),x.jsxs("form",{onSubmit:p,className:"space-y-5",children:[x.jsx("div",{children:x.jsx("input",{type:"text",placeholder:"Username",value:i,onChange:_=>t(_.target.value),className:"w-full px-4 py-3 rounded-xl border border-blue-200 focus:outline-none focus:ring-2 focus:ring-blue-400"})}),x.jsx("div",{children:x.jsx("input",{type:"password",placeholder:"Password",value:n,onChange:_=>s(_.target.value),className:"w-full px-4 py-3 rounded-xl border border-blue-200 focus:outline-none focus:ring-2 focus:ring-blue-400"})}),o&&x.jsx("div",{className:"text-red-500 text-sm",children:o}),x.jsx("button",{type:"submit",className:"bg-gradient-to-r from-blue-500 to-blue-700 hover:from-blue-600 hover:to-blue-800 text-white px-6 py-3 rounded-2xl w-full transition shadow-lg font-semibold text-lg focus:outline-none focus:ring-2 focus:ring-blue-400",children:""})]}),x.jsx("div",{className:"mt-8 text-xs text-gray-300",children:" 2025 Auditor App. Powered by React & Vite."})]})})}function CV(){const i=dn(),[t,n]=gr.useState(""),[s,o]=gr.useState(""),[c,d]=gr.useState(""),[p,_]=gr.useState(""),[v,A]=gr.useState(null),M=t.trim()&&s.trim()&&c.trim()&&p,O=ji(pi),L=async()=>{if(!M){alert("");return}const U=`${t}_${s}_${c}`,G=ki(O,"airData",U),$=await i4(G);if(!$.exists()){alert(""),A(null);return}const Q=$.data();if(A(Q),p==="2")if(Q.inspectionResult==="ok"){i("/reass");return}else if(Q.inspectionResult==="ng"){i("/statusprob");return}else{alert(" Inspector 2");return}i("/result")};return x.jsx("div",{className:"fixed inset-0 flex items-center justify-center min-h-screen min-w-full bg-gradient-to-br from-blue-100 via-white to-blue-300",children:x.jsx("div",{className:"relative z-10 bg-white/90 backdrop-blur-md text-gray-800 shadow-2xl rounded-3xl p-10 w-full max-w-md text-center border border-blue-100 transform rotate-2 hover:rotate-0 transition-transform duration-500",children:x.jsxs("div",{className:"bg-white shadow-2xl rounded-3xl p-10 w-full max-w-md text-gray-800 space-y-6",children:[x.jsx("h1",{className:"text-2xl font-bold text-blue-600 text-center",children:""}),x.jsxs("div",{children:[x.jsx("label",{className:"block mb-1 font-medium",children:" (Model Name)"}),x.jsx("input",{type:"text",value:t,onChange:U=>n(U.target.value),placeholder:" FTKC18XV2S",className:"w-full border border-gray-300 rounded-xl px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block mb-1 font-medium",children:"Serial Number"}),x.jsx("input",{type:"text",value:s,onChange:U=>o(U.target.value),placeholder:" E0000001",className:"w-full border border-gray-300 rounded-xl px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block mb-1 font-medium",children:" (State)"}),x.jsxs("select",{value:c,onChange:U=>d(U.target.value),className:"w-full border border-gray-300 rounded-xl px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400",children:[x.jsx("option",{value:"",children:"--  --"}),x.jsx("option",{value:"Pilot",children:"Pilot"}),x.jsx("option",{value:"First Mass",children:"First Mass"}),x.jsx("option",{value:"Mass",children:"Mass"}),x.jsx("option",{value:"Advanced",children:"Advanced"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block mb-1 font-medium",children:" Inspector"}),x.jsxs("select",{value:p,onChange:U=>_(U.target.value),className:"w-full border border-gray-300 rounded-xl px-4 py-2 focus:outline-none focus:ring-2 focus:ring-purple-400",children:[x.jsx("option",{value:"",children:"--  Inspector --"}),x.jsx("option",{value:"1",children:"Inspector 1"}),x.jsx("option",{value:"2",children:"Inspector 2"})]})]}),x.jsx("button",{onClick:L,disabled:!M,className:`w-full bg-blue-600 hover:bg-blue-700 text-gray-700 font-medium py-3 rounded-xl transition ${M?"":"opacity-50 cursor-not-allowed"}`,children:" "}),v&&p==="1"&&x.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-xl border border-blue-200 text-left",children:[x.jsx("div",{className:"font-bold text-blue-700 mb-2",children:":"}),x.jsx("pre",{className:"text-xs text-gray-800",children:JSON.stringify(v,null,2)}),x.jsx("button",{onClick:()=>i("/result"),className:"w-full mt-4 bg-green-600 hover:bg-green-700 text-gray-700 font-medium py-2 rounded-xl transition",children:""})]}),x.jsx("button",{onClick:()=>i("/next"),className:"w-full bg-gray-200 hover:bg-gray-300 text-gray-700 font-medium py-2 rounded-xl transition",children:" "})]})})})}function DV(){const[i,t]=H.useState(""),[n,s]=H.useState(""),[o,c]=H.useState(""),d=dn(),p=ji(pi),_=i&&n.trim()&&o,v=async U=>{const G=localStorage.getItem("model"),$=localStorage.getItem("serial"),Q=localStorage.getItem("state");if(!G||!$||!Q)return;const at=`${G}_${$}_${Q}`;try{await Ir(ki(p,"airData",at),U)}catch{}},A=async U=>{t(U),await v({recheckResult:U})},M=async U=>{s(U.target.value),await v({inspector2:U.target.value})},O=async U=>{c(U.target.value),await v({recheckTime:U.target.value})},L=()=>{if(!_){alert("");return}i==="pass"?d("/next"):i==="reject"&&d("/reass")};return x.jsx("div",{className:"fixed inset-0 flex items-center justify-center min-h-screen min-w-full bg-gradient-to-br from-blue-100 via-white to-blue-300",children:x.jsx("div",{className:"relative z-10 bg-white/90 backdrop-blur-md text-gray-800 shadow-2xl rounded-3xl p-10 w-full max-w-md text-center border border-blue-100 transform rotate-2 hover:rotate-0 transition-transform duration-500",children:x.jsxs("div",{className:"bg-white shadow-2xl rounded-3xl p-10 w-full max-w-md text-gray-800 space-y-6",children:[x.jsx("h1",{className:"text-2xl font-bold text-blue-600 text-center mb-6",children:"Status : "}),x.jsxs("div",{className:"flex gap-8 justify-center mb-4",children:[x.jsxs("label",{className:"flex items-center gap-2",children:[x.jsx("input",{type:"radio",name:"result",value:"pass",checked:i==="pass",onChange:()=>A("pass"),className:"accent-green-600 w-5 h-5"}),x.jsx("span",{children:"Pass"})]}),x.jsxs("label",{className:"flex items-center gap-2",children:[x.jsx("input",{type:"radio",name:"result",value:"reject",checked:i==="reject",onChange:()=>A("reject"),className:"accent-red-600 w-5 h-5"}),x.jsx("span",{children:"Reject"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block mb-1 font-medium",children:""}),x.jsx("input",{type:"text",value:n,onChange:M,placeholder:"",className:"w-full border border-gray-300 rounded-xl px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block mb-1 font-medium",children:""}),x.jsx("input",{type:"datetime-local",value:o,onChange:O,className:"w-full border border-gray-300 rounded-xl px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),x.jsx("button",{onClick:L,disabled:!_,className:`w-full bg-blue-600 hover:bg-blue-700 text-gray-700 font-medium py-3 rounded-xl transition ${_?"":"opacity-50 cursor-not-allowed"}`,children:" "}),x.jsx("button",{onClick:()=>d(-1),className:"w-full bg-gray-200 hover:bg-gray-300 text-gray-700 font-medium py-2 rounded-xl transition mt-2",children:" "})]})})})}function NV(){const[i,t]=H.useState("wait"),n=dn(),s=ji(pi),o=()=>{t(_=>_==="send"?"wait":"send")},c=()=>{t(_=>_==="fixed"?"wait":"fixed")},d=async()=>{const _=localStorage.getItem("model"),v=localStorage.getItem("serial"),A=localStorage.getItem("state");if(!_||!v||!A){alert(" ");return}const M=`${_}_${v}_${A}`;let O="";i==="send"?O="":i==="fixed"&&(O="  ");try{await Ir(ki(s,"airData",M),{repairStatus:O}),i==="send"?n("/edit2"):i==="fixed"&&n("/recheck")}catch(L){alert(": "+L.message)}};let p="";return i==="send"&&(p=""),i==="fixed"&&(p="  "),x.jsx("div",{className:"fixed inset-0 flex items-center justify-center min-h-screen min-w-full bg-gradient-to-br from-blue-100 via-white to-blue-300",children:x.jsxs("div",{className:"relative z-10 bg-white/90 backdrop-blur-md text-gray-800 shadow-2xl rounded-3xl p-10 w-full max-w-md text-center border border-blue-100",children:[x.jsx("h2",{className:"text-2xl font-bold text-blue-700 mb-6",children:"Status : "}),x.jsx("div",{className:"mb-8 text-lg font-semibold",children:p}),x.jsxs("div",{className:"flex flex-col gap-4 mb-8",children:[x.jsx("button",{onClick:o,className:`w-full bg-blue-500 hover:bg-blue-700 text-gray-700 font-medium py-3 rounded-xl transition ${i==="send"?"ring-2 ring-blue-400":""}`,children:""}),x.jsx("button",{onClick:c,className:`w-full bg-green-500 hover:bg-green-700 text-gray-700 font-medium py-3 rounded-xl transition ${i==="fixed"?"ring-2 ring-green-400":""}`,children:"  "})]}),i!=="wait"&&x.jsx("button",{onClick:d,className:"w-full bg-blue-600 hover:bg-blue-700 text-gray-700 font-medium py-3 rounded-xl transition",children:""}),x.jsx("button",{onClick:()=>n(-1),className:"w-full bg-gray-200 hover:bg-gray-300 text-gray-700 font-medium py-2 rounded-xl transition mt-4",children:" "})]})})}function OV(){const[i,t]=H.useState(!1),[n,s]=H.useState(""),[o,c]=H.useState(""),d=dn(),p=ji(pi),_=i?n.trim()&&o:!0,v=async U=>{const G=localStorage.getItem("model"),$=localStorage.getItem("serial"),Q=localStorage.getItem("state");if(!G||!$||!Q)return;const at=`${G}_${$}_${Q}`;try{await Ir(ki(p,"airData",at),U)}catch{}},A=async()=>{t(!0),await v({receiveStatus:""})},M=async U=>{s(U.target.value),await v({receiver:U.target.value})},O=async U=>{c(U.target.value),await v({receiveTime:U.target.value})},L=()=>{if(i&&!_){alert("");return}d("/listre")};return x.jsx("div",{className:"fixed inset-0 flex items-center justify-center min-h-screen min-w-full bg-gradient-to-br from-blue-100 via-white to-blue-300",children:x.jsxs("div",{className:"relative z-10 bg-white/90 backdrop-blur-md text-gray-800 shadow-2xl rounded-3xl p-10 w-full max-w-md text-center border border-blue-100",children:[x.jsx("h2",{className:"text-2xl font-bold text-blue-700 mb-6",children:"Status : "}),x.jsx("div",{className:"mb-8 text-lg font-semibold",children:"  "}),!i&&x.jsx("button",{onClick:A,className:"w-full bg-blue-500 hover:bg-blue-700 text-gray-700 font-medium py-3 rounded-xl transition mb-6",children:""}),i&&x.jsxs("div",{className:"space-y-4 mb-6",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block mb-1 font-medium",children:""}),x.jsx("input",{type:"text",value:n,onChange:M,className:"w-full border border-gray-300 rounded-xl px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:""})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block mb-1 font-medium",children:""}),x.jsx("input",{type:"datetime-local",value:o,onChange:O,className:"w-full border border-gray-300 rounded-xl px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400"})]})]}),x.jsx("button",{onClick:L,disabled:i&&!_,className:`w-full bg-blue-600 hover:bg-blue-700 text-gray-700 font-medium py-3 rounded-xl transition ${i&&!_?"opacity-50 cursor-not-allowed":""}`,children:""}),x.jsx("button",{onClick:()=>d(-1),className:"w-full bg-gray-200 hover:bg-gray-300 text-gray-700 font-medium py-2 rounded-xl transition mt-4",children:" "})]})})}function MV(){return x.jsx(Z2,{children:x.jsxs(I2,{children:[x.jsx(hn,{path:"/user",element:x.jsx(IV,{})}),x.jsx(hn,{path:"/",element:x.jsx(oR,{})}),x.jsx(hn,{path:"/next",element:x.jsx(lR,{})}),x.jsx(hn,{path:"/add",element:x.jsx(P9,{})}),x.jsx(hn,{path:"/result",element:x.jsx(sM,{})}),x.jsx(hn,{path:"/reass",element:x.jsx(EV,{})}),x.jsx(hn,{path:"/rectime",element:x.jsx(TV,{})}),x.jsx(hn,{path:"/final",element:x.jsx(wV,{})}),x.jsx(hn,{path:"/statusprob",element:x.jsx(SV,{})}),x.jsx(hn,{path:"/corrective",element:x.jsx(AV,{})}),x.jsx(hn,{path:"/list",element:x.jsx(RV,{})}),x.jsx(hn,{path:"/listre",element:x.jsx(xV,{})}),x.jsx(hn,{path:"/search",element:x.jsx(CV,{})}),x.jsx(hn,{path:"/recheck",element:x.jsx(DV,{})}),x.jsx(hn,{path:"/edit",element:x.jsx(NV,{})}),x.jsx(hn,{path:"/edit2",element:x.jsx(OV,{})})]})})}window.location.pathname!=="/user"&&window.location.replace("/user");LA.createRoot(document.getElementById("root")).render(x.jsx(gr.StrictMode,{children:x.jsx(MV,{})}));
